<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>概述 | uni-app官网</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="shortcut icon" type="image/x-icon" href="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/icon.png?v=1556263038788">
    <script src="/js/redirect.js"></script>
    <script src="https://hm.baidu.com/hm.js?fe3b7a223fc08c795f0f4b6350703e6f"></script>
    <script src="/miku-delivery-1.2.1.js"></script>
    <script src="/js/miku.js?1744718058721&amp;v=1744718058721&amp;version=1744718058721"></script>
    <meta name="description" content="uni-app,uniCloud,serverless,概述,注意事项：,技术要求,开始使用,判断平台,类型转换,类型转换表,其他转换,概念,类对象,实例对象,操作对象的属性方法,开始写NJS,Android,iOS,常用API,API on Android,plus.android.importC">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="keywords" content="serverless,云开发,数字天堂,前端开发,web开发,小程序开发,跨平台,跨平台开发,跨端开发,混合开发,app开发,多端开发,开发工具,HTML5,vue,react,native,rn,flutter,weex,cordova,微信小程序,阿里小程序,支付宝小程序,百度小程序,头条小程序,抖音小程序,QQ小程序,快应用,流应用,云函数">
    
    <link rel="preload" href="/2025-04-15_19-54-18/assets/css/0.styles.732c0d1e.css" as="style"><link rel="preload" href="/2025-04-15_19-54-18/assets/js/app.328260a9.js" as="script"><link rel="preload" href="/2025-04-15_19-54-18/assets/js/vendors~layout-Layout.e5b3d2d6.js" as="script"><link rel="preload" href="/2025-04-15_19-54-18/assets/js/530.e186095e.js" as="script"><link rel="preload" href="/2025-04-15_19-54-18/assets/js/docs/tutorial/native-js.597c0627.js" as="script"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/api/index.c5167d6c.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/component/index.6cc70751.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/index.de6cbb5e.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/plugin/index.f38c9f08.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/tutorial/index.236c1114.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/uni-ad/index.12b8f22c.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/uni-app-x/index.209e9776.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/uniCloud/index.7e3525b6.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/worktile/auto/hbuilderx-extension/index.7af15828.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/worktile/index.6d85f6a8.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/layout-Layout.c7c28f93.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/layout-NotFound.b6830249.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/layout-SimpleLayout.acd4c796.js">
    <link rel="stylesheet" href="/2025-04-15_19-54-18/assets/css/0.styles.732c0d1e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="main-navbar"><a href="https://www.dcloud.io" class="home-link"><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/logo.png" alt="uni-app官网" class="logo"> <img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni-app.png" alt="uni-app官网" class="title-logo can-hide"></a> <div class="main-navbar-links can-hide"><div class="main-navbar-item active"><a href="javascript:;">uni-app</a></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://doc.dcloud.net.cn/uni-app-x/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  uni-app x
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://doc.dcloud.net.cn/uniCloud/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  uniCloud
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://hx.dcloud.net.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HBuilder
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://nativesupport.dcloud.net.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  uni 小程序 sdk
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="/uni-ad/" class="nav-link">
  uni-ad广告
</a></div></div></div> <div class="mobile-main-navbar"><div class="mobile-links_mobile"><a href="javascript:;" class="mobile-links__btn">uni-app</a></div> <div class="mobile-links__panel"><div class="main-navbar-item active"><a href="javascript:;">uni-app</a></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://doc.dcloud.net.cn/uni-app-x/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  uni-app x
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://doc.dcloud.net.cn/uniCloud/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  uniCloud
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://hx.dcloud.net.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HBuilder
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://nativesupport.dcloud.net.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  uni 小程序 sdk
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="/uni-ad/" class="nav-link">
  uni-ad广告
</a></div></div></div></div> <div class="dropdown-language"><div style="display: flex;align-items: center;"><span>简体中文</span> <svg t="1629441415944" viewBox="0 20 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3713" width="16" height="16" class="icon"><path d="M508.025406 655.446718c-14.45307 0-28.183486-5.781228-39.023289-15.898376l-231.249118-231.249118c-10.117149-10.117149-10.117149-26.015526 0-36.132675s26.015526-10.117149 36.132675 0l231.249118 231.249118c2.16796 2.16796 4.335921 2.16796 5.781228 0l231.971771-231.971771c10.117149-10.117149 26.015526-10.117149 35.410021 0 10.117149 10.117149 10.117149 26.015526 0 36.132674l-231.971771 231.971772c-9.394495 10.117149-23.124912 15.898377-38.300635 15.898376z" p-id="3714"></path></svg></div> <!----></div> <div class="links" style="top:0px;z-index:100;"><!----> <div id="docsearch"><button type="button" aria-label="搜索文档" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><svg width="20" height="20" viewBox="0 0 20 20" class="DocSearch-Search-Icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg> <span class="DocSearch-Button-Placeholder">搜索文档</span></span> <span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></span> <span class="DocSearch-Button-Key">K</span></span></button></div></div></div> <div class="sub-navbar"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  介绍
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link router-link-active">
  教程
</a></div><div class="nav-item"><a href="/collocation/pages.html" class="nav-link">
  全局文件
</a></div><div class="nav-item"><a href="/component/" class="nav-link">
  组件
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/plugin/" class="nav-link">
  插件
</a></div><div class="nav-item"><a href="/worktile/" class="nav-link">
  工程化
</a></div><div class="nav-item"><a href="https://doc.dcloud.net.cn/uni-app-x/uts/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  UTS
  <span link="https://doc.dcloud.net.cn/uni-app-x/uts/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他规范" class="dropdown-title"><span class="title">其他规范</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他规范" class="mobile-dropdown-title"><span class="title">其他规范</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.html5plus.org/doc/h5p.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  App扩展规范 HTML5 Plus
  <span link="http://www.html5plus.org/doc/h5p.html"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信小程序
  <span link="https://developers.weixin.qq.com/miniprogram/dev/framework/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.alipay.com/mini/developer/getting-started" target="_blank" rel="noopener noreferrer" class="nav-link external">
  支付宝小程序
  <span link="https://docs.alipay.com/mini/developer/getting-started"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://smartprogram.baidu.com/docs/develop/tutorial/codedir/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度小程序
  <span link="https://smartprogram.baidu.com/docs/develop/tutorial/codedir/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/develop/component/introduction/basic-component" target="_blank" rel="noopener noreferrer" class="nav-link external">
  抖音小程序
  <span link="https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/develop/component/introduction/basic-component"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://open.feishu.cn/document/uYjL24iN/uUDNzUjL1QzM14SN0MTN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  飞书小程序
  <span link="https://open.feishu.cn/document/uYjL24iN/uUDNzUjL1QzM14SN0MTN"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.dingtalk.com/document/app/introduction-to-dingtalk-mini-programs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  钉钉小程序
  <span link="https://developers.dingtalk.com/document/app/introduction-to-dingtalk-mini-programs"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://q.qq.com/wiki/develop/miniprogram/frame/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ小程序
  <span link="https://q.qq.com/wiki/develop/miniprogram/frame/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://mp.kuaishou.com/docs/develop/frame/config/conf_appjson.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  快手小程序
  <span link="https://mp.kuaishou.com/docs/develop/frame/config/conf_appjson.html"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://mp-docs.jd.com/doc/forst/second/-1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  京东小程序
  <span link="https://mp-docs.jd.com/doc/forst/second/-1"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.huawei.com/consumer/cn/doc/quickApp-References/quickapp-filestructure-0000001074564510" target="_blank" rel="noopener noreferrer" class="nav-link external">
  华为快应用
  <span link="https://developer.huawei.com/consumer/cn/doc/quickApp-References/quickapp-filestructure-0000001074564510"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://mp.360.cn/doc/miniprogram/dev/#/view" target="_blank" rel="noopener noreferrer" class="nav-link external">
  360小程序
  <span link="https://mp.360.cn/doc/miniprogram/dev/#/view"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://weexapp.com/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Weex
  <span link="https://weexapp.com/zh/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides-V5/atomic-service-V5" target="_blank" rel="noopener noreferrer" class="nav-link external">
  鸿蒙元服务
  <span link="https://developer.huawei.com/consumer/cn/doc/atomic-guides-V5/atomic-service-V5"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://miniapp.xiaohongshu.com/docsV2/doc/DC026595" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小红书小程序
  <span link="https://miniapp.xiaohongshu.com/docsV2/doc/DC026595"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dcloudio/uni-app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span link="https://github.com/dcloudio/uni-app"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></nav> <div class="mobile-sub-navbar"><div class="subnavbar__item"><a href="javascript:;">教程</a></div></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  介绍
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link router-link-active">
  教程
</a></div><div class="nav-item"><a href="/collocation/pages.html" class="nav-link">
  全局文件
</a></div><div class="nav-item"><a href="/component/" class="nav-link">
  组件
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/plugin/" class="nav-link">
  插件
</a></div><div class="nav-item"><a href="/worktile/" class="nav-link">
  工程化
</a></div><div class="nav-item"><a href="https://doc.dcloud.net.cn/uni-app-x/uts/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  UTS
  <span link="https://doc.dcloud.net.cn/uni-app-x/uts/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他规范" class="dropdown-title"><span class="title">其他规范</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他规范" class="mobile-dropdown-title"><span class="title">其他规范</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.html5plus.org/doc/h5p.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  App扩展规范 HTML5 Plus
  <span link="http://www.html5plus.org/doc/h5p.html"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信小程序
  <span link="https://developers.weixin.qq.com/miniprogram/dev/framework/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.alipay.com/mini/developer/getting-started" target="_blank" rel="noopener noreferrer" class="nav-link external">
  支付宝小程序
  <span link="https://docs.alipay.com/mini/developer/getting-started"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://smartprogram.baidu.com/docs/develop/tutorial/codedir/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度小程序
  <span link="https://smartprogram.baidu.com/docs/develop/tutorial/codedir/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/develop/component/introduction/basic-component" target="_blank" rel="noopener noreferrer" class="nav-link external">
  抖音小程序
  <span link="https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/develop/component/introduction/basic-component"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://open.feishu.cn/document/uYjL24iN/uUDNzUjL1QzM14SN0MTN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  飞书小程序
  <span link="https://open.feishu.cn/document/uYjL24iN/uUDNzUjL1QzM14SN0MTN"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.dingtalk.com/document/app/introduction-to-dingtalk-mini-programs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  钉钉小程序
  <span link="https://developers.dingtalk.com/document/app/introduction-to-dingtalk-mini-programs"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://q.qq.com/wiki/develop/miniprogram/frame/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ小程序
  <span link="https://q.qq.com/wiki/develop/miniprogram/frame/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://mp.kuaishou.com/docs/develop/frame/config/conf_appjson.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  快手小程序
  <span link="https://mp.kuaishou.com/docs/develop/frame/config/conf_appjson.html"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://mp-docs.jd.com/doc/forst/second/-1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  京东小程序
  <span link="https://mp-docs.jd.com/doc/forst/second/-1"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.huawei.com/consumer/cn/doc/quickApp-References/quickapp-filestructure-0000001074564510" target="_blank" rel="noopener noreferrer" class="nav-link external">
  华为快应用
  <span link="https://developer.huawei.com/consumer/cn/doc/quickApp-References/quickapp-filestructure-0000001074564510"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://mp.360.cn/doc/miniprogram/dev/#/view" target="_blank" rel="noopener noreferrer" class="nav-link external">
  360小程序
  <span link="https://mp.360.cn/doc/miniprogram/dev/#/view"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://weexapp.com/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Weex
  <span link="https://weexapp.com/zh/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides-V5/atomic-service-V5" target="_blank" rel="noopener noreferrer" class="nav-link external">
  鸿蒙元服务
  <span link="https://developer.huawei.com/consumer/cn/doc/atomic-guides-V5/atomic-service-V5"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://miniapp.xiaohongshu.com/docsV2/doc/DC026595" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小红书小程序
  <span link="https://miniapp.xiaohongshu.com/docsV2/doc/DC026595"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dcloudio/uni-app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span link="https://github.com/dcloudio/uni-app"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></nav>  <ul class="sidebar-links"><li><a href="/tutorial/" aria-current="page" class="sidebar-link data-no-emphasize">概念简介</a></li><li><a href="/tutorial/project.html" class="sidebar-link data-no-emphasize">工程</a></li><li><a href="/tutorial/page.html" class="sidebar-link data-no-emphasize">页面</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>互相引用</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/tutorial/syntax-js.html" class="sidebar-link data-no-emphasize">js 语法</a></li><li><a href="/tutorial/syntax-css.html" class="sidebar-link data-no-emphasize">css 语法</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue 语法</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/tutorial/typescript-subject.html" class="sidebar-link">ts/typescript 专题</a></li><li><a href="/tutorial/syntax-jsx.html" class="sidebar-link data-no-emphasize">jsx/tsx 语法</a></li><li><a href="https://doc.dcloud.net.cn/uni-app-x/uts/" target="_blank" rel="noopener noreferrer" class="sidebar-link">uts语法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>编译器（条件编译）</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>web 专题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>安卓/iOS专题</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/tutorial/nvue-outline" class="sidebar-heading clickable open"><span>nvue 原生渲染</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tutorial/nvue-outline.html" class="sidebar-link data-no-emphasize">综述</a></li><li><a href="/tutorial/nvue-css.html" class="sidebar-link data-no-emphasize">样式</a></li><li><a href="/tutorial/nvue-api.html" class="sidebar-link data-no-emphasize">API</a></li><li><a href="/tutorial/nvue-event.html" class="sidebar-link">事件</a></li></ul></section></li><li><a href="/tutorial/use-html5plus.html" class="sidebar-link">HTML5Plus</a></li><li><a href="/tutorial/native-js.html" aria-current="page" class="active sidebar-link data-no-emphasize">Native.js</a></li><li><a href="/tutorial/renderjs.html" class="sidebar-link data-no-emphasize">renderjs</a></li><li><a href="https://nativesupport.dcloud.net.cn/NativePlugin/README" target="_blank" rel="noopener noreferrer" class="sidebar-link">原生插件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li><a href="/tutorial/app-useragent.html" class="sidebar-link">App的User Agent</a></li><li><a href="/tutorial/app-blureffect.html" class="sidebar-link">App使用高斯模糊</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>App 打包配置</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>其它配置</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/tutorial/app-env.html" class="sidebar-link data-no-emphasize">App 云端打包环境</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>App 本地打包</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/tutorial/app-security.html" class="sidebar-link data-no-emphasize">App 加固</a></li><li><a href="/tutorial/app-privacy-detect.html" class="sidebar-link data-no-emphasize">App 隐私合规检测</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>App 应用市场上架</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="https://doc.dcloud.net.cn/uniCloud/upgrade-center.html" target="_blank" rel="noopener noreferrer" class="sidebar-link">App升级<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>鸿蒙App专题</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/tutorial/mp-harmony/intro.html" class="sidebar-link data-no-emphasize">鸿蒙元服务专题</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序专题</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/tutorial/beian.html" class="sidebar-link data-no-emphasize">备案专题</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>运行和调试</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/tutorial/snippet.html" class="sidebar-link">高效开发技巧</a></li><li><a href="/tutorial/err-spec.html" class="sidebar-link data-no-emphasize">uni错误规范</a></li><li><a href="/tutorial/performance.html" class="sidebar-link data-no-emphasize">性能优化专题</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>安全专题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/tutorial/i18n" class="sidebar-heading clickable"><span>国际化专题</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/tutorial/darkmode.html" class="sidebar-link data-no-emphasize">暗黑主题</a></li><li><a href="/tutorial/version.html" class="sidebar-link data-no-emphasize">版本</a></li></ul>  <div class="contact-box"><a href="https://unicloud.dcloud.net.cn" target="_blank" class="contact-item"><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/cloud@2x.jpg" width="20" height="20"> <div class="contact-smg"><div>uniCloud Web控制台</div></div></a><a href="https://ext.dcloud.net.cn/" target="_blank" class="contact-item"><img src="https://img-cdn-aliyun.dcloud.net.cn/dev/img/ext/favicon.png" width="20" height="20"> <div class="contact-smg"><div>插件市场</div></div></a><a href="https://ask.dcloud.net.cn/explore/" target="_blank" class="contact-item"><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/d@2x.png" width="20" height="20"> <div class="contact-smg"><div>ask问答社区</div></div></a><a href="https://uniad.dcloud.net.cn" target="_blank" class="contact-item"><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uniad-520.png" width="20" height="20"> <div class="contact-smg"><div>uni-ad</div></div></a><a href="https://tongji.dcloud.net.cn/" target="_blank" class="contact-item"><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni-tongji-icon.png" width="20" height="20"> <div class="contact-smg"><div>uni统计</div></div></a><div class="contact-item"><img src="https://web-assets.dcloud.net.cn/unidoc/zh/git-1.png" width="20" height="20"> <div class="contact-smg"><div>
					代码仓库：
					<a href="https://gitee.com/dcloud/uni-app" target="_blank">Gitee</a>
						、
					<a href="http://github.com/dcloudio/uni-app" target="_blank">GitHub</a>
						
					</div></div></div><div class="contact-item"><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/chat-icon-r.png" width="20" height="20"> <div class="contact-smg"><div>
					uni-app的uni-im交流群：
					<a href="https://im.dcloud.net.cn/#/?joinGroup=658160eb3e585b555acebfd7" target="_blank">点击加入</a>
						
					</div></div></div> <div class="contact-item"><img src="https://web-assets.dcloud.net.cn/unidoc/zh/qq_logo_blue.png" width="20" height="20"> <div class="contact-smg"><div>官方QQ交流群</div> <div>
					群35：713420817（2000人已满）
				</div><div>
					群34：530305531（2000人已满）
				</div><div>
					群33：498071674（2000人已满）
				</div><div>
					群32：166188631（2000人已满）
				</div><div>
					群31：567471669（2000人已满）
				</div><div>
					群30：371046920（2000人已满）
				</div><div>
					群29：202965481（2000人已满）
				</div><div>
					群28：166188776（2000人已满）
				</div><div>
					群27：811363410（2000人已满）
				</div><div>
					群26：147867597（2000人已满）
				</div><div>
					群25：165297000（2000人已满）
				</div><div>
					群24：672494800（2000人已满）
				</div><div>
					群23：599958679（2000人已满）
				</div><div>
					群22：687186952（2000人已满）
				</div><div>
					群21：717019120（2000人已满）
				</div><div>
					群20：165796402（2000人已满）
				</div><div>
					群19：165657124（2000人已满）
				</div><div>
					群18：698592271（2000人已满）
				</div><div>
					群17：951348804（2000人已满）
				</div><div>
					群16：719211033（2000人已满）
				</div><div>
					群15：516984120（2000人已满）
				</div><div>
					群14：465953250（2000人已满）
				</div><div>
					群13：699478442（2000人已满）
				</div><div>
					群12：884860657（2000人已满）
				</div><div>
					群11：296811328（2000人已满）
				</div><div>
					群10：959059626（2000人已满）
				</div><div>
					群9：775128777（2000人已满）
				</div><div>
					群8：695442854（2000人已满）
				</div><div>
					群7：942061423（2000人已满）
				</div><div>
					群6：697264024（2000人已满）
				</div><div>
					群5：731951419（2000人已满）
				</div><div>
					群4：942702595（2000人已满）
				</div><div>
					群3：773794803（2000人已满）
				</div><div>
					群2：901474938（2000人已满）
				</div><div>
					群1：531031261（2000人已满）
				</div></div></div> <div class="contact-item"><img src="https://web-assets.dcloud.net.cn/unidoc/zh/weixin@2x.png" width="20" height="20"> <div class="contact-smg"><div>关注微信公众号</div> <img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/weixin.jpg" width="90" height="90"></div></div></div></aside> <main class="page"> <div class="table-of-contents" data-v-9fc101e6><div class="vuepress-toc-item-top vuepress-toc-h2" data-v-9fc101e6><a href="/tutorial/native-js.html#概述" title="概述" style="padding-left:0rem;" data-v-9fc101e6><span data-v-9fc101e6>概述</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h2" data-v-9fc101e6><a href="/tutorial/native-js.html#注意事项" title="注意事项：" style="padding-left:0rem;" data-v-9fc101e6><span data-v-9fc101e6>注意事项：</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h3" data-v-9fc101e6><a href="/tutorial/native-js.html#技术要求" title="技术要求" style="padding-left:1rem;" data-v-9fc101e6><span data-v-9fc101e6>技术要求</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h2" data-v-9fc101e6><a href="/tutorial/native-js.html#开始使用" title="开始使用" style="padding-left:0rem;" data-v-9fc101e6><span data-v-9fc101e6>开始使用</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h3" data-v-9fc101e6><a href="/tutorial/native-js.html#判断平台" title="判断平台" style="padding-left:1rem;" data-v-9fc101e6><span data-v-9fc101e6>判断平台</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h3" data-v-9fc101e6><a href="/tutorial/native-js.html#类型转换" title="类型转换" style="padding-left:1rem;" data-v-9fc101e6><span data-v-9fc101e6>类型转换</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6><a href="/tutorial/native-js.html#类型转换表" title="类型转换表" style="padding-left:2rem;" data-v-9fc101e6><span data-v-9fc101e6>类型转换表</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h3" data-v-9fc101e6><a href="/tutorial/native-js.html#其他转换" title="其他转换" style="padding-left:1rem;" data-v-9fc101e6><span data-v-9fc101e6>其他转换</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h3" data-v-9fc101e6><a href="/tutorial/native-js.html#概念" title="概念" style="padding-left:1rem;" data-v-9fc101e6><span data-v-9fc101e6>概念</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6><a href="/tutorial/native-js.html#类对象" title="类对象" style="padding-left:2rem;" data-v-9fc101e6><span data-v-9fc101e6>类对象</span></a></div> <span class="expand-button" data-v-9fc101e6>
    展示全部
    <span class="uni-icons uniui-bottom" data-v-9fc101e6></span></span></div> <div class="theme-default-content content__default"><h2 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h2> <p>Native.js技术，简称NJS，是一种将手机操作系统的原生对象转义，映射为JS对象，在JS里编写原生代码的技术。
如果说Node.js把js扩展到服务器世界，那么Native.js则把js扩展到手机App的原生世界。
HTML/JS/Css全部语法只有7万多，而原生语法有几十万，Native.js大幅提升了HTML5的能力。
NJS突破了浏览器的功能限制，也不再需要像Hybrid那样由原生语言开发插件才能补足浏览器欠缺的功能。
NJS编写的代码，最终需要在HBuilder里打包发行为App安装包，或者在支持Native.js技术的浏览器里运行。目前Native.js技术不能在普通手机浏览器里直接运行。</p> <ul><li>NJS大幅扩展了HTML5的能力范围，原本只有原生或Hybrid App的原生插件才能实现的功能如今可以使用JS实现。</li> <li>NJS大幅提升了App开发效率，将iOS、Android、Web的3个工程师组队才能完成的App，变为1个web工程师就搞定。</li> <li>NJS不再需要配置原生开发和编译环境，调试、打包均在HBuilder里进行。没有mac和xcode一样可以开发iOS应用。</li> <li>如果不熟悉原生API也没关系，我们汇总了很多NJS的代码示例，复制粘贴就可以用。<a href="http://ask.dcloud.net.cn/article/114" target="_blank" rel="noopener noreferrer">http://ask.dcloud.net.cn/article/114<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ul> <p>再次强调，Native.js不是一个js库，不需要下载引入到页面的script中，也不像nodejs那样有单独的运行环境，Native.js的运行环境是集成在5+runtime里的，使用HBuilder打包的app或流应用都可以直接使用Native.js。</p> <h2 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项：</h2> <p>Uni-app不支持Native.js执行UI相关操作的API调用及webview相关API调用。将失效无法正常使用。Uni-app不推荐使用Native.js</p> <h3 id="技术要求"><a href="#技术要求" class="header-anchor">#</a> 技术要求</h3> <p>由于NJS是直接调用Native API，需要对Native API有一定了解，知道所需要的功能调用了哪些原生API，能看懂原生代码并参考原生代码修改为JS代码。
否则只能直接copy别人写好的NJS代码。</p> <h2 id="开始使用"><a href="#开始使用" class="header-anchor">#</a> 开始使用</h2> <h3 id="判断平台"><a href="#判断平台" class="header-anchor">#</a> 判断平台</h3> <p>Native API具有平台依赖性，所以需要通过以下方式判断当前的运行平台：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">judgePlatform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">switch</span> <span class="token punctuation">(</span> plus<span class="token punctuation">.</span>os<span class="token punctuation">.</span>name <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token string">&quot;Android&quot;</span><span class="token operator">:</span>
		<span class="token comment">// Android平台: plus.android.*</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token string">&quot;iOS&quot;</span><span class="token operator">:</span>
		<span class="token comment">// iOS平台: plus.ios.*</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">default</span><span class="token operator">:</span>
		<span class="token comment">// 其它平台</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h3> <p>在NJS中调用Native API或从Native API返回数据到NJS时会自动转换数据类型。</p> <h4 id="类型转换表"><a href="#类型转换表" class="header-anchor">#</a> 类型转换表</h4> <table><thead><tr><th style="text-align:left;">类型</th> <th style="text-align:right;">Objective-C</th> <th style="text-align:center;">Java</th> <th style="text-align:center;">JavaScript</th></tr></thead> <tbody><tr><td style="text-align:left;">基本数据</td> <td style="text-align:right;">byte/short/int/long/float/double/...</td> <td style="text-align:center;">byte/short/int/long/float/double/...</td> <td style="text-align:center;">Number</td></tr> <tr><td style="text-align:left;">字符</td> <td style="text-align:right;">char</td> <td style="text-align:center;">char</td> <td style="text-align:center;">String</td></tr> <tr><td style="text-align:left;">字符串</td> <td style="text-align:right;">NSString/@&quot;&quot;</td> <td style="text-align:center;">String/&quot;&quot;</td> <td style="text-align:center;">String</td></tr> <tr><td style="text-align:left;">数组</td> <td style="text-align:right;">@[1,2,3]/NSArray</td> <td style="text-align:center;">new XXX[]</td> <td style="text-align:center;">InstanceObject</td></tr> <tr><td style="text-align:left;">类</td> <td style="text-align:right;">@interface</td> <td style="text-align:center;">class</td> <td style="text-align:center;">ClassObject</td></tr> <tr><td style="text-align:left;">对象（实例）</td> <td style="text-align:right;">*</td> <td style="text-align:center;">*</td> <td style="text-align:center;">InstanceObject</td></tr> <tr><td style="text-align:left;">空对象</td> <td style="text-align:right;">nil</td> <td style="text-align:center;">null</td> <td style="text-align:center;">null</td></tr> <tr><td style="text-align:left;">其它</td> <td style="text-align:right;">Protocol</td> <td style="text-align:center;">Interface</td> <td style="text-align:center;">Object(JSON)</td></tr></tbody></table> <h3 id="其他转换"><a href="#其他转换" class="header-anchor">#</a> 其他转换</h3> <ul><li>Android原生应用的主Activity对象 转为plus.android.runtimeMainActivity()
Android的主Activity对象是启动应用时自动创建的，不是代码创建，此时通过plus.android.runtimeMainActivity()方法获取该Activity对象</li> <li>Objective-C方法冒号剔除
[pos setPositionX:(int)x Y:(int)y;]  转为 pos.setPositionXY(x,y);
OC语法中方法的定义格式为:
“(返回值类型) 函数名: (参数1类型) 形参1 参数2名称: (参数2类型) 形参2”
方法的完整名称为: “函数名:参数2名称:”。
如:“（void）setPositionX:(int)x Y:(int)y;”，方法的完整名称为“setPositionX:Y:”，调用时语法为：“[pos setPositionX:x Y:y];”。
在JS语法中函数名称不能包含“:”字符，所以OC对象的方法名映射成NJS对象方法名时将其中的“:”字符自动删除，上面方法名映射为“setPositionXY”，在NJS调用的语法为：“pos.setPositionXY(x,y);”。</li> <li>文件路径转换
Web开发里使用的image/1.png是该web工程的相对路径，而原生API中经常需要使用绝对路径，比如/sdcard/apptest/image/1.png，此时使用这个扩展方法来完成转换：plus.io.convertLocalFileSystemURL(&quot;image/1.png&quot;)</li></ul> <h3 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h3> <h4 id="类对象"><a href="#类对象" class="header-anchor">#</a> 类对象</h4> <p>由于JavaScript中本身没有类的概念，为了使用Native API层的类，在NJS中引入了类对象（ClassObject）的概念，用于对Native中的类进行操作，如创建类的实例对象、访问类的静态属性、调用类的静态方法等。其原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Interface ClassObject <span class="token punctuation">{</span>
    <span class="token keyword">function</span> Object <span class="token function">plusGetAttribute</span><span class="token punctuation">(</span> String name <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token keyword">void</span> <span class="token function">plusSetAttribute</span><span class="token punctuation">(</span> String name<span class="token punctuation">,</span> Object value <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>获取类对象</strong>
在iOS平台我们可以通过plus.ios.importClass(name)方法导入类对象，参数name为类的名称；在Android平台我们可以通过plus.android.importClass(name)方法导入类对象，其参数name为类的名称，必须包含完整的命名空间。</p> <p><strong>示例：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// iOS平台导入NSNotificationCenter类</span>
<span class="token keyword">var</span> NSNotificationCenter <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;NSNotificationCenter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Android平台导入Intent类</span>
<span class="token keyword">var</span> Intent <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;android.content.Intent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>获取类对象后，可以通过类对象“.”操作符获取类的静态常量属性、调用类的静态方法，类的静态非常量属性需通过plusGetAttribute、plusSetAttribute方法操作。</p> <h4 id="实例对象"><a href="#实例对象" class="header-anchor">#</a> 实例对象</h4> <p>在JavaScript中，所有对象都是Object，为了操作Native层类的实例对象，在NJS中引入了实例对象（InstanceObject）的概念，用于对Native中的对象进行操作，如操作对象的属性、调用对象的方法等。其原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Interface InstanceObject <span class="token punctuation">{</span>
    <span class="token keyword">function</span> Object <span class="token function">plusGetAttribute</span><span class="token punctuation">(</span> String name <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token keyword">void</span> <span class="token function">plusSetAttribute</span><span class="token punctuation">(</span> String name<span class="token punctuation">,</span> Object value <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>获取实例对象</strong>
有两种方式获取类的实例对象，一种是调用Native API返回值获取，另一种是通过new操作符来创建导入的类对象的实例，如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// iOS平台导入NSDictionary类</span>
<span class="token keyword">var</span> NSDictionary <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;NSDictionary&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建NSDictionary的实例对象</span>
<span class="token keyword">var</span> ns <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NSDictionary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Android平台导入Intent类</span>
<span class="token keyword">var</span> Intent <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;android.content.Intent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建Intent的实例对象</span>
<span class="token keyword">var</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>获取实例对象后，可以通过实例对象“.”操作符获取对象的常量属性、调用对象的成员方法，实例对象的非常量属性则需通过plusGetAttribute、plusSetAttribute方法操作。</p> <h4 id="操作对象的属性方法"><a href="#操作对象的属性方法" class="header-anchor">#</a> 操作对象的属性方法</h4> <ul><li><p>常量属性
获取对象后就可以通过“.”操作符获取对象的常量属性，如果是类对象则获取的是类的静态常量属性，如果是实例对象则获取的是对象的成员常量属性。</p></li> <li><p>非常量属性
如果Native层对象的属性值在原生环境下被更改，此时使用“.”操作符获取到对应NJS对象的属性值就可能不是实时的属性值，而是该Native层对象被映射为NJS对象那一刻的属性值。
为获取获取Native层对象的实时属性值，需调用NJS对象的plusGetAttribute(name)方法，参数name为属性的名称，返回值为属性的值。调用NJS对象的plusSetAttribute(name,value)方法设置Native层对象的非常量属性值，参数name为属性的名称，value为要设置新的属性值。
<code>注意：使用plusGetAttribute(name)方法也可以获取Native层对象的常量属性值，但不如直接使用“.”操作符来获取性能高。</code></p></li> <li><p>方法
获取对象后可以通过“.”操作符直接调用Native层方法，如果是类对象调用的是Native层类的静态方法，如果是实例对象调用的是Native层对象的成员方法。
<code>注意：在iOS平台由于JS语法的原因，Objective-C方法名称中的“:”字符转成NJS对象的方法名称后将会被忽略，因此在NJS中调用的方法名需去掉所有“：”字符。</code></p></li> <li><p>类的继承
Objective-C和Java中类如果存在继承自基类，在NJS中对应的对象会根据继承关系递归将所有基类的公有方法一一换成NJS对象的方法，所有基类的公有属性也可以通过其plusGetAttribute、plusSetAttribute方法访问。</p></li></ul> <h3 id="开始写njs"><a href="#开始写njs" class="header-anchor">#</a> 开始写NJS</h3> <p>使用NJS调用Native API非常简单，基本步骤如下：</p> <ol><li>导入要使用到的类；</li> <li>创建类的实例对象（或者调用类的静态方法创建）；</li> <li>调用实例对象的方法；</li></ol> <p>以下例子使用NJS调用iOS和Android的原生弹出提示框（类似但不同于js的alert）。</p> <h4 id="android"><a href="#android" class="header-anchor">#</a> Android</h4> <p>以下代码在Android平台展示调用Native API显示系统提示框。
首先是Android原生 Java代码，用于比对参考：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AlertDialog</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token comment">// 创建提示框构造对象，Builder是AlertDialog的内部类。参数this指代Android的主Activity对象，该对象启动应用时自动生成</span>
<span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span> dlg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置提示框标题</span>
dlg<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;自定义标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置提示框内容</span>
dlg<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">&quot;使用NJS的原生弹出框，可自定义弹出框的标题、按钮&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置提示框按钮</span>
dlg<span class="token punctuation">.</span><span class="token function">setPositiveButton</span><span class="token punctuation">(</span><span class="token string">&quot;确定(或者其他字符)&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 显示提示框</span>
dlg<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
</code></pre></div><p>Native.js代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * 在Android平台通过NJS显示系统提示框
 */</span>
<span class="token keyword">function</span> <span class="token function">njsAlertForAndroid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// 导入AlertDialog类</span>
	<span class="token keyword">var</span> AlertDialog <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;android.app.AlertDialog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 创建提示框构造对象，构造函数需要提供程序全局环境对象，通过plus.android.runtimeMainActivity()方法获取</span>
	<span class="token keyword">var</span> dlg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span>plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">runtimeMainActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置提示框标题</span>
	dlg<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;自定义标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置提示框内容</span>
	dlg<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">&quot;使用NJS的原生弹出框，可自定义弹出框的标题、按钮&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置提示框按钮</span>
	dlg<span class="token punctuation">.</span><span class="token function">setPositiveButton</span><span class="token punctuation">(</span><span class="token string">&quot;确定(或者其他字符)&quot;</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 显示提示框</span>
	dlg<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
</code></pre></div><p><code>注意：NJS代码中创建提示框构造对象要求传入程序全局环境对象，可通过plus.android.runtimeMainActivity()方法获取应用的主Activity对象，它是HTML5+应用运行期自动创建的程序全局环境对象。</code></p> <p>Android设备上运行效果图：
<img src="http://www.dcloud.io/docs/a/njs/android_alert.png" alt="Android Native.js示例运行效果图">
`注意：其实HTML5+规范已经封装过原生提示框消息API：plus.ui.alert( message, alertCB, title, buttonCapture)。此处NJS的示例仅为了开发者方便理解，实际使用时调用plus.ui.alert更简单，性能也更高。**</p> <h4 id="ios"><a href="#ios" class="header-anchor">#</a> iOS</h4> <p>以下代码在iOS平台展示调用Native API显示系统提示对话框。
iOS原生Objective-C代码，用于比对参考：</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>UIKit<span class="token operator">/</span>UIKit<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>
<span class="token comment">//...</span>
<span class="token comment">// 创建UIAlertView类的实例对象</span>
UIAlertView <span class="token operator">*</span>view <span class="token operator">=</span> <span class="token punctuation">[</span>UIAlertView alloc<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 设置提示对话上的内容</span>
<span class="token punctuation">[</span>view initWithTitle<span class="token punctuation">:</span><span class="token string">@&quot;自定义标题&quot;</span> <span class="token comment">// 提示框标题</span>
    message<span class="token punctuation">:</span><span class="token string">@&quot;使用NJS的原生弹出框，可自定义弹出框的标题、按钮&quot;</span> <span class="token comment">// 提示框上显示的内容</span>
    delegate<span class="token punctuation">:</span>nil <span class="token comment">// 点击提示框后的通知代理对象，nil类似js的null，意为不设置</span>
    cancelButtonTitle<span class="token punctuation">:</span><span class="token string">@&quot;确定(或者其他字符)&quot;</span> <span class="token comment">// 提示框上取消按钮的文字</span>
    otherButtonTitles<span class="token punctuation">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 提示框上其它按钮的文字，设置为nil表示不显示</span>
<span class="token comment">// 调用show方法显示提示对话框，在OC中使用[]语法调用对象的方法</span>
<span class="token punctuation">[</span>view show<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
</code></pre></div><p>Native.js代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * 在iOS平台通过NJS显示系统提示框
 */</span>
<span class="token keyword">function</span> <span class="token function">njsAlertForiOS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// 导入UIAlertView类</span>
	<span class="token keyword">var</span> UIAlertView <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;UIAlertView&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 创建UIAlertView类的实例对象</span>
	<span class="token keyword">var</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UIAlertView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置提示对话上的内容</span>
	view<span class="token punctuation">.</span><span class="token function">initWithTitlemessagedelegatecancelButtonTitleotherButtonTitles</span><span class="token punctuation">(</span><span class="token string">&quot;自定义标题&quot;</span> <span class="token comment">// 提示框标题</span>
	    <span class="token punctuation">,</span> <span class="token string">&quot;使用NJS的原生弹出框，可自定义弹出框的标题、按钮&quot;</span> <span class="token comment">// 提示框上显示的内容</span>
	    <span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token comment">// 操作提示框后的通知代理对象，暂不设置</span>
	    <span class="token punctuation">,</span> <span class="token string">&quot;确定(或者其他字符)&quot;</span> <span class="token comment">// 提示框上取消按钮的文字</span>
	    <span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 提示框上其它按钮的文字，设置为null表示不显示</span>
	<span class="token comment">// 调用show方法显示提示对话框，在JS中使用()语法调用对象的方法</span>
	view<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
</code></pre></div><p><code>注意：在OC语法中方法的定义格式为: “(返回值类型) 函数名: (参数1类型) 形参1 参数2名称: (参数2类型) 形参2” 方法的完整名称为: “函数名:参数2名称:”。 如:“（void）setPositionX:(int)x Y:(int)y;”，方法的完整名称为“setPositionX:Y:” 调用时语法为：“[pos setPositionX:x Y:y];”。 在JS语法中函数名称不能包含“:”字符，所以OC对象的方法名映射成NJS对象方法名时将其中的“:”字符自动删除，上面方法名映射为“setPositionXY”，在NJS调用的语法为：“pos.setPositionXY(x,y);”。</code>
iOS设备上运行效果图：
<img src="http://www.dcloud.io/docs/a/njs/ios_alert.png" alt="iOS Native.js示例运行效果图">
`注意：其实HTML5+规范已经封装过原生提示框消息API：plus.ui.alert( message, alertCB, title, buttonCapture)。此处NJS的示例仅为了开发者方便理解，实际使用时调用plus.ui.alert更简单、性能也更高。</p> <p>在HBuilder自带的Hello H5+模板应用中“Native.JS”（plus/njs.html）页面有完整的源代码，可真机运行查看效果。</p> <h2 id="常用api"><a href="#常用api" class="header-anchor">#</a> 常用API</h2> <h3 id="api-on-android"><a href="#api-on-android" class="header-anchor">#</a> API on Android</h3> <p>为了能更好的理解NJS调用Java Native API，我们在Android平台用Java实现以下测试类，将在会后面API说明中的示例来调用。
文件NjsHello.java代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">io<span class="token punctuation">.</span>dcloud</span><span class="token punctuation">;</span>

<span class="token comment">// 定义类NjsHello</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NjsHello</span> <span class="token punctuation">{</span>
	<span class="token comment">// 静态常量</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">CTYPE</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token comment">// 静态变量</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> count<span class="token punctuation">;</span>
	<span class="token comment">// 成员常量</span>
	<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">BIRTHDAY</span> <span class="token operator">=</span> <span class="token string">&quot;2013-01-13&quot;</span><span class="token punctuation">;</span>
	<span class="token comment">// 成员变量</span>
	<span class="token class-name">String</span> name<span class="token punctuation">;</span> <span class="token comment">//定义属性name</span>
	<span class="token class-name">NjsHelloEvent</span> observer<span class="token punctuation">;</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateName</span><span class="token punctuation">(</span> <span class="token class-name">String</span> newname <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//定义方法updateName</span>
		name <span class="token operator">=</span> newname<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setEventObserver</span><span class="token punctuation">(</span> <span class="token class-name">NjsHelloEvent</span> newobserver <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		observer <span class="token operator">=</span> newobserver<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//定义方法test</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;My name is: %s&quot;</span><span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
		observer<span class="token punctuation">.</span><span class="token function">onEventInvoked</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;Static count is:%d&quot;</span><span class="token punctuation">,</span> count <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">static</span><span class="token punctuation">{</span>  <span class="token comment">// 初始化类的静态变量</span>
		<span class="token class-name">NjsHello</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>文件NjsHelloEvent.java代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">io<span class="token punctuation">.</span>dcloud</span><span class="token punctuation">;</span>

<span class="token comment">// 定义接口NjsHelloEvent</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">NjsHelloEvent</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onEventInvoked</span><span class="token punctuation">(</span> <span class="token class-name">String</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>注：此NjsHello示例仅为了说明原生代码与NJS代码之间的映射关系，以下示例代码无法直接在HBuilder里真机运行，必须在以后HBuilder开放自定义打包后方可把NjsHello类打入app并被NJS调用。实际使用中，这种需要并非必要，大多数情况可以通过直接写NJS代码调用操作系统API，而无需由原生语言二次封装类供JS调用。</code></p> <h4 id="plus-android-importclass"><a href="#plus-android-importclass" class="header-anchor">#</a> plus.android.importClass</h4> <p>导入Java类对象，方法原型如下：</p> <div class="language-js extra-class"><pre class="language-js"><code>ClassObject plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span> String classname <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导入类对象后，就可以通过“.”操作符直接调用对象（类对象/实例对象）的常量和方法。
classname：要导入的Java类名，必须是完整的命名空间（使用&quot;.&quot;分割），如果指定的类名不存在，则导入类失败，返回null。</p> <p><code>注意：导入类对象可以方便的使用“.”操作符来调用对象的属性和方法，但也会消耗较多的系统资源。因此导入过多的类对象会影响性能，此时可以使用“高级API”中提供的方法在不导入类对象的情况下调用Native API。</code></p> <p><strong>示例：</strong></p> <ol><li>导入类对象
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    <span class="token class-name">NjsHello</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建NjsHello的实例对象</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="classobject"><a href="#classobject" class="header-anchor">#</a> ClassObject</h4> <p>调用plus.android.importClass()方法导入类并返回ClassObject类对象，通过该类对象，可以创建类的实例对象。在Java中类的静态方法会转换成NJS类对象的方法，可通过类对象的“.”操作符调用；类的静态常量会转换为NJS类对象的属性，可通过类对象的“.”操作符访问；类的静态属性则需通过NJS类对象的plusGetAttribute、plusSetAttribute方法操作。
<strong>示例：</strong></p> <ol><li>导入类后获取类的静态常量属性
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取类的静态常量属性</span>
    <span class="token keyword">int</span> type <span class="token operator">=</span> <span class="token class-name">NjsHello</span><span class="token punctuation">.</span><span class="token constant">CTYPE</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Final's value: %d&quot;</span><span class="token punctuation">,</span> type <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Final's value: 1”</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取类的静态常量属性</span>
<span class="token keyword">var</span> type <span class="token operator">=</span> NjsHello<span class="token punctuation">.</span><span class="token constant">CTYPE</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Final's value: &quot;</span><span class="token operator">+</span>type <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“NjsHello Final's value: 1”</span>
<span class="token comment">// ...</span>
</code></pre></div><ol start="2"><li>导入类后调用类的静态方法
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 调用类的静态方法</span>
    <span class="token class-name">NjsHello</span><span class="token punctuation">.</span><span class="token function">testCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用类的静态方法</span>
NjsHello<span class="token punctuation">.</span><span class="token function">testCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre></div><h5 id="classobject-plusgetattribute"><a href="#classobject-plusgetattribute" class="header-anchor">#</a> ClassObject.plusGetAttribute</h5> <p>获取类对象的静态属性值，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object classobject<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span> String name <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导入类对象后，就可以调用其plusGetAttribute方法获取类的静态属性值。</p> <ul><li>name：要获取的静态属性名称，如果指定的属性名称不存在，则获取属性失败，返回null。</li></ul> <p><code>注意：如果导入的类对象中存在“plusGetAttribute”同名的静态方法，则必须通过plus.android.invoke()方法调用。</code></p> <p>示例：</p> <ol><li>导入类后获取类的静态属性值
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取类的静态属性</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token class-name">NjsHello</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Static's value: %d&quot;</span><span class="token punctuation">,</span> count <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Static's value: 0”</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取类的静态属性</span>
<span class="token keyword">var</span> count <span class="token operator">=</span> NjsHello<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;count&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Static's value: &quot;</span><span class="token operator">+</span>count <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“NjsHello Static's value: 0”</span>
<span class="token comment">// ...</span>
</code></pre></div><h5 id="classobject-plussetattribute"><a href="#classobject-plussetattribute" class="header-anchor">#</a> ClassObject.plusSetAttribute</h5> <p>设置类对象的静态属性值，方法原型如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">void</span> classobject<span class="token punctuation">.</span><span class="token function">plusSetAttribute</span><span class="token punctuation">(</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Object</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导入类对象后，就可以调用其plusSetAttribute方法设置类的静态属性值。</p> <ul><li>name：要设置的静态属性名称，如果指定的属性名称不存在，则设置属性失败，返回null。</li> <li>value：要设置的属性值，其类型必须与Native层类对象的静态属性区配，否则设置操作不生效，将保留以前的值。</li></ul> <p><code>注意：如果导入的类对象中存在“plusSetAttribute”同名的静态方法，则必须通过plus.android.invoke()方法调用。</code></p> <p>示例：</p> <ol><li>导入类后设置类的静态属性值
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 设置类的静态属性值</span>
    <span class="token class-name">NjsHello</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Static's value: %d&quot;</span><span class="token punctuation">,</span> <span class="token class-name">NjsHello</span><span class="token punctuation">.</span>count <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Static's value: 2”</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置类的静态属性值</span>
NjsHello<span class="token punctuation">.</span><span class="token function">plusSetAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;count&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Static's value: &quot;</span><span class="token operator">+</span>NjsHello<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;count&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“NjsHello Static's value: 2”</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="instanceobject"><a href="#instanceobject" class="header-anchor">#</a> InstanceObject</h4> <p>NJS中实例对象与Java中的对象对应，调用plus.android.importClass()方法导入类后，通过new操作符可创建该类的实例对象，或直接调用plus.android.newObject方法创建类的实例对象，也可通过调用Native API返回实例对象。在Java中对象的方法会转换成NJS实例对象的方法，可通过实例对象的“.”操作符调用；对象的常量属性会转换NJS实例对象的属性，可通过实例对象的“.”操作符访问。对象的非常量属性则必须通过NJS实例对象的plusGetAttribute、plusSetAttribute方法操作。
示例：</p> <ol><li>导入类创建实例对象，调用对象的方法
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建NjsHello的实例对象</span>
    <span class="token class-name">NjsHello</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 调用对象的方法</span>
    hello<span class="token punctuation">.</span><span class="token function">updateName</span><span class="token punctuation">(</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建NjsHello的实例对象</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用对象的方法</span>
hello<span class="token punctuation">.</span><span class="token function">updateName</span><span class="token punctuation">(</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre></div><ol start="2"><li>导入类创建实例对象，获取对象的常量属性
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建NjsHello的实例对象</span>
    <span class="token class-name">NjsHello</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 访问对象的常量属性</span>
    <span class="token class-name">String</span> birthday <span class="token operator">=</span> hello<span class="token punctuation">.</span><span class="token constant">BIRTHDAY</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object Final's value: %s&quot;</span><span class="token punctuation">,</span> birthday <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Object Final's value: 2013-01-13”</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建NjsHello的实例对象</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 访问对象的常量属性</span>
<span class="token keyword">var</span> birthday <span class="token operator">=</span> hello<span class="token punctuation">.</span><span class="token constant">BIRTHDAY</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object Final's value: &quot;</span><span class="token operator">+</span>birthday <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“NjsHello Object Final's value: 2013-01-13”</span>
<span class="token comment">// ...</span>
</code></pre></div><h5 id="instanceobject-plusgetattribute"><a href="#instanceobject-plusgetattribute" class="header-anchor">#</a> InstanceObject.plusGetAttribute</h5> <p>获取实例对象的属性值，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object instancebject<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span> String name <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>获取实例对象后，就可以调用其plusGetAttribute方法获取对象的属性值。
name：要获取对象的属性名称，如果指定的属性名称不存在，则获取属性失败，返回null。</p> <p><code>注意：如果实例对象中存在“plusGetAttribute”同名的方法，则必须通过plus.android.invoke()方法调用。</code></p> <p>示例：</p> <ol><li>导入类创建实例对象，获取对象的属性值
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    <span class="token class-name">NjsHello</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    hello<span class="token punctuation">.</span><span class="token function">updateName</span><span class="token punctuation">(</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取其name属性值</span>
    <span class="token class-name">String</span> name <span class="token operator">=</span> hello<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object's name: %s&quot;</span><span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hello<span class="token punctuation">.</span><span class="token function">updateName</span><span class="token punctuation">(</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取其name属性值</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> hello<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;name&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object's name: &quot;</span><span class="token operator">+</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
<span class="token comment">// ...</span>
</code></pre></div><h5 id="instanceobject-plussetattribute"><a href="#instanceobject-plussetattribute" class="header-anchor">#</a> InstanceObject.plusSetAttribute</h5> <p>设置类对象的静态属性值，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">void</span> instanceobject<span class="token punctuation">.</span><span class="token function">plusSetAttribute</span><span class="token punctuation">(</span> String name<span class="token punctuation">,</span> Object value <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导入类对象后，就可以调用其plusSetAttribute方法设置类的静态属性值。</p> <ul><li>name：要设置的静态属性名称，如果指定的属性名称不存在，则设置属性失败，返回null。</li> <li>value：要设置的属性值，其类型必须与Native层类对象的静态属性区配，否则设置操作不生效，将保留以前的值。</li></ul> <p><code>注意：如果导入的类对象中存在“plusSetAttribute”同名的静态方法，则必须通过plus.android.invoke()方法调用。</code></p> <p>示例：</p> <ol><li>导入类创建实例对象，设置对象的属性值
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    <span class="token class-name">NjsHello</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置其name属性值</span>
    hello<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Tester&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object's name: %s&quot;</span><span class="token punctuation">,</span> hello<span class="token punctuation">.</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> Hello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置其name属性值</span>
hello<span class="token punctuation">.</span><span class="token function">plusSetAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object's name: &quot;</span><span class="token operator">+</span>hello<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="plus-android-implements"><a href="#plus-android-implements" class="header-anchor">#</a> plus.android.implements</h4> <p>在Java中可以通过定义新类并实现Interface的接口，并创建出新类对象作为其它接口的参数，在NJS中则可快速创建对应的Interface对象，方法原型如下：
Object plus.android.implements( String name, Object obj );</p> <p>此方法创建Native层中Java的接口实现对象，作为调用其它Native API的参数。</p> <ul><li>name：接口的名称，必须是完整的命名空间（使用&quot;.&quot;分割），如果不存在此接口，则创建接口实现对象失败，返回null。</li> <li>obj：JSON对象类型，接口实现方法的定义，JSON对象中key值为接口方法的名称；value值为Function，方法参数必须与接口中方法定义的参数区配。</li></ul> <p>示例：</p> <ol><li>Test类中实现接口NjsHelloEvent的方法，并调用NjsHello对象的test方法触发接口中函数的运行。
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHelloEvent</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token comment">// Test类实现NjsHelloEvent接口</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token keyword">implements</span> <span class="token class-name">NjsHelloEvent</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    <span class="token class-name">NjsHello</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 调用updateName方法</span>
    hello<span class="token punctuation">.</span><span class="token function">updateName</span><span class="token punctuation">(</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置监听对象</span>
    hello<span class="token punctuation">.</span><span class="token function">setEventObserver</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 调用test方法，触发接口事件</span>
    hello<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 触发onEventInvoked函数运行</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">// 实现接口NjsHelloEvent的onEventInvoked方法</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onEventInvoked</span><span class="token punctuation">(</span> <span class="token class-name">String</span> name <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;Invoked Object's name is: %s&quot;</span><span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 实现接口“NjsHelloEvent”对象</span>
<span class="token keyword">var</span> hevent <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">implements</span><span class="token punctuation">(</span> <span class="token string">&quot;io.dcloud.NjsHelloEvent&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;onEventInvoked&quot;</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;Invoked Object’s name: &quot;</span><span class="token operator">+</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“Invoked Object’s name: Tester”</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用updateName方法</span>
hello<span class="token punctuation">.</span><span class="token function">updateName</span><span class="token punctuation">(</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置监听对象</span>
hello<span class="token punctuation">.</span><span class="token function">setEventObserver</span><span class="token punctuation">(</span> hevent <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用test方法，触发代理事件</span>
hello<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 触发上面定义的匿名函数运行</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="plus-android-runtimemainactivity"><a href="#plus-android-runtimemainactivity" class="header-anchor">#</a> plus.android.runtimeMainActivity</h4> <p>获取运行期环境主Activity实例对象，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>InstanceObject plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">runtimeMainActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此方法将获取程序的主Activity的实例对象，它是Html5+运行期环境主组件，用于处理与用户交互的各种事件，也是应用程序全局环境android.app.Activity的实现对象。android.app.Activity是一个特殊的类，需要在原生开发环境中注册后才能使用，所以使用new操作符创建对象无实际意义。</p> <p>示例：</p> <ol><li>调用Activity的startActivity方法来拨打电话
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">Activity</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Intent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Uri</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token comment">// 获取主Activity对象的实例</span>
<span class="token class-name">Activity</span> main <span class="token operator">=</span> context<span class="token punctuation">;</span>
<span class="token comment">// 创建Intent</span>
<span class="token class-name">Uri</span> uri <span class="token operator">=</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;tel:10086&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Intent</span> call <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token string">&quot;android.intent.action.CALL&quot;</span><span class="token punctuation">,</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用startActivity方法拨打电话</span>
main<span class="token punctuation">.</span><span class="token function">startActivity</span><span class="token punctuation">(</span>call<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入Activity、Intent类</span>
<span class="token keyword">var</span> Intent <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;android.content.Intent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Uri <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;android.net.Uri&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取主Activity对象的实例</span>
<span class="token keyword">var</span> main <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">runtimeMainActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建Intent</span>
<span class="token keyword">var</span> uri <span class="token operator">=</span> Uri<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;tel:10086&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> call <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token string">&quot;android.intent.action.CALL&quot;</span><span class="token punctuation">,</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用startActivity方法拨打电话</span>
main<span class="token punctuation">.</span><span class="token function">startActivity</span><span class="token punctuation">(</span> call <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="plus-android-currentwebview"><a href="#plus-android-currentwebview" class="header-anchor">#</a> plus.android.currentWebview</h4> <p>获取当前Webview窗口对象的native层实例对象，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>InstanceObject plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">currentWebview</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Android平台完整Java类名为android.webkit.Webview，完整API请参考Android开发文档<a href="http://developer.android.com/reference/android/webkit/WebView.html" target="_blank" rel="noopener noreferrer">android.webkit.Webview<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a>。</p> <p>示例：</p> <ol><li>调用Webview的loadUrl方法跳转页面
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>webkit<span class="token punctuation">.</span></span><span class="token class-name">Webview</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token comment">// 获取Webview对象</span>
<span class="token class-name">Webview</span> wv <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token comment">// 跳转页面</span>
wv<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.dcloud.io/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入Webview类</span>
<span class="token keyword">var</span> Webview <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;android.webkit.Webview&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 当前Webview对象的实例</span>
<span class="token keyword">var</span> wv <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">currentWebview</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 跳转页面</span>
wv<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.dcloud.io/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre></div><p><strong>完整API文档参考：<a href="http://www.html5plus.org/doc/zh_cn/android.html" target="_blank" rel="noopener noreferrer">HTML5+ API - Native.js for Android<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></strong></p> <h3 id="api-on-ios"><a href="#api-on-ios" class="header-anchor">#</a> API on iOS</h3> <p>为了能更好的理解NJS调用Objective-C Native API，我们在iOS平台用Objective-C实现以下测试类，将会在后面API说明中的示例来调用。
头文件njshello.h代码如下：</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token comment">// 定义协议</span>
<span class="token keyword">@protocol</span> NjsHelloEvent <span class="token operator">&lt;</span>NSObject<span class="token operator">&gt;</span>
<span class="token operator">@</span>required
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> onEventInvoked<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>name<span class="token punctuation">;</span>
<span class="token keyword">@end</span>
<span class="token comment">// -------------------------------------------------------------</span>
<span class="token comment">// 定义类NjsHello</span>
<span class="token keyword">@interface</span> NjsHello <span class="token punctuation">:</span> NSObject <span class="token punctuation">{</span>
    NSString <span class="token operator">*</span>_name<span class="token punctuation">;</span>
    id<span class="token operator">&lt;</span>NjsHelloEvent <span class="token operator">&gt;</span> _delegate<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>retain<span class="token punctuation">)</span> NSString <span class="token operator">*</span>name<span class="token punctuation">;</span>
<span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>retain<span class="token punctuation">)</span> id delegate<span class="token punctuation">;</span>
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>newname<span class="token punctuation">;</span>
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>setEventObserver<span class="token punctuation">:</span><span class="token punctuation">(</span>id<span class="token operator">&lt;</span>NjsHelloEvent <span class="token operator">&gt;</span><span class="token punctuation">)</span>delegate<span class="token punctuation">;</span>
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>test<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>testCount<span class="token punctuation">;</span>
<span class="token keyword">@end</span>
</code></pre></div><p>实现文件njshello.m源代码如下：</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">&quot;njshello.h&quot;</span></span>
<span class="token comment">// 实现类NjsHello</span>
<span class="token keyword">@implementation</span> NjsHello
<span class="token keyword">@synthesize</span> name<span class="token operator">=</span>_name<span class="token punctuation">;</span>
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>newname<span class="token punctuation">{</span>
    _name <span class="token operator">=</span> <span class="token punctuation">[</span>newname copy<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>setEventObserver<span class="token punctuation">:</span><span class="token punctuation">(</span>id<span class="token operator">&lt;</span>NjsHelloEvent <span class="token operator">&gt;</span><span class="token punctuation">)</span>delegate<span class="token punctuation">{</span>
    _delegate <span class="token operator">=</span> delegate<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>test<span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;My name is: %@&quot;</span><span class="token punctuation">,</span>_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token keyword">self</span> delegate<span class="token punctuation">]</span>onEventInvoked<span class="token punctuation">:</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>dealloc<span class="token punctuation">{</span>
    <span class="token punctuation">[</span>_name release<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>supper dealloc<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>testCount<span class="token punctuation">{</span>
	<span class="token function">NSLog</span><span class="token punctuation">(</span> <span class="token string">@&quot;Static test count&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><h4 id="plus-ios-importclass"><a href="#plus-ios-importclass" class="header-anchor">#</a> plus.ios.importClass</h4> <p>导入Objective-C类对象，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ClassObject plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span> String classname <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导入类对象后，就可以通过“.”操作符直接调用对象（类对象/实例对象）的常量和方法。通过“.”操作符号调用方法时，不需要使用“:”来分割方法名。</p> <ul><li>classname：要导入的Objective-C类名，如果指定的类名不存在，则导入类失败，返回null。</li></ul> <p><code>注意：导入类对象可以方便的使用“.”操作符来调用对象的属性和方法，但也会消耗较多的系统资源。因此导入过多的类对象会影响性能，此时可以使用“高级API”中提供的方法在不导入类对象的情况下调用Native API。</code>
示例：</p> <ol><li>导入类并创建实例对象
Objective-C代码：</li></ol> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">&quot;njshello.h&quot;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    NjsHello<span class="token operator">*</span> hello <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NjsHello alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="classobject-2"><a href="#classobject-2" class="header-anchor">#</a> ClassObject</h4> <p>调用plus.ios.importClass()方法导入类并返回ClassObject类对象，通过该类对象，可以创建类的实例对象。在Objective-C中类的静态方法会转换成NJS类对象的方法，可通过类对象的“.”操作符调用；</p> <p><code>注意：由于Objective-C中类没有静态变量，而是通过定义全局变量来实现，目前NJS中无法访问全局变量的值。对于全局常量，在NJS中也无法访问，对于原类型常量可在文档中找到其具体的值，在JS代码中直接赋值；对于非原类型常量目前还无法访问。</code></p> <p>示例：</p> <ol><li>导入类后调用类的静态方法
Objective-C代码：</li></ol> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">&quot;njshello.h&quot;</span></span>
<span class="token comment">// ...</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 调用类的静态方法</span>
    <span class="token punctuation">[</span>NjsHello testCount<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用类的静态方法</span>
NjsHello<span class="token punctuation">.</span><span class="token function">testCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="instanceobject-2"><a href="#instanceobject-2" class="header-anchor">#</a> InstanceObject</h4> <p>NJS中实例对象与Objective-C中的对象对应，调用plus.ios.importClass()方法导入类后，通过new操作符可创建该类的实例对象，或直接调用plus.ios.newObject方法创建类的实例对象，也可通过调用Native API返回实例对象。在Objective-C中对象的方法会转换成NJS实例对象的方法，可通过实例对象的“.”操作符调用；对象的属性则必须通过NJS实例对象的plusGetAttribute、plusSetAttribute方法操作。</p> <p>示例：</p> <ol><li>导入类创建实例对象，调用对象的方法
Objective-C代码：</li></ol> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">&quot;njshello.h&quot;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    NjsHello<span class="token operator">*</span> hello <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NjsHello alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre></div><h5 id="instanceobject-plusgetattribute-2"><a href="#instanceobject-plusgetattribute-2" class="header-anchor">#</a> InstanceObject.plusGetAttribute</h5> <p>获取实例对象的属性值，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object instancebject<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span> String name <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>获取实例对象后，就可以调用其plusGetAttribute方法获取对象的属性值。</p> <ul><li>name：要获取对象的属性名称，如果指定的属性名称不存在，则获取属性失败，返回null。</li></ul> <p><code>注意：如果实例对象中存在“plusGetAttribute”同名的方法，则只能通过plus.ios.invoke()方法调用。</code></p> <p>示例：</p> <ol><li>导入类创建实例对象，获取对象的属性值
Objective-C代码：</li></ol> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">&quot;njshello.h&quot;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    NjsHello<span class="token operator">*</span> hello <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NjsHello alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>hello updateName<span class="token punctuation">:</span><span class="token string">@&quot;Tester&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取其name属性值</span>
    NSString<span class="token operator">*</span> name <span class="token operator">=</span> hello<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;NjsHello Object's name: %@&quot;</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hello<span class="token punctuation">.</span><span class="token function">updateName</span><span class="token punctuation">(</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取其name属性值</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> hello<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;name&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object’s name: &quot;</span><span class="token operator">+</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Object’s name: Tester”</span>
<span class="token comment">// ...</span>
</code></pre></div><h5 id="instanceobject-plussetattribute-2"><a href="#instanceobject-plussetattribute-2" class="header-anchor">#</a> InstanceObject.plusSetAttribute</h5> <p>设置类对象的静态属性值，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">void</span> instanceobject<span class="token punctuation">.</span><span class="token function">plusSetAttribute</span><span class="token punctuation">(</span> String name<span class="token punctuation">,</span> Object value <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导入类对象后，就可以调用其plusSetAttribute方法设置类的静态属性值。</p> <ul><li>name：要设置的静态属性名称，如果指定的属性名称不存在，则设置属性失败，返回null。</li> <li>value：要设置的属性值，其类型必须与Native层类对象的静态属性区配，否则设置操作不生效，将保留以前的值。</li></ul> <p><code>注意：如果导入的类对象中存在“plusSetAttribute”同名的静态方法，则只能通过plus.android.invoke()方法调用。</code></p> <p>示例：</p> <ol><li>导入类创建实例对象，设置对象的属性值
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>#<span class="token keyword">import</span> <span class="token string">&quot;njshello.h&quot;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    <span class="token class-name">NjsHello</span><span class="token operator">*</span> hello <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">NjsHello</span> alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置其name属性值</span>
    hello<span class="token punctuation">.</span>name <span class="token operator">=</span> @<span class="token string">&quot;Tester&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;NjsHello Object's name: %@&quot;</span><span class="token punctuation">,</span>hello<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置其name属性值</span>
hello<span class="token punctuation">.</span><span class="token function">plusSetAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object’s name: &quot;</span><span class="token operator">+</span>hello<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“NjsHello Object’s name: Tester”</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="plus-ios-implements"><a href="#plus-ios-implements" class="header-anchor">#</a> plus.ios.implements</h4> <p>在Objective-C中可以通过定义新类并实现Protocol的协议，并创建出新类对象作为代理对象，在NJS中则可实现协议快速创建代理对象，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">implements</span><span class="token punctuation">(</span> String name<span class="token punctuation">,</span> Object obj <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此方法返回一个NJS实例对象，映射到Native层中的代理对象，其父类为“NSObject”，并且实现obj中指定的协议方法。通常作为调用其它Native API的参数。</p> <ul><li>name：协议的名称，也可以是自定的字符串名称用于定义一个代理。</li> <li>obj：JSON对象类型，代理实现方法的定义，JSON对象中key值为协议中定义的方法名称，必须保留方法名称中的“：”字符；value值为Function，方法参数必须与协议中定义方法的参数区配。</li></ul> <p>示例：</p> <ol><li>实现一个代理，并调用test方法触发调用代理的方法
Objective-C代码：</li></ol> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">&quot;njshello.h&quot;</span></span>
<span class="token comment">// 定义代理类NjsDelegate</span>
<span class="token keyword">@interface</span> NjsDelegate<span class="token punctuation">:</span> NSObject<span class="token operator">&lt;</span>NjsHelloEvent<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> onEventInvoked<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
<span class="token comment">// -------------------------------------------------------------</span>
<span class="token comment">// 实现代理类NjsDelegate</span>
<span class="token keyword">@implementation</span> NjsDelegate
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> onEventInvoked<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>name<span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Invoked Object's name:%@&quot;</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“Invoked Object’s name: Tester”</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
<span class="token comment">// -------------------------------------------------------------</span>
<span class="token comment">// 主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    NjsHello<span class="token operator">*</span> hello <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NjsHello alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 调用updateName方法</span>
    <span class="token punctuation">[</span>hello updateName<span class="token punctuation">:</span><span class="token string">@&quot;Tester&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 创建代理对象</span>
    NjsDelegate<span class="token operator">*</span> delegate <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NjsDelegate alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置监听对象</span>
    <span class="token punctuation">[</span>hello setEventObserver<span class="token punctuation">:</span>delegate<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 调用test方法，触发代理事件</span>
    <span class="token punctuation">[</span>hello test<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// 触发上面代理对象定义的onEventInvoked运行</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在NJS中不需要创建新的类对象，调用plus.ios.implements实现协议接口即可创建出代理对象，代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 实现协议“NjsHelloEvent”的代理</span>
<span class="token keyword">var</span> hevent <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">implements</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHelloEvent&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;onEventInvoked:&quot;</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;Invoked Object’s name: &quot;</span><span class="token operator">+</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“Invoked Object’s name: Tester”</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用updateName方法</span>
hello<span class="token punctuation">.</span><span class="token function">updateName</span><span class="token punctuation">(</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置监听对象</span>
hello<span class="token punctuation">.</span><span class="token function">setEventObserver</span><span class="token punctuation">(</span> hevent <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用test方法，触发代理事件</span>
hello<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 触发上面代理对象定义的匿名函数运行</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="plus-ios-deleteobject"><a href="#plus-ios-deleteobject" class="header-anchor">#</a> plus.ios.deleteObject</h4> <p>释放NJS中实例对象中映射的Native对象，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">void</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span> Object obj <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>NJS中所有的实例对象（InstanceObject）都可以通过此方法释放，会将Native层的对象使用的资源进行释放。</p> <ul><li>obj：要释放的实例对象，如果obj对象不是有效的实例对象，则不执行对象的是否资源操作。</li></ul> <p><code>注意：此方法是可选的，如果不调用此方法释放实例对象，则在页面关闭时会自动释放所有对象；若对象占用较多的系统资源，则在业务逻辑处理完成时应该主动调用此方法释放资源，以提到程序的运行效率。</code></p> <p>示例：</p> <ol><li>创建实例对象使用完成后，显式操作销毁对象
Objective-C代码：</li></ol> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">&quot;njshello.h&quot;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    NjsHello<span class="token operator">*</span> hello <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NjsHello alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 调用updateName方法</span>
    <span class="token punctuation">[</span>hello updateName<span class="token punctuation">:</span><span class="token string">@&quot;Tester&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
    <span class="token comment">// 使用完后销毁对象的实例</span>
    <span class="token punctuation">[</span>hello release<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入测试类NjsHello</span>
<span class="token keyword">var</span> NjsHello <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;NjsHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用updateName方法</span>
hello<span class="token punctuation">.</span><span class="token function">updateName</span><span class="token punctuation">(</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token comment">// 使用完后销毁对象的实例</span>
plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span> hello <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="plus-ios-currentwebview"><a href="#plus-ios-currentwebview" class="header-anchor">#</a> plus.ios.currentWebview</h4> <p>获取当前Webview窗口对象的native层UIWebview实例对象，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>InstanceObject plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">currentWebview</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>UIWebview对象的API请参考Apple开发文档<a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIWebView_Class/" target="_blank" rel="noopener noreferrer">UIWebview<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></p> <p>示例：</p> <ol><li>创建实例对象使用完成后，显式操作销毁对象
Objective-C代码：</li></ol> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token comment">// 获取当前Webview对象的实例</span>
UIWebview<span class="token operator">*</span> wv<span class="token operator">=</span><span class="token keyword">self</span><span class="token punctuation">;</span>
<span class="token comment">// 创建请求对象</span>
NSURLRequest <span class="token operator">*</span>req <span class="token operator">=</span> <span class="token punctuation">[</span>NSURLRequest requestWithURL<span class="token punctuation">:</span><span class="token punctuation">[</span>NSURL URLWithString<span class="token punctuation">:</span><span class="token string">@&quot;http://www.dcloud.io/&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 跳转页面</span>
<span class="token punctuation">[</span>web loadRequest<span class="token punctuation">:</span>req<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 释放对象</span>
<span class="token comment">// 系统自动回收</span>
<span class="token comment">// ...</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入UIWebview、NSURLRequest、NSURL类</span>
<span class="token keyword">var</span> Webview <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;UIWebview&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> NSURLRequest <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">import</span><span class="token punctuation">(</span><span class="token string">'NSURLRequest'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">NSURL</span> <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">import</span><span class="token punctuation">(</span><span class="token string">'NSURL'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取当前Webview对象的实例</span>
<span class="token keyword">var</span> wv <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">currentWebview</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建请求对象</span>
<span class="token keyword">var</span> req <span class="token operator">=</span> NSURLRequest<span class="token punctuation">.</span><span class="token function">requestWithURL</span><span class="token punctuation">(</span><span class="token constant">NSURL</span><span class="token punctuation">.</span><span class="token function">URLWithString</span><span class="token punctuation">(</span><span class="token string">'http://www.dcloud.io/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 跳转页面</span>
plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>wv<span class="token punctuation">,</span><span class="token string">&quot;loadRequest:&quot;</span><span class="token punctuation">,</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 释放对象(可选)</span>
plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span>wv<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre></div><p><strong>完整API文档参考：<a href="http://www.html5plus.org/doc/zh_cn/ios.html" target="_blank" rel="noopener noreferrer">HTML5+ API - Native.js for iOS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></strong></p> <h2 id="完整业务演示"><a href="#完整业务演示" class="header-anchor">#</a> 完整业务演示</h2> <h3 id="android-2"><a href="#android-2" class="header-anchor">#</a> Android</h3> <p>在Android手机桌面上创建快捷方式图标，这是原本只有原生程序才能实现的功能。即使使用Hybrid方案，也需要原生工程师来配合写插件。
下面我们演示如何直接使用js在Android手机桌面创建快捷方式，在HelloH5+应用中Native.JS页面中“Shortcut (Android)”可以查看运行效果。
这段代码是使用原生Java实现的创建快捷方式的代码，用于参考比对：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">Activity</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Intent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span></span><span class="token class-name">BitmapFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span></span><span class="token class-name">Bitmap</span></span><span class="token punctuation">;</span>
<span class="token comment">// 创建桌面快捷方式</span>
<span class="token keyword">void</span> <span class="token function">createShortcut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// 获取主Activity</span>
	<span class="token class-name">Activity</span> main <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token comment">// 创建快捷方式意图</span>
	<span class="token class-name">Intent</span> shortcut <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token string">&quot;com.android.launcher.action.INSTALL_SHORTCUT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置快捷方式的名称</span>
	shortcut<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">EXTRA_SHORTCUT_NAME</span><span class="token punctuation">,</span> <span class="token string">&quot;HelloH5+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置不可重复创建</span>
	shortcut<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;duplicate&quot;</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置快捷方式图标</span>
	<span class="token class-name">Bitmap</span> bitmap <span class="token operator">=</span> <span class="token class-name">BitmapFactory</span><span class="token punctuation">.</span><span class="token function">decodeFile</span><span class="token punctuation">(</span><span class="token string">&quot;/sdcard/icon.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	shortcut<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">EXTRA_SHORTCUT_ICON</span><span class="token punctuation">,</span> bitmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置快捷方式启动执行动作</span>
	<span class="token class-name">Intent</span> action <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">ACTION_MAIN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	action<span class="token punctuation">.</span><span class="token function">setComponent</span><span class="token punctuation">(</span> main<span class="token punctuation">.</span><span class="token function">getComponentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	shortcut<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span> <span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">EXTRA_SHORTCUT_INTENT</span><span class="token punctuation">,</span> action <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 广播创建快捷方式</span>
	main<span class="token punctuation">.</span><span class="token function">sendBroadcast</span><span class="token punctuation">(</span>shortcut<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用NJS实现时首先导入需要使用到的android.content.Intent、android.graphics.BitmapFactory类，按照Java代码中的方法对应转换成JavaScript代码。
其中快捷方式图标是通过解析本地png文件进行设置，在JavaScript中需要使用plus.io.* API转换成本地路径传递给Native API，完整代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> Intent<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span>BitmapFactory<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> main<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span> <span class="token string">&quot;plusready&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//&quot;plusready&quot;事件触发时执行plus对象的方法</span>
	<span class="token comment">// ...</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> plus<span class="token punctuation">.</span>os<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;Android&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 导入要用到的类对象</span>
		Intent <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;android.content.Intent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		BitmapFactory <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;android.graphics.BitmapFactory&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 获取主Activity</span>
		main <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">runtimeMainActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 创建桌面快捷方式
 */</span>
<span class="token keyword">function</span> <span class="token function">createShortcut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// 创建快捷方式意图</span>
	<span class="token keyword">var</span> shortcut <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token string">&quot;com.android.launcher.action.INSTALL_SHORTCUT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置快捷方式的名称</span>
	shortcut<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span><span class="token constant">EXTRA_SHORTCUT_NAME</span><span class="token punctuation">,</span> <span class="token string">&quot;测试快捷方式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置不可重复创建</span>
	shortcut<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;duplicate&quot;</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置快捷方式图标</span>
	<span class="token keyword">var</span> iconPath <span class="token operator">=</span> plus<span class="token punctuation">.</span>io<span class="token punctuation">.</span><span class="token function">convertLocalFileSystemURL</span><span class="token punctuation">(</span><span class="token string">&quot;/icon.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将相对路径资源转换成系统绝对路径</span>
	<span class="token keyword">var</span> bitmap <span class="token operator">=</span> BitmapFactory<span class="token punctuation">.</span><span class="token function">decodeFile</span><span class="token punctuation">(</span>iconPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
	shortcut<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span><span class="token constant">EXTRA_SHORTCUT_ICON</span><span class="token punctuation">,</span>bitmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置快捷方式启动执行动作</span>
	<span class="token keyword">var</span> action <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span><span class="token constant">ACTION_MAIN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	action<span class="token punctuation">.</span><span class="token function">setClassName</span><span class="token punctuation">(</span>main<span class="token punctuation">.</span><span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'io.dcloud.PandoraEntry'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	shortcut<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span><span class="token constant">EXTRA_SHORTCUT_INTENT</span><span class="token punctuation">,</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 广播创建快捷方式</span>
	main<span class="token punctuation">.</span><span class="token function">sendBroadcast</span><span class="token punctuation">(</span>shortcut<span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;桌面快捷方式已创建完成！&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注意：提交到云平台打包时需要添加Android权限才能在桌面创建快捷方式，在HBuilder工程中双击应用的“manifest.json”文件，切换到“代码视图”中在plus-&gt;distribute-&gt;google-&gt;permissions节点下添加权限数据：</p> <div class="language-xml extra-class"><pre class="language-xml"><code>&quot;google&quot;: {
	// ...
	&quot;permissions&quot;: [
&quot;&lt;uses-permission android:name=\&quot;com.android.launcher.permission.INSTALL_SHORTCUT\&quot;/&gt;&quot;
	]
}
</code></pre></div><p>如下图所示：</p> <p><img src="http://www.dcloud.io/docs/a/njs/android_permissions.png" alt="manifest.json中Android权限 permissions"></p> <h3 id="ios-2"><a href="#ios-2" class="header-anchor">#</a> iOS</h3> <p>在iOS手机上登录game center，一个游戏中心服务，这是原本只有原生程序才能实现的功能。即使使用Hybrid方案，也需要原生工程师来配合写插件。
下面我们演示如何直接使用js在iOS手机上登录game center，在HelloH5+应用中Native.JS页面中的“Game Center (iOS)”可以查看运行效果。
注意手机未开通game center则无法登陆，请先点击iOS自带的game center进行配置。
这段代码是使用原生Objective-C实现的登录game center的代码，用于参考比对。原生Objective-C代码的头文件Test.h中代码如下：</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@interface</span> Test<span class="token punctuation">:</span> NSObject
<span class="token comment">// 游戏玩家登录状态监听函数</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>authenticationChanged<span class="token punctuation">:</span><span class="token punctuation">(</span>NSNotification<span class="token operator">*</span><span class="token punctuation">)</span>notification<span class="token punctuation">;</span>
<span class="token comment">// 获取游戏玩家状态信息</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>playerInformation<span class="token punctuation">:</span><span class="token punctuation">(</span>GKPlayer <span class="token operator">*</span><span class="token punctuation">)</span>player<span class="token punctuation">;</span>
<span class="token comment">// 登录到游戏中心</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>loginGamecenter<span class="token punctuation">;</span>
<span class="token comment">// 停止监听登录游戏状态变化</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>logoutGamecenter<span class="token punctuation">;</span>
<span class="token keyword">@end</span>

实现文件Test<span class="token punctuation">.</span>m中代码如下：
<span class="token keyword">@implementation</span> Test
<span class="token comment">// 游戏玩家登录状态监听函数</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>authenticationChanged<span class="token punctuation">:</span><span class="token punctuation">(</span>NSNotification<span class="token operator">*</span><span class="token punctuation">)</span>notification
<span class="token punctuation">{</span>
    <span class="token comment">// 获取游戏玩家共享实例对象</span>
    GKLocalPlayer <span class="token operator">*</span>player <span class="token operator">=</span> notification<span class="token punctuation">.</span>object<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> player<span class="token punctuation">.</span>isAuthenticated <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 玩家已登录认证，获取玩家信息</span>
        <span class="token punctuation">[</span><span class="token keyword">self</span> playerInformation<span class="token punctuation">:</span>player<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 玩家未登录认证，提示用户登录</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;请登录！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 释放使用的对象</span>
    <span class="token punctuation">[</span>player release<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 获取游戏玩家状态信息</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>playerInformation<span class="token punctuation">:</span><span class="token punctuation">(</span>GKPlayer <span class="token operator">*</span><span class="token punctuation">)</span>player
<span class="token punctuation">{</span>
    <span class="token comment">// 获取游戏玩家的名称</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Name: %@&quot;</span><span class="token punctuation">,</span>player<span class="token punctuation">.</span>displayName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 登录到游戏中心</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>loginGamecenter
<span class="token punctuation">{</span>
    <span class="token comment">// 监听用户登录状态变更事件</span>
    NSNotificationCenter <span class="token operator">*</span>nc <span class="token operator">=</span> <span class="token punctuation">[</span>NSNotificationCenter defaultCenter<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>nc addObserver<span class="token punctuation">:</span><span class="token keyword">self</span>
           selector<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>authenticationChanged<span class="token punctuation">)</span>
               name<span class="token punctuation">:</span><span class="token string">@&quot;GKPlayerAuthenticationDidChangeNotificationName&quot;</span>
             object<span class="token punctuation">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取游戏玩家共享实例对象</span>
    GKLocalPlayer <span class="token operator">*</span>localplayer <span class="token operator">=</span> <span class="token punctuation">[</span>GKLocalPlayer localPlayer<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 判断游戏玩家是否已经登录认证</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> localplayer<span class="token punctuation">.</span>isAuthenticated <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 玩家已登录认证，获取玩家信息</span>
        <span class="token punctuation">[</span><span class="token keyword">self</span> playerInformation<span class="token punctuation">:</span>localplayer<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 玩家未登录认证，发起认证请求</span>
        <span class="token punctuation">[</span>localplayer authenticateWithCompletionHandler<span class="token punctuation">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;登录中...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// 释放使用的对象</span>
    <span class="token punctuation">[</span>localplayer release<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>nc release<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 停止监听登录游戏状态变化</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>logoutGamecenter
<span class="token punctuation">{</span>
    <span class="token comment">// 取消监听用户登录状态变化</span>
    NSNotificationCenter <span class="token operator">*</span>nc <span class="token operator">=</span> <span class="token punctuation">[</span>NSNotificationCenter defaultCenter<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>nc removeObserver<span class="token punctuation">:</span><span class="token keyword">self</span>
                  name<span class="token punctuation">:</span><span class="token string">@&quot;GKPlayerAuthenticationDidChangeNotificationName&quot;</span>
                object<span class="token punctuation">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token comment">// 释放使用的对象</span>
    <span class="token punctuation">[</span>nc release<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><p>使用NJS实现时可以按照Objective-C代码中的方法对应转换成JavaScript代码，最关键的代码是loginGamecenter方法中对用户登录状态的监听，需调用NSNotificationCenter对象的“addObserver:selector:name:object”方法，</p> <ol><li>addObserver:后要求传入一个实例对象用于查找selector参数中指定的方法，在Objective-C中通常将对象自身（self）传入，但在NJS中没有此概念，因此需使用plus.ios.implements方法来创建一个新的对象：
var delegate = plus.ios.implements(&quot;NSObject&quot;,{&quot;authenticationChanged:&quot;:authenticationChanged});
第一个参数“NSObject”表示对象的类型，第二个参数中的JSON对象表明对象拥有的方法，“authenticationChanged”方法是delegate对象的方法。</li> <li>selector:后要传入一个类函数指针，在Objective-C中通过“@selector”指令可选择函数指针，在NJS中则需使用plus.ios.newObject方法来创建一个函数对象：
plus.ios.newObject(&quot;@selector&quot;,&quot;authenticationChanged:&quot;)
第一个参数需固定值为“@selector”，表示创建的是类函数指针对象，第二个参数。
在&quot;plusready&quot;事件中导入GKLocalPlayer和NSNotificationCenter类，并调用登录方法longinGamecenter()。</li></ol> <p>完整JavaScript代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 处理&quot;plusready&quot;事件</span>
<span class="token keyword">var</span> bLogin<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span> <span class="token string">&quot;plusready&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> plus<span class="token punctuation">.</span>os<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;iOS&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		GKLocalPlayer  <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;GKLocalPlayer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		NSNotificationCenter <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;NSNotificationCenter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">longinGamecenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;欢迎您&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		bLogin <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			plus<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span> <span class="token string">&quot;此平台不支持Game Center功能！&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> GKLocalPlayer<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span>NSNotificationCenter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> delegate<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token comment">// 游戏玩家登录状态监听函数</span>
<span class="token keyword">function</span> <span class="token function">authenticationChanged</span><span class="token punctuation">(</span> <span class="token parameter">notification</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// 获取游戏玩家共享实例对象</span>
	<span class="token keyword">var</span> player <span class="token operator">=</span> notification<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> player<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;isAuthenticated&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 玩家已登录认证，获取玩家信息</span>
		<span class="token function">playerInformation</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
		bLogin <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token comment">// 玩家未登录认证，提示用户登录</span>
		<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请登录&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bLogin <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 释放使用的对象</span>
	plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 获取游戏玩家状态信息</span>
<span class="token keyword">function</span> <span class="token function">playerInformation</span><span class="token punctuation">(</span> <span class="token parameter">player</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">var</span> name <span class="token operator">=</span> player<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;displayName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">alert</span><span class="token punctuation">(</span> name<span class="token operator">+</span><span class="token string">&quot; 已登录！&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 登录到游戏中心</span>
<span class="token keyword">function</span> <span class="token function">longinGamecenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> bLogin <span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
    <span class="token comment">// 监听用户登录状态变更事件</span>
    <span class="token keyword">var</span> nc <span class="token operator">=</span> NSNotificationCenter<span class="token punctuation">.</span><span class="token function">defaultCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    delegate <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">implements</span><span class="token punctuation">(</span><span class="token string">&quot;NSObject&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string-property property">&quot;authenticationChanged:&quot;</span><span class="token operator">:</span>authenticationChanged<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    nc<span class="token punctuation">.</span><span class="token function">addObserverselectornameobject</span><span class="token punctuation">(</span>delegate<span class="token punctuation">,</span>
    	plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span><span class="token string">&quot;@selector&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;authenticationChanged:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    	<span class="token string">&quot;GKPlayerAuthenticationDidChangeNotificationName&quot;</span><span class="token punctuation">,</span>
    	<span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取游戏玩家共享实例对象</span>
    <span class="token keyword">var</span> localplayer <span class="token operator">=</span> GKLocalPlayer<span class="token punctuation">.</span><span class="token function">localPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 判断游戏玩家是否已经登录认证</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> localplayer<span class="token punctuation">.</span><span class="token function">isAuthenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>	<span class="token comment">// localplayer.plusGetAttribute(&quot;isAuthenticated&quot;)</span>
        <span class="token comment">// 玩家已登录认证，获取玩家信息</span>
        <span class="token function">playerInformation</span><span class="token punctuation">(</span> localplayer <span class="token punctuation">)</span><span class="token punctuation">;</span>
        bLogin <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 玩家未登录认证，发起认证请求</span>
        localplayer<span class="token punctuation">.</span><span class="token function">authenticateWithCompletionHandler</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">&quot;登录中...&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 释放使用的对象</span>
	plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span>localplayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
	plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span>nc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 停止监听登录游戏状态变化</span>
<span class="token keyword">function</span> <span class="token function">stopGamecenterObserver</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 取消监听用户登录状态变化</span>
    <span class="token keyword">var</span> nc <span class="token operator">=</span> NSNotificationCenter<span class="token punctuation">.</span><span class="token function">defaultCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    nc<span class="token punctuation">.</span><span class="token function">removeObservernameobject</span><span class="token punctuation">(</span>delegate<span class="token punctuation">,</span><span class="token string">&quot;GKPlayerAuthenticationDidChangeNotificationName&quot;</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span>nc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">deleteObject</span><span class="token punctuation">(</span>delegate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    delegate <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>注意</strong></p> <ol><li>提交到云平台打包时需要添加Game Center API的系统库（framework）才能正确调用，在HBuilder工程中双击应用的“manifest.json”文件，切换到“代码视图”中在plus-&gt;distribute-&gt;apple-&gt;frameworks节点下添加要引用的系统Framework：</li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code>&quot;apple&quot;: {
	&quot;devices&quot;: &quot;universal&quot;,
	&quot;frameworks&quot;: [
		&quot;GameKit.framework&quot;
	]
}
</code></pre></div><p>，如下图所示：
<img src="http://www.dcloud.io/docs/a/njs/ios_frameworks.png" alt="HBuilder frameworks">
2. 正式发布提交到AppStore时，在配置苹果开发者网站上配置App ID需要选中“Game Center”服务：
<img src="http://www.dcloud.io/docs/a/njs/ios_gamecenter.png" alt="Game Center"></p> <p>##开发注意和建议用途
Native.js的运行性能仍然不比纯原生应用；JS与Native之间的数据交换效率并不如在js内部的数据交换效率；基于如上原因，有几点开发建议：</p> <ul><li>以标准web 代码为主，当遇到web能力不足的时候，调用Native.js。</li> <li>以标准web 代码为主，当遇到web性能不足的时候，需要分析，
if ((原生进行运算的效率-js与原生通讯的损耗)&gt;纯web的效率){
使用Native.js
}else{
还应该使用纯js
}</li> <li>应避免把程序设计为在短时间内并发触发Native.js代码</li></ul> <p>##调试
使用safari和chrome的控制台调试HBuilder的5+App时，一样可以调试NJS对象，即可以在浏览器控制台中查看各种原生对象的属性和方法，如下图所示，57行设了断点，watch了Intent对象，并在右边展开了该对象的所有属性方法：
<img src="http://www.dcloud.io/docs/a/njs/chrome_debug.png" alt="Chrome Debug">
关于如何在浏览器控制台调试HBuilder的5+App，请参考HBuilder的5+App开发入门教程。</p> <p>##开发资源
iOS 官方在线文档：<a href="https://developer.apple.com/library/ios/navigation/" target="_blank" rel="noopener noreferrer">https://developer.apple.com/library/ios/navigation/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a>
Android 官方在线文档：<a href="https://developer.android.com/reference/packages.html" target="_blank" rel="noopener noreferrer">https://developer.android.com/reference/packages.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a>
演讲视频：<a href="http://v.youku.com/v_show/id_XNzYzNTcwNDI4.html" target="_blank" rel="noopener noreferrer">http://v.youku.com/v_show/id_XNzYzNTcwNDI4.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></p> <p>##高级API
有前述的常用API，已经可以完成各项业务开发。此处补充的高级API，是在熟悉NJS后，为了提升性能而使用的API。高级API无法直接用“.”操作符使用原生对象的方法，在debug时也无法watch原生对象，但高级API性能高于常规API。
虽然导入类对象（plus.android.importClass和plus.ios.importClass）后，可以方便的通过“.”操作符来访问对象的常量、调用对象的方法，但导入类对象也需要消耗较多的系统资源，所以在实际开发时应该尽可能的减少导入类对象，以提高程序效率。可以参考以下依据进行判断：</p> <ol><li>如导入的类特别复杂，继承自很多基类，方法和属性特别多则考虑不导入类；</li> <li>对导入类是否需要频繁操作，若导入类仅是为了实例化，并作为调用其它API的参数，则不应该导入类；</li> <li>在同一页面中是否导入了很多类？如果导入太多则需要考虑减少导入类的数目。</li></ol> <p>如果我们不导入类对象则无法通过new操作符实例化类对象，这时可通过plus.ios.newObject()、plus.android.newObject()方法来创建实例对象，如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// iOS平台创建NSDictionary的实例对象</span>
<span class="token keyword">var</span> ns <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span> <span class="token string">&quot;NSDictionary&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Android平台创建Intent的实例对象</span>
<span class="token keyword">var</span> intent <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span> <span class="token string">&quot;android.content.Intent&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="api-on-android-2"><a href="#api-on-android-2" class="header-anchor">#</a> API on Android</h3> <h4 id="plus-android-newobject"><a href="#plus-android-newobject" class="header-anchor">#</a> plus.android.newObject</h4> <p>不导入类对象直接创建类的实例对象，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>InstanceObject plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span> String classname<span class="token punctuation">,</span> Object<span class="token operator">...</span>args <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此方法对Native层中对类进行实例化操作，创建一个类的实体并返回NJS层的实例对象。相比导入类对象后使用new操作符创建对象效率要高。</p> <ul><li>classname：要创建实例对象的类名，类名必须是完整的命名空间，使用“.”分隔符（如“android.app.AlertDialog”），如果需要创建内部类对象需要使用“$”分割符（如“android.app.AlertDialog$Builder”）。如果指定的类名不存在，则创建对象失败，返回null。</li> <li>args：调用类构造函数的参数，其类型和数目必须与Native层Java类构造函数区配，否则无法创建类对象，将返回null。</li></ul> <p><strong>注意</strong>：由于没有导入类对象，所以通过此方法创建的实例对象无法通过“.”操作符直接调用对象的方法，而必须使用plus.android.invoke方法来调用。</p> <p>示例：</p> <ol><li>不导入类创建实例对象
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    <span class="token class-name">NjsHello</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不调用plus.android.importClass(&quot;io.dcloud.NjsHello&quot;)导入类NjsHello</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span> <span class="token string">&quot;io.dcloud.NjsHello&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="plus-android-getattribute"><a href="#plus-android-getattribute" class="header-anchor">#</a> plus.android.getAttribute</h4> <p>不导入类对象，则无法通过类对象并访问类的静态属性，需调用以下方法获取类的静态属性值，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> String<span class="token operator">|</span>Object obj<span class="token punctuation">,</span> String name <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此方法也可以获取类对象或实例对象的属性值，如果是类对象获取的则是类的静态属性，如果是实例对象则获取的是对象的非静态属性。</p> <ul><li>obj：若是String类型，表示要获取静态属性值的类名，类名必须是完整的命名空间（使用&quot;.&quot;分割）；若是ClassObject类型，表示要获取静态属性的类对象；若是InstanceObject类型，表示要获取属性值的实例对象。</li> <li>name：要获取的属性名称，如果指定的属性名称不存在，则获取属性失败，返回null。</li></ul> <p><strong>注意</strong>：同样导入类对象后也可以调用此方法，obj参数类型为ClassObject时，其作用与ClassObject.plusSetAttribute方法一致。obj参数类型为InstanceObject时，其作用与InstanceObject.plusSetAttribute方法一致。</p> <p>示例：</p> <ol><li>不导入类对象获取类的静态常量属性
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取类的静态常量属性</span>
    <span class="token keyword">int</span> type <span class="token operator">=</span> <span class="token class-name">NjsHello</span><span class="token punctuation">.</span><span class="token constant">CTYPE</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Final's value: %d&quot;</span><span class="token punctuation">,</span> type <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Final's value: 1”</span>
    <span class="token comment">// 获取类的静态属性</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token class-name">NjsHello</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Static's value: %d&quot;</span><span class="token punctuation">,</span> count <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Static's value: 0”</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不调用plus.android.importClass(&quot;io.dcloud.NjsHello&quot;)导入类NjsHello</span>
<span class="token comment">// 访问类的静态常量属性</span>
<span class="token keyword">var</span> type <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CTYPE&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Final's value: &quot;</span><span class="token operator">+</span>type <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“NjsHello Final's value: 1”</span>
<span class="token comment">// ...</span>
</code></pre></div><ol start="2"><li>不导入类对象，创建实例对象，并获取其name属性值
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    <span class="token class-name">NjsHello</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取其name属性值</span>
    <span class="token class-name">String</span> name <span class="token operator">=</span> hello<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object's name: %s&quot;</span><span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不调用plus.android.importClass(&quot;io.dcloud.NjsHello&quot;)导入类NjsHello</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span> <span class="token string">&quot;io.dcloud.NjsHello&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取其name属性值</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> hello<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object's name: &quot;</span><span class="token operator">+</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="plus-android-setattribute"><a href="#plus-android-setattribute" class="header-anchor">#</a> plus.android.setAttribute</h4> <p>若没有导入类对象，则无法通过类对象设置类的静态属性值，需调用以下方法设置类的静态属性值，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">void</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> String<span class="token operator">|</span>Object obj<span class="token punctuation">,</span> String name<span class="token punctuation">,</span> Object value <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此方法也可以设置类对象或实例对象的属性值，如果是类对象设置的则是类的静态属性，如果是实例对象则设置的是对象的非静态属性。</p> <ul><li>obj：若是String类型，表示要设置静态属性值的类名，类名必须是完整的命名空间（使用&quot;.&quot;分割）；若是ClassObject类型，表示要设置静态属性的类对象；若是InstanceObject类型，表示要设置属性值的实例对象。</li> <li>name：要设置的属性名称，如果指定的属性名称不存在，则设置属性失败，返回null。</li> <li>value：要设置的属性值，其类型必须与Native层obj对象的属性区配，否则设置操作不生效，将保留以前的值。</li></ul> <p><strong>注意</strong>：同样导入类对象后也可以调用此方法，obj参数类型为ClassObject时，其作用与ClassObject.plusSetAttribute方法一致。obj参数类型为InstanceObject时，其作用与InstanceObject.plusSetAttribute方法一致。</p> <p>示例：</p> <ol><li>不导入类对象设置类的静态属性值
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 设置类的静态属性值</span>
    <span class="token class-name">NjsHello</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Static's value: %d&quot;</span><span class="token punctuation">,</span> <span class="token class-name">NjsHello</span><span class="token punctuation">.</span>count <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Static's value: 2”</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不调用plus.android.importClass(&quot;io.dcloud.NjsHello&quot;)导入类NjsHello</span>
<span class="token comment">// 设置类的静态属性值</span>
plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;count&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Static's value: &quot;</span><span class="token operator">+</span>plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;count&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“NjsHello Static's value: 2”</span>
<span class="token comment">// ...</span>
</code></pre></div><ol start="2"><li>导入类对象，创建实例对象，并设置其name属性值
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    <span class="token class-name">NjsHello</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置其name属性值</span>
    hello<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Tester&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object's name: %s&quot;</span><span class="token punctuation">,</span> hello<span class="token punctuation">.</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不调用plus.android.importClass(&quot;io.dcloud.NjsHello&quot;)导入类NjsHello</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span> <span class="token string">&quot;io.dcloud.NjsHello&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置其name属性值</span>
plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> hello<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object's name: &quot;</span><span class="token operator">+</span>hello<span class="token punctuation">.</span><span class="token function">plusGetAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="plus-android-invoke"><a href="#plus-android-invoke" class="header-anchor">#</a> plus.android.invoke</h4> <p>若没有导入类对象，则无法通过实例对象的“.”操作符调用其成员方法，需通过以下方法调用实例对象的成员方法，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span> String<span class="token operator">|</span>Object obj<span class="token punctuation">,</span> String name<span class="token punctuation">,</span> Object<span class="token operator">...</span> args <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此方法也可以调用类对象或实例对象的方法，如果是类对象则调用的是类的静态方法，如果是实例对象则调用的是对象的普通成员方法。函数返回值是调用Native层方法运行后的返回值，Native对象的方法无返回值则返回undefined。</p> <ul><li>obj：若是String类型，表示要调用静态方法的类名，类名必须包含完整的包名；若是ClassObject类型，表示要调用静态方法的类对象；若是InstanceObject类型，表示要调用成员方法的实例对象。</li> <li>name：要调用的方法名称，如果指定的方法不存在，则调用方法失败，返回值为null。</li> <li>args：调用方法的参数，其类型和数目必须与Native层对象方法的函数区配，否则无法调用对象的方法，将返回null。</li></ul> <p><strong>注意</strong>：同样导入类对象后也可以调用此方法，其作用与通过类对象或实例对象的“.”操作符调用方法作用一致。</p> <p>示例：
1．不导入类对象，调用类的静态方法
Java代码：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 调用类的静态方法</span>
    <span class="token class-name">NjsHello</span><span class="token punctuation">.</span><span class="token function">testCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不调用plus.android.importClass(&quot;io.dcloud.NjsHello&quot;)导入类NjsHello</span>
<span class="token comment">// 调用类的静态方法</span>
plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span> <span class="token string">&quot;io.dcloud.NjsHello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;testCount&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre></div><ol start="2"><li>不导入类对象，创建实例对象，并调用其updateNmae方法
Java代码：</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>dcloud<span class="token punctuation">.</span></span><span class="token class-name">NjsHello</span></span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    <span class="token class-name">NjsHello</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NjsHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 调用updateName方法</span>
    hello<span class="token punctuation">.</span><span class="token function">updateName</span><span class="token punctuation">(</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object's name: %s&quot;</span><span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 不调用plus.android.importClass(&quot;io.dcloud.NjsHello&quot;)导入类NjsHello</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span> <span class="token string">&quot;io.dcloud.NjsHello&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用updateName方法</span>
plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span> hello<span class="token punctuation">,</span> <span class="token string">&quot;updateName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object's name: &quot;</span><span class="token operator">+</span>hello<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
<span class="token comment">// ...</span>
</code></pre></div><p><strong>完整API文档参考：<a href="http://www.html5plus.org/doc/zh_cn/android.html" target="_blank" rel="noopener noreferrer">HTML5+ API - Native.js for Android<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></strong></p> <h3 id="api-on-ios-2"><a href="#api-on-ios-2" class="header-anchor">#</a> API on iOS</h3> <h4 id="plus-ios-newobject"><a href="#plus-ios-newobject" class="header-anchor">#</a> plus.ios.newObject</h4> <p>不导入类对象直接创建类的实例对象，方法原型如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">InstanceObject</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span> <span class="token class-name">String</span> classname<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span>args <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此方法会在Native层中对类进行实例化操作，创建一个类的实体并返回NJS层的类实例对象。相比导入类对象后使用new操作符创建对象效率要高。</p> <ul><li>classname：要创建实例对象的类名，如果指定的类名不存在，则创建对象失败，返回null。</li> <li>args：调用类构造函数的参数，其类型和数目必须与Native层对象构造函数区配，否则无法创建类对象，将返回null。</li></ul> <p><strong>注意</strong>：由于没有导入类对象，所以通过此方法创建的实例对象无法通过“.”操作符直接调用对象的方法，而必须使用plus.ios.invoke方法来调用。classname参数值为“@selector”表示需要创建一个函数指针对象，与Objective-C中的@selector指令功能相似，args参数为函数的名称，此时函数的名称需要包含“：”字符。</p> <p>示例：</p> <ol><li>不导入类创建实例对象
Objective-C代码：</li></ol> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">&quot;njshello.h&quot;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    NjsHello<span class="token operator">*</span> hello <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NjsHello alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 未导入“NjsHello”类</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="plus-ios-invoke"><a href="#plus-ios-invoke" class="header-anchor">#</a> plus.ios.invoke</h4> <p>若没有导入类对象，则无法通过实例对象的“.”操作符调用其成员方法，需通过以下方法调用实例对象的成员方法，方法原型如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span> String<span class="token operator">|</span>Object obj<span class="token punctuation">,</span> String name<span class="token punctuation">,</span> Object<span class="token operator">...</span> args <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>此方法也可以调用类对象或实例对象的方法，如果是类对象则调用的是类的静态方法，如果是实例对象则调用的是对象的普通成员方法。函数返回值是调用Native层方法运行后的返回值，Native对象的方法无返回值则返回undefined。</p> <ul><li>obj：若是String类型，表示要调用静态方法的类名，类名必须包含完整的包名；若是ClassObject类型，表示要调用静态方法的类对象；若是InstanceObject类型，表示要调用成员方法的实例对象。</li> <li>name：要调用的方法名称，必须保留方法名称中的“：”字符，如果指定的方法不存在，则调用方法失败，返回值为null。</li> <li>args：调用方法的参数，其类型和数目必须与Native层对象方法的函数区配，否则无法调用对象的方法，将返回null。</li></ul> <p><strong>注意</strong>：同样导入类对象后也可以调用此方法，其作用与通过类对象或实例对象的“.”操作符调用方法作用一致。</p> <p>示例：</p> <ol><li>不导入类创建实例对象，并调用updateName方法
Objective-C代码：</li></ol> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">&quot;njshello.h&quot;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 创建对象的实例</span>
    NjsHello<span class="token operator">*</span> hello <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NjsHello alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 调用updateName方法</span>
    <span class="token punctuation">[</span>hello updateName<span class="token punctuation">:</span><span class="token string">@&quot;Tester&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;NjsHello Object's name: %@&quot;</span><span class="token punctuation">,</span>hello<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>NJS代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 未导入“NjsHello”类</span>
<span class="token comment">// 创建对象的实例</span>
<span class="token keyword">var</span> hello <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用updateName方法</span>
plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span> hello<span class="token punctuation">,</span> <span class="token string">&quot;updateName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Tester&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;NjsHello Object's name: &quot;</span><span class="token operator">+</span>hello<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出“NjsHello Object's name: Tester”</span>
<span class="token comment">// ...</span>
</code></pre></div><p><strong>完整API文档参考：<a href="http://www.html5plus.org/doc/zh_cn/ios.html" target="_blank" rel="noopener noreferrer">HTML5+ API - Native.js for iOS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></strong></p> <h2 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h2> <h3 id="调整代码结构优化"><a href="#调整代码结构优化" class="header-anchor">#</a> 调整代码结构优化</h3> <p>前面章节中我们介绍如何通过NJS调用Native API来显示系统提示框，在真机运行时会发现第一次调用时会有0.5s左右的延时，再次调用则不会延时。这是因为NJS中导入类对象操作会花费较长的时间，再次调用时由于类对象已经导入过，会能很快执行完毕。因此可以调整代码结构进行优化，在页面打开后触发的“plusready”事件中进行类对象的导入操作，从而避免第一次调用的延时。</p> <p>Android平台调整NJS代码结构如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 保存Android导入对象和全局环境对象</span>
<span class="token keyword">var</span> AlertDialog<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span>mainActivity<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token comment">// H5+事件处理</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;plusready&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">switch</span> <span class="token punctuation">(</span> plus<span class="token punctuation">.</span>os<span class="token punctuation">.</span>name <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token string">&quot;Android&quot;</span><span class="token operator">:</span>
		<span class="token comment">// 程序全局环境对象，内部自动导入Activity类</span>
		mainActivity <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">runtimeMainActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 导入AlertDialog类</span>
		AlertDialog <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;android.app.AlertDialog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">default</span><span class="token operator">:</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token comment">/**
 * 在Android平台通过NJS显示系统提示框
 */</span>
<span class="token keyword">function</span> <span class="token function">njsAlertForAndroid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// 创建提示框构造对象，构造函数需要提供程序全局环境对象，通过plus.android.runtimeMainActivity()方法获取</span>
	<span class="token keyword">var</span> dlg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span>mainActivity<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置提示框标题</span>
	dlg<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;自定义标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置提示框内容</span>
	dlg<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">&quot;使用NJS的原生弹出框，可自定义弹出框的标题、按钮&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置提示框按钮</span>
	dlg<span class="token punctuation">.</span><span class="token function">setPositiveButton</span><span class="token punctuation">(</span><span class="token string">&quot;确定(或者其他字符)&quot;</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 显示提示框</span>
	dlg<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
</code></pre></div><p>iOS平台调整NJS代码结构如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 保存iOS平台导入的类对象</span>
<span class="token keyword">var</span> UIAlertView<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token comment">// H5+事件处理</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;plusready&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">switch</span> <span class="token punctuation">(</span> plus<span class="token punctuation">.</span>os<span class="token punctuation">.</span>name <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token string">&quot;iOS&quot;</span><span class="token operator">:</span>
		<span class="token comment">// 导入UIAlertView类</span>
		UIAlertView <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&quot;UIAlertView&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">default</span><span class="token operator">:</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token comment">/**
 * 在iOS平台通过NJS显示系统提示框
 */</span>
<span class="token keyword">function</span> <span class="token function">njsAlertForiOS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// 创建UIAlertView类的实例对象</span>
	<span class="token keyword">var</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UIAlertView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置提示对话上的内容</span>
	view<span class="token punctuation">.</span><span class="token function">initWithTitlemessagedelegatecancelButtonTitleotherButtonTitles</span><span class="token punctuation">(</span><span class="token string">&quot;自定义标题&quot;</span> <span class="token comment">// 提示框标题</span>
		<span class="token punctuation">,</span> <span class="token string">&quot;使用NJS的原生弹出框，可自定义弹出框的标题、按钮&quot;</span> <span class="token comment">// 提示框上显示的内容</span>
		<span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token comment">// 操作提示框后的通知代理对象，暂不设置</span>
		<span class="token punctuation">,</span> <span class="token string">&quot;确定(或者其他字符)&quot;</span> <span class="token comment">// 提示框上取消按钮的文字</span>
		<span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 提示框上其它按钮的文字，设置为null表示不显示</span>
	<span class="token comment">// 调用show方法显示提示对话框</span>
	view<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
</code></pre></div><h3 id="使用高级api优化"><a href="#使用高级api优化" class="header-anchor">#</a> 使用高级API优化</h3> <p>前面章节中我们提到导入类对象会消耗较多的系统资源，导入过多的类对象会影响性能。在高级API中提供一组接口可以在不导入类对象的情况下调用Native API，从而提升代码运行性能。</p> <p>Android平台使用高级API优化代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 保存Android导入对象和全局环境对象</span>
<span class="token keyword">var</span> mainActivity<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token comment">// H5+事件处理</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;plusready&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">switch</span> <span class="token punctuation">(</span> plus<span class="token punctuation">.</span>os<span class="token punctuation">.</span>name <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token string">&quot;Android&quot;</span><span class="token operator">:</span>
		<span class="token comment">// 程序全局环境对象，内部自动导入Activity类</span>
		mainActivity <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">runtimeMainActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">default</span><span class="token operator">:</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token comment">/**
 * 在Android平台通过NJS显示系统提示框
 */</span>
<span class="token keyword">function</span> <span class="token function">njsAlertForAndroid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// 由于Builder类是android.app.AlertDialog类的内部类，这里需要使用$符号分割</span>
	<span class="token keyword">var</span> dlg <span class="token operator">=</span> plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span><span class="token string">&quot;android.app.AlertDialog$Builder&quot;</span><span class="token punctuation">,</span>mainActivity<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置提示框标题</span>
	plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>dlg<span class="token punctuation">,</span><span class="token string">&quot;setTitle&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;自定义标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置提示框内容</span>
	plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>dlg<span class="token punctuation">,</span><span class="token string">&quot;setMessage&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;使用NJS的原生弹出框，可自定义弹出框的标题、按钮&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置提示框按钮</span>
	plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>dlg<span class="token punctuation">,</span><span class="token string">&quot;setPositiveButton&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;确定(或者其他字符)&quot;</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 显示提示框</span>
	plus<span class="token punctuation">.</span>android<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>dlg<span class="token punctuation">,</span><span class="token string">&quot;show&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
</code></pre></div><p>iOS平台使用高级API优化代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * 在iOS平台通过NJS显示系统提示框
 */</span>
<span class="token keyword">function</span> <span class="token function">njsAlertForiOS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// 创建UIAlertView类的实例对象</span>
	<span class="token keyword">var</span> view <span class="token operator">=</span> plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">newObject</span><span class="token punctuation">(</span><span class="token string">&quot;UIAlertView&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 设置提示对话上的内容，这里的方法名称中必须包含':'字符</span>
	plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span><span class="token string">&quot;initWithTitle:message:delegate:cancelButtonTitle:otherButtonTitles:&quot;</span>
	    <span class="token punctuation">,</span><span class="token string">&quot;自定义标题&quot;</span> <span class="token comment">// 提示框标题</span>
	    <span class="token punctuation">,</span> <span class="token string">&quot;使用NJS的原生弹出框，可自定义弹出框的标题、按钮&quot;</span> <span class="token comment">// 提示框上显示的内容</span>
	    <span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token comment">// 操作提示框后的通知代理对象，暂不设置</span>
	    <span class="token punctuation">,</span> <span class="token string">&quot;确定(或者其他字符)&quot;</span> <span class="token comment">// 提示框上取消按钮的文字</span>
	    <span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 提示框上其它按钮的文字，设置为null表示不显示</span>
	<span class="token comment">// 调用show方法显示提示对话框，在JS中使用()语法调用对象的方法</span>
	plus<span class="token punctuation">.</span>ios<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span><span class="token string">&quot;show&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://gitcode.net/dcloud/unidocs-zh/edit/master/docs/tutorial/native-js.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/4/11 19:55:51</span></div></footer> <!---->  <div id="footNavBox" data-v-f6aded24><div class="footNav" data-v-f6aded24><div id="footNavClassify" data-v-f6aded24><div class="footNavItem" data-v-f6aded24 data-v-f6aded24><div class="navItemTitle" data-v-f6aded24 data-v-f6aded24>开发产品</div><div class="navLine" data-v-f6aded24 data-v-f6aded24></div><div class="navItemDetailBox" data-v-f6aded24 data-v-f6aded24><a target="_blank" href="https://www.dcloud.io/hbuilderx.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>HBuilderX</a><a target="_blank" href="https://uniapp.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-app</a><a target="_blank" href="https://doc.dcloud.net.cn/uni-app-x/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-app x</a><a target="_blank" href="https://doc.dcloud.net.cn/uniCloud/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uniCloud</a><a target="_blank" href="https://nativesupport.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uniMPsdk</a><a target="_blank" href="https://www.dcloud.io/runtime.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>5+Runtime</a><a target="_blank" href="https://www.dcloud.io/wap2app.html?platform=wap2app" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>wap2app</a><a target="_blank" href="https://www.dcloud.io/mui.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>MUI</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/uni-id" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-id</a><a target="_blank" href="https://doc.dcloud.net.cn/uniCloud/uni-cdn/intro.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-cdn</a><a target="_blank" href="https://doc.dcloud.net.cn/uniCloud/uni-pay/uni-app.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-pay</a><a target="_blank" href="https://uniapp.dcloud.net.cn/unipush" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-push</a><a target="_blank" href="https://uniapp.dcloud.io/univerify" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni一键登陆</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/frv/intro.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni实人认证</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/send-sms" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>sms</a><a target="_blank" href="https://ext.dcloud.net.cn/plugin?id=5057" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-starter</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/admin" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-admin</a><a target="_blank" href="https://uniapp.dcloud.io/uniCloud/upgrade-center" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-upgrade-center</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/uni-im" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-im</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/uni-ai" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-ai</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/uni-cms" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-cms</a><a target="_blank" href="https://doc.dcloud.net.cn/uniCloud/unicloud-map.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uniCloud-map</a><a target="_blank" href="https://ext.dcloud.net.cn/plugin?id=3851" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-search</a></div></div></div> <div id="aboutusBox" data-v-f6aded24><div class="footNavItem" data-v-f6aded24 data-v-f6aded24><div class="navItemTitle" data-v-f6aded24 data-v-f6aded24>运营产品</div><div class="navLine" data-v-f6aded24 data-v-f6aded24></div><div class="navItemDetailBox" data-v-f6aded24 data-v-f6aded24><a target="_blank" href="https://uniad.dcloud.net.cn/login" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-ad</a><a target="_blank" href="https://tongji.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni统计</a><a target="_blank" href="https://www.dcloud.io/dportal.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni发行</a><a target="_blank" href="https://uniapp.dcloud.net.cn/tutorial/safe.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni安全专题</a></div></div><div class="footNavItem" data-v-f6aded24 data-v-f6aded24><div class="navItemTitle" data-v-f6aded24 data-v-f6aded24>开发者服务</div><div class="navLine" data-v-f6aded24 data-v-f6aded24></div><div class="navItemDetailBox" data-v-f6aded24 data-v-f6aded24><a target="_blank" href="https://ask.dcloud.net.cn/explore/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>问答社区</a><a target="_blank" href="https://dev.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>开发者后台</a></div></div><div class="footNavItem" data-v-f6aded24 data-v-f6aded24><div class="navItemTitle" data-v-f6aded24 data-v-f6aded24>技术文档</div><div class="navLine" data-v-f6aded24 data-v-f6aded24></div><div class="navItemDetailBox" data-v-f6aded24 data-v-f6aded24><a target="_blank" href="https://uniapp.dcloud.io/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-app文档</a><a target="_blank" href="https://uniapp.dcloud.io/uniCloud/README" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uniCloud文档</a><a target="_blank" href="https://nativesupport.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>原生开发者支持文档</a><a target="_blank" href="https://hx.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>HBuilder文档</a></div></div><div class="footNavItem" data-v-f6aded24 data-v-f6aded24><div class="navItemTitle" data-v-f6aded24 data-v-f6aded24>生态服务</div><div class="navLine" data-v-f6aded24 data-v-f6aded24></div><div class="navItemDetailBox" data-v-f6aded24 data-v-f6aded24><a target="_blank" href="https://ext.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>插件市场</a><a target="_blank" href="https://open.dcloud.net.cn/pages/login/login" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>OAuth用户开放平台</a></div></div></div></div> <div class="hbLogo" data-v-f6aded24></div> <div class="introduce" data-v-f6aded24><div class="introduce-item" data-v-f6aded24><span class="introduce-title" data-v-f6aded24>关于我们：</span> <a href="https://dcloud.io/" target="_blank" class="navItemDetail" data-v-f6aded24>
						DCloud官网
					</a><a href="https://uniapp.dcloud.io/case" target="_blank" class="navItemDetail" data-v-f6aded24>
						案例
					</a><a href="https://dev.dcloud.net.cn/wish/?channel=uniapp" target="_blank" class="navItemDetail" data-v-f6aded24>
						需求墙
					</a><a href="https://dcloud.io/license/DCloud.html" target="_blank" class="navItemDetail" data-v-f6aded24>
						许可协议
					</a><a href="https://www.dcloud.io/hr/" target="_blank" class="navItemDetail" data-v-f6aded24>
						加入我们
					</a><a href="https://dev.dcloud.net.cn/sponsor/" target="_blank" class="navItemDetail" data-v-f6aded24>
						赞助我们
					</a></div><div class="introduce-item" data-v-f6aded24><span class="introduce-title" data-v-f6aded24>联系我们：</span> <a href="mailto:bd@dcloud.io" target="_blank" class="navItemDetail" data-v-f6aded24>
						商务合作：bd@dcloud.io
					</a><a href="mailto:uniad@dcloud.io" target="_blank" class="navItemDetail" data-v-f6aded24>
						广告合作：uniad@dcloud.io
					</a></div></div> <div data-v-f6aded24><div class="companyBox" data-v-f6aded24><span class="companyInfo" data-v-f6aded24><span class="companyInfo-dcloud" data-v-f6aded24>DCloud.io</span> 数字天堂（北京）网络技术有限公司是</span> <div class="companyInfo" style="display: inline; margin-left: 5px" data-v-f6aded24><a href="//www.html5plus.org/" target="_blank" class="html5" data-v-f6aded24>HTML5中国产业联盟</a>
				发起单位
			</div></div> <div class="beianBox" data-v-f6aded24><a id="domain" href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank" class="beian" data-v-f6aded24>
				
			</a> <div class="domainImgBox" data-v-f6aded24><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/jgwab.png" class="domainImg" data-v-f6aded24> <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010802035340" target="_blank" class="beian" data-v-f6aded24>京公网安备：11010802035340号 </a></div> <span class="anbaoInfo" data-v-f6aded24>  国家信息安全等级保护三级，证书编号：11010813802-20001</span></div></div></div></main> <div class="sticker vuepress-toc"><h5>本页导读</h5> <div class="vuepress-toc-item vuepress-toc-h2 active"><a href="/tutorial/native-js.html#概述" title="概述" style="padding-left:0rem;"><span>概述</span></a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="/tutorial/native-js.html#注意事项" title="注意事项：" style="padding-left:0rem;"><span>注意事项：</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#技术要求" title="技术要求" style="padding-left:1rem;"><span>技术要求</span></a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="/tutorial/native-js.html#开始使用" title="开始使用" style="padding-left:0rem;"><span>开始使用</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#判断平台" title="判断平台" style="padding-left:1rem;"><span>判断平台</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#类型转换" title="类型转换" style="padding-left:1rem;"><span>类型转换</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#类型转换表" title="类型转换表" style="padding-left:2rem;"><span>类型转换表</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#其他转换" title="其他转换" style="padding-left:1rem;"><span>其他转换</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#概念" title="概念" style="padding-left:1rem;"><span>概念</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#类对象" title="类对象" style="padding-left:2rem;"><span>类对象</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#实例对象" title="实例对象" style="padding-left:2rem;"><span>实例对象</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#操作对象的属性方法" title="操作对象的属性方法" style="padding-left:2rem;"><span>操作对象的属性方法</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#开始写njs" title="开始写NJS" style="padding-left:1rem;"><span>开始写NJS</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#android" title="Android" style="padding-left:2rem;"><span>Android</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#ios" title="iOS" style="padding-left:2rem;"><span>iOS</span></a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="/tutorial/native-js.html#常用api" title="常用API" style="padding-left:0rem;"><span>常用API</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#api-on-android" title="API on Android" style="padding-left:1rem;"><span>API on Android</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-android-importclass" title="plus.android.importClass" style="padding-left:2rem;"><span>plus.android.importClass</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#classobject" title="ClassObject" style="padding-left:2rem;"><span>ClassObject</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#instanceobject" title="InstanceObject" style="padding-left:2rem;"><span>InstanceObject</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-android-implements" title="plus.android.implements" style="padding-left:2rem;"><span>plus.android.implements</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-android-runtimemainactivity" title="plus.android.runtimeMainActivity" style="padding-left:2rem;"><span>plus.android.runtimeMainActivity</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-android-currentwebview" title="plus.android.currentWebview" style="padding-left:2rem;"><span>plus.android.currentWebview</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#api-on-ios" title="API on iOS" style="padding-left:1rem;"><span>API on iOS</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-ios-importclass" title="plus.ios.importClass" style="padding-left:2rem;"><span>plus.ios.importClass</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#classobject-2" title="ClassObject" style="padding-left:2rem;"><span>ClassObject</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#instanceobject-2" title="InstanceObject" style="padding-left:2rem;"><span>InstanceObject</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-ios-implements" title="plus.ios.implements" style="padding-left:2rem;"><span>plus.ios.implements</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-ios-deleteobject" title="plus.ios.deleteObject" style="padding-left:2rem;"><span>plus.ios.deleteObject</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-ios-currentwebview" title="plus.ios.currentWebview" style="padding-left:2rem;"><span>plus.ios.currentWebview</span></a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="/tutorial/native-js.html#完整业务演示" title="完整业务演示" style="padding-left:0rem;"><span>完整业务演示</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#android-2" title="Android" style="padding-left:1rem;"><span>Android</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#ios-2" title="iOS" style="padding-left:1rem;"><span>iOS</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#api-on-android-2" title="API on Android" style="padding-left:1rem;"><span>API on Android</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-android-newobject" title="plus.android.newObject" style="padding-left:2rem;"><span>plus.android.newObject</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-android-getattribute" title="plus.android.getAttribute" style="padding-left:2rem;"><span>plus.android.getAttribute</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-android-setattribute" title="plus.android.setAttribute" style="padding-left:2rem;"><span>plus.android.setAttribute</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-android-invoke" title="plus.android.invoke" style="padding-left:2rem;"><span>plus.android.invoke</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#api-on-ios-2" title="API on iOS" style="padding-left:1rem;"><span>API on iOS</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-ios-newobject" title="plus.ios.newObject" style="padding-left:2rem;"><span>plus.ios.newObject</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/tutorial/native-js.html#plus-ios-invoke" title="plus.ios.invoke" style="padding-left:2rem;"><span>plus.ios.invoke</span></a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="/tutorial/native-js.html#性能优化" title="性能优化" style="padding-left:0rem;"><span>性能优化</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#调整代码结构优化" title="调整代码结构优化" style="padding-left:1rem;"><span>调整代码结构优化</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/tutorial/native-js.html#使用高级api优化" title="使用高级API优化" style="padding-left:1rem;"><span>使用高级API优化</span></a></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/2025-04-15_19-54-18/assets/js/app.328260a9.js" defer></script><script src="/2025-04-15_19-54-18/assets/js/vendors~layout-Layout.e5b3d2d6.js" defer></script><script src="/2025-04-15_19-54-18/assets/js/530.e186095e.js" defer></script><script src="/2025-04-15_19-54-18/assets/js/docs/tutorial/native-js.597c0627.js" defer></script>
  </body>
</html>
