<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API | uni-app官网</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="shortcut icon" type="image/x-icon" href="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/icon.png?v=1556263038788">
    <script src="/js/redirect.js"></script>
    <script src="https://hm.baidu.com/hm.js?fe3b7a223fc08c795f0f4b6350703e6f"></script>
    <script src="/miku-delivery-1.2.1.js"></script>
    <script src="/js/miku.js?1744718058721&amp;v=1744718058721&amp;version=1744718058721"></script>
    <meta name="description" content="uni-app,uniCloud,serverless,API,Uni 测试框架 API,program,方法,Page,属性,方法,page.scrollTop,Element,属性,方法,平台差异,program(全局对象),Page,Element,测试平台判断,Jest API,常用的匹配器">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="keywords" content="serverless,云开发,数字天堂,前端开发,web开发,小程序开发,跨平台,跨平台开发,跨端开发,混合开发,app开发,多端开发,开发工具,HTML5,vue,react,native,rn,flutter,weex,cordova,微信小程序,阿里小程序,支付宝小程序,百度小程序,头条小程序,抖音小程序,QQ小程序,快应用,流应用,云函数">
    
    <link rel="preload" href="/2025-04-15_19-54-18/assets/css/0.styles.732c0d1e.css" as="style"><link rel="preload" href="/2025-04-15_19-54-18/assets/js/app.328260a9.js" as="script"><link rel="preload" href="/2025-04-15_19-54-18/assets/js/vendors~layout-Layout.e5b3d2d6.js" as="script"><link rel="preload" href="/2025-04-15_19-54-18/assets/js/530.e186095e.js" as="script"><link rel="preload" href="/2025-04-15_19-54-18/assets/js/docs/worktile/auto/api.d412f9e0.js" as="script"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/api/index.c5167d6c.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/component/index.6cc70751.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/index.de6cbb5e.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/plugin/index.f38c9f08.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/tutorial/index.236c1114.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/uni-ad/index.12b8f22c.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/uni-app-x/index.209e9776.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/uniCloud/index.7e3525b6.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/worktile/auto/hbuilderx-extension/index.7af15828.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/docs/worktile/index.6d85f6a8.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/layout-Layout.c7c28f93.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/layout-NotFound.b6830249.js"><link rel="prefetch" href="/2025-04-15_19-54-18/assets/js/layout-SimpleLayout.acd4c796.js">
    <link rel="stylesheet" href="/2025-04-15_19-54-18/assets/css/0.styles.732c0d1e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="main-navbar"><a href="https://www.dcloud.io" class="home-link"><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/logo.png" alt="uni-app官网" class="logo"> <img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni-app.png" alt="uni-app官网" class="title-logo can-hide"></a> <div class="main-navbar-links can-hide"><div class="main-navbar-item active"><a href="javascript:;">uni-app</a></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://doc.dcloud.net.cn/uni-app-x/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  uni-app x
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://doc.dcloud.net.cn/uniCloud/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  uniCloud
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://hx.dcloud.net.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HBuilder
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://nativesupport.dcloud.net.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  uni 小程序 sdk
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="/uni-ad/" class="nav-link">
  uni-ad广告
</a></div></div></div> <div class="mobile-main-navbar"><div class="mobile-links_mobile"><a href="javascript:;" class="mobile-links__btn">uni-app</a></div> <div class="mobile-links__panel"><div class="main-navbar-item active"><a href="javascript:;">uni-app</a></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://doc.dcloud.net.cn/uni-app-x/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  uni-app x
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://doc.dcloud.net.cn/uniCloud/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  uniCloud
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://hx.dcloud.net.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HBuilder
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="https://nativesupport.dcloud.net.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  uni 小程序 sdk
  <!----></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a href="/uni-ad/" class="nav-link">
  uni-ad广告
</a></div></div></div></div> <div class="dropdown-language"><div style="display: flex;align-items: center;"><span>简体中文</span> <svg t="1629441415944" viewBox="0 20 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3713" width="16" height="16" class="icon"><path d="M508.025406 655.446718c-14.45307 0-28.183486-5.781228-39.023289-15.898376l-231.249118-231.249118c-10.117149-10.117149-10.117149-26.015526 0-36.132675s26.015526-10.117149 36.132675 0l231.249118 231.249118c2.16796 2.16796 4.335921 2.16796 5.781228 0l231.971771-231.971771c10.117149-10.117149 26.015526-10.117149 35.410021 0 10.117149 10.117149 10.117149 26.015526 0 36.132674l-231.971771 231.971772c-9.394495 10.117149-23.124912 15.898377-38.300635 15.898376z" p-id="3714"></path></svg></div> <!----></div> <div class="links" style="top:0px;z-index:100;"><!----> <div id="docsearch"><button type="button" aria-label="搜索文档" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><svg width="20" height="20" viewBox="0 0 20 20" class="DocSearch-Search-Icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg> <span class="DocSearch-Button-Placeholder">搜索文档</span></span> <span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></span> <span class="DocSearch-Button-Key">K</span></span></button></div></div></div> <div class="sub-navbar"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  介绍
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  教程
</a></div><div class="nav-item"><a href="/collocation/pages.html" class="nav-link">
  全局文件
</a></div><div class="nav-item"><a href="/component/" class="nav-link">
  组件
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/plugin/" class="nav-link">
  插件
</a></div><div class="nav-item"><a href="/worktile/" class="nav-link router-link-active">
  工程化
</a></div><div class="nav-item"><a href="https://doc.dcloud.net.cn/uni-app-x/uts/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  UTS
  <span link="https://doc.dcloud.net.cn/uni-app-x/uts/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他规范" class="dropdown-title"><span class="title">其他规范</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他规范" class="mobile-dropdown-title"><span class="title">其他规范</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.html5plus.org/doc/h5p.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  App扩展规范 HTML5 Plus
  <span link="http://www.html5plus.org/doc/h5p.html"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信小程序
  <span link="https://developers.weixin.qq.com/miniprogram/dev/framework/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.alipay.com/mini/developer/getting-started" target="_blank" rel="noopener noreferrer" class="nav-link external">
  支付宝小程序
  <span link="https://docs.alipay.com/mini/developer/getting-started"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://smartprogram.baidu.com/docs/develop/tutorial/codedir/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度小程序
  <span link="https://smartprogram.baidu.com/docs/develop/tutorial/codedir/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/develop/component/introduction/basic-component" target="_blank" rel="noopener noreferrer" class="nav-link external">
  抖音小程序
  <span link="https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/develop/component/introduction/basic-component"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://open.feishu.cn/document/uYjL24iN/uUDNzUjL1QzM14SN0MTN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  飞书小程序
  <span link="https://open.feishu.cn/document/uYjL24iN/uUDNzUjL1QzM14SN0MTN"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.dingtalk.com/document/app/introduction-to-dingtalk-mini-programs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  钉钉小程序
  <span link="https://developers.dingtalk.com/document/app/introduction-to-dingtalk-mini-programs"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://q.qq.com/wiki/develop/miniprogram/frame/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ小程序
  <span link="https://q.qq.com/wiki/develop/miniprogram/frame/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://mp.kuaishou.com/docs/develop/frame/config/conf_appjson.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  快手小程序
  <span link="https://mp.kuaishou.com/docs/develop/frame/config/conf_appjson.html"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://mp-docs.jd.com/doc/forst/second/-1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  京东小程序
  <span link="https://mp-docs.jd.com/doc/forst/second/-1"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.huawei.com/consumer/cn/doc/quickApp-References/quickapp-filestructure-0000001074564510" target="_blank" rel="noopener noreferrer" class="nav-link external">
  华为快应用
  <span link="https://developer.huawei.com/consumer/cn/doc/quickApp-References/quickapp-filestructure-0000001074564510"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://mp.360.cn/doc/miniprogram/dev/#/view" target="_blank" rel="noopener noreferrer" class="nav-link external">
  360小程序
  <span link="https://mp.360.cn/doc/miniprogram/dev/#/view"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://weexapp.com/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Weex
  <span link="https://weexapp.com/zh/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides-V5/atomic-service-V5" target="_blank" rel="noopener noreferrer" class="nav-link external">
  鸿蒙元服务
  <span link="https://developer.huawei.com/consumer/cn/doc/atomic-guides-V5/atomic-service-V5"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://miniapp.xiaohongshu.com/docsV2/doc/DC026595" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小红书小程序
  <span link="https://miniapp.xiaohongshu.com/docsV2/doc/DC026595"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dcloudio/uni-app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span link="https://github.com/dcloudio/uni-app"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></nav> <div class="mobile-sub-navbar"><div class="subnavbar__item"><a href="javascript:;">工程化</a></div></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  介绍
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  教程
</a></div><div class="nav-item"><a href="/collocation/pages.html" class="nav-link">
  全局文件
</a></div><div class="nav-item"><a href="/component/" class="nav-link">
  组件
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/plugin/" class="nav-link">
  插件
</a></div><div class="nav-item"><a href="/worktile/" class="nav-link router-link-active">
  工程化
</a></div><div class="nav-item"><a href="https://doc.dcloud.net.cn/uni-app-x/uts/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  UTS
  <span link="https://doc.dcloud.net.cn/uni-app-x/uts/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他规范" class="dropdown-title"><span class="title">其他规范</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他规范" class="mobile-dropdown-title"><span class="title">其他规范</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.html5plus.org/doc/h5p.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  App扩展规范 HTML5 Plus
  <span link="http://www.html5plus.org/doc/h5p.html"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信小程序
  <span link="https://developers.weixin.qq.com/miniprogram/dev/framework/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.alipay.com/mini/developer/getting-started" target="_blank" rel="noopener noreferrer" class="nav-link external">
  支付宝小程序
  <span link="https://docs.alipay.com/mini/developer/getting-started"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://smartprogram.baidu.com/docs/develop/tutorial/codedir/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度小程序
  <span link="https://smartprogram.baidu.com/docs/develop/tutorial/codedir/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/develop/component/introduction/basic-component" target="_blank" rel="noopener noreferrer" class="nav-link external">
  抖音小程序
  <span link="https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/develop/component/introduction/basic-component"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://open.feishu.cn/document/uYjL24iN/uUDNzUjL1QzM14SN0MTN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  飞书小程序
  <span link="https://open.feishu.cn/document/uYjL24iN/uUDNzUjL1QzM14SN0MTN"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.dingtalk.com/document/app/introduction-to-dingtalk-mini-programs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  钉钉小程序
  <span link="https://developers.dingtalk.com/document/app/introduction-to-dingtalk-mini-programs"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://q.qq.com/wiki/develop/miniprogram/frame/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ小程序
  <span link="https://q.qq.com/wiki/develop/miniprogram/frame/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://mp.kuaishou.com/docs/develop/frame/config/conf_appjson.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  快手小程序
  <span link="https://mp.kuaishou.com/docs/develop/frame/config/conf_appjson.html"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://mp-docs.jd.com/doc/forst/second/-1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  京东小程序
  <span link="https://mp-docs.jd.com/doc/forst/second/-1"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.huawei.com/consumer/cn/doc/quickApp-References/quickapp-filestructure-0000001074564510" target="_blank" rel="noopener noreferrer" class="nav-link external">
  华为快应用
  <span link="https://developer.huawei.com/consumer/cn/doc/quickApp-References/quickapp-filestructure-0000001074564510"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://mp.360.cn/doc/miniprogram/dev/#/view" target="_blank" rel="noopener noreferrer" class="nav-link external">
  360小程序
  <span link="https://mp.360.cn/doc/miniprogram/dev/#/view"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://weexapp.com/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Weex
  <span link="https://weexapp.com/zh/"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides-V5/atomic-service-V5" target="_blank" rel="noopener noreferrer" class="nav-link external">
  鸿蒙元服务
  <span link="https://developer.huawei.com/consumer/cn/doc/atomic-guides-V5/atomic-service-V5"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li><li class="dropdown-item"><!----> <a href="https://miniapp.xiaohongshu.com/docsV2/doc/DC026595" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小红书小程序
  <span link="https://miniapp.xiaohongshu.com/docsV2/doc/DC026595"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dcloudio/uni-app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span link="https://github.com/dcloudio/uni-app"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></nav>  <ul class="sidebar-links"><li><a href="/worktile/git-svn.html" class="sidebar-link">Git/SVN</a></li><li><a href="/worktile/CLI.html" class="sidebar-link data-no-emphasize">cli 脚手架</a></li><li><a href="/worktile/running-env.html" class="sidebar-link data-no-emphasize">编译运行环境</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/worktile/auto/quick-start" class="sidebar-heading clickable open"><span>自动化测试</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/worktile/auto/quick-start.html" class="sidebar-link data-no-emphasize">快速开始</a></li><li><a href="/worktile/auto/api.html" aria-current="page" class="active sidebar-link data-no-emphasize">API</a></li><li><a href="/worktile/auto/hbuilderx-extension/" class="sidebar-link data-no-emphasize">HBuilderX自动化测试插件</a></li><li><a href="/worktile/auto/uniapp-cli-project.html" class="sidebar-link data-no-emphasize">CLI项目自动化测试</a></li></ul></section></li><li><a href="/worktile/CI.html" class="sidebar-link data-no-emphasize">持续集成</a></li></ul>  <div class="contact-box"><a href="https://unicloud.dcloud.net.cn" target="_blank" class="contact-item"><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/cloud@2x.jpg" width="20" height="20"> <div class="contact-smg"><div>uniCloud Web控制台</div></div></a><a href="https://ext.dcloud.net.cn/" target="_blank" class="contact-item"><img src="https://img-cdn-aliyun.dcloud.net.cn/dev/img/ext/favicon.png" width="20" height="20"> <div class="contact-smg"><div>插件市场</div></div></a><a href="https://ask.dcloud.net.cn/explore/" target="_blank" class="contact-item"><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/d@2x.png" width="20" height="20"> <div class="contact-smg"><div>ask问答社区</div></div></a><a href="https://uniad.dcloud.net.cn" target="_blank" class="contact-item"><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uniad-520.png" width="20" height="20"> <div class="contact-smg"><div>uni-ad</div></div></a><a href="https://tongji.dcloud.net.cn/" target="_blank" class="contact-item"><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni-tongji-icon.png" width="20" height="20"> <div class="contact-smg"><div>uni统计</div></div></a><div class="contact-item"><img src="https://web-assets.dcloud.net.cn/unidoc/zh/git-1.png" width="20" height="20"> <div class="contact-smg"><div>
					代码仓库：
					<a href="https://gitee.com/dcloud/uni-app" target="_blank">Gitee</a>
						、
					<a href="http://github.com/dcloudio/uni-app" target="_blank">GitHub</a>
						
					</div></div></div><div class="contact-item"><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/chat-icon-r.png" width="20" height="20"> <div class="contact-smg"><div>
					uni-app的uni-im交流群：
					<a href="https://im.dcloud.net.cn/#/?joinGroup=658160eb3e585b555acebfd7" target="_blank">点击加入</a>
						
					</div></div></div> <div class="contact-item"><img src="https://web-assets.dcloud.net.cn/unidoc/zh/qq_logo_blue.png" width="20" height="20"> <div class="contact-smg"><div>官方QQ交流群</div> <div>
					群35：713420817（2000人已满）
				</div><div>
					群34：530305531（2000人已满）
				</div><div>
					群33：498071674（2000人已满）
				</div><div>
					群32：166188631（2000人已满）
				</div><div>
					群31：567471669（2000人已满）
				</div><div>
					群30：371046920（2000人已满）
				</div><div>
					群29：202965481（2000人已满）
				</div><div>
					群28：166188776（2000人已满）
				</div><div>
					群27：811363410（2000人已满）
				</div><div>
					群26：147867597（2000人已满）
				</div><div>
					群25：165297000（2000人已满）
				</div><div>
					群24：672494800（2000人已满）
				</div><div>
					群23：599958679（2000人已满）
				</div><div>
					群22：687186952（2000人已满）
				</div><div>
					群21：717019120（2000人已满）
				</div><div>
					群20：165796402（2000人已满）
				</div><div>
					群19：165657124（2000人已满）
				</div><div>
					群18：698592271（2000人已满）
				</div><div>
					群17：951348804（2000人已满）
				</div><div>
					群16：719211033（2000人已满）
				</div><div>
					群15：516984120（2000人已满）
				</div><div>
					群14：465953250（2000人已满）
				</div><div>
					群13：699478442（2000人已满）
				</div><div>
					群12：884860657（2000人已满）
				</div><div>
					群11：296811328（2000人已满）
				</div><div>
					群10：959059626（2000人已满）
				</div><div>
					群9：775128777（2000人已满）
				</div><div>
					群8：695442854（2000人已满）
				</div><div>
					群7：942061423（2000人已满）
				</div><div>
					群6：697264024（2000人已满）
				</div><div>
					群5：731951419（2000人已满）
				</div><div>
					群4：942702595（2000人已满）
				</div><div>
					群3：773794803（2000人已满）
				</div><div>
					群2：901474938（2000人已满）
				</div><div>
					群1：531031261（2000人已满）
				</div></div></div> <div class="contact-item"><img src="https://web-assets.dcloud.net.cn/unidoc/zh/weixin@2x.png" width="20" height="20"> <div class="contact-smg"><div>关注微信公众号</div> <img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/weixin.jpg" width="90" height="90"></div></div></div></aside> <main class="page"> <div class="table-of-contents" data-v-9fc101e6><div class="vuepress-toc-item-top vuepress-toc-h2" data-v-9fc101e6><a href="/worktile/auto/api.html#uni-测试框架-api" title="Uni 测试框架 API" style="padding-left:0rem;" data-v-9fc101e6><span data-v-9fc101e6>Uni 测试框架 API</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h3" data-v-9fc101e6><a href="/worktile/auto/api.html#program" title="program" style="padding-left:1rem;" data-v-9fc101e6><span data-v-9fc101e6>program</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6><a href="/worktile/auto/api.html#方法" title="方法" style="padding-left:2rem;" data-v-9fc101e6><span data-v-9fc101e6>方法</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h3" data-v-9fc101e6><a href="/worktile/auto/api.html#page" title="Page" style="padding-left:1rem;" data-v-9fc101e6><span data-v-9fc101e6>Page</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6><a href="/worktile/auto/api.html#属性" title="属性" style="padding-left:2rem;" data-v-9fc101e6><span data-v-9fc101e6>属性</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6><a href="/worktile/auto/api.html#方法-2" title="方法" style="padding-left:2rem;" data-v-9fc101e6><span data-v-9fc101e6>方法</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6><a href="/worktile/auto/api.html#page-scrolltop" title="page.scrollTop" style="padding-left:2rem;" data-v-9fc101e6><span data-v-9fc101e6>page.scrollTop</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h3" data-v-9fc101e6><a href="/worktile/auto/api.html#element" title="Element" style="padding-left:1rem;" data-v-9fc101e6><span data-v-9fc101e6>Element</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6><a href="/worktile/auto/api.html#属性-2" title="属性" style="padding-left:2rem;" data-v-9fc101e6><span data-v-9fc101e6>属性</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6><a href="/worktile/auto/api.html#方法-3" title="方法" style="padding-left:2rem;" data-v-9fc101e6><span data-v-9fc101e6>方法</span></a></div> <span class="expand-button" data-v-9fc101e6>
    展示全部
    <span class="uni-icons uniui-bottom" data-v-9fc101e6></span></span></div> <div class="theme-default-content content__default"><h1 id="api"><a href="#api" class="header-anchor">#</a> API</h1> <h2 id="uni-测试框架-api"><a href="#uni-测试框架-api" class="header-anchor">#</a> Uni 测试框架 API</h2> <h3 id="program"><a href="#program" class="header-anchor">#</a> program</h3> <p>program 是uni-automator自动注入的全局对象</p> <h4 id="方法"><a href="#方法" class="header-anchor">#</a> 方法</h4> <h5 id="program-pagestack"><a href="#program-pagestack" class="header-anchor">#</a> program.pageStack</h5> <p>获取页面堆栈。</p> <p><code>program.pageStack(): Promise&lt;Page[]&gt; </code></p> <h5 id="program-navigateto"><a href="#program-navigateto" class="header-anchor">#</a> program.navigateTo</h5> <p>保留当前页面，跳转到应用内的某个页面，同 <code>uni.navigateTo</code>。</p> <p><code>program.navigateTo(url: string): Promise&lt;Page&gt;</code></p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">url</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">需要跳转的应用内非 tabBar 的页面的路径</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token string">'/pages/index/index'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token comment">// -&gt; 'page/index/index'</span>
</code></pre></div><h5 id="program-redirectto"><a href="#program-redirectto" class="header-anchor">#</a> program.redirectTo</h5> <p>关闭当前页面，跳转到应用内的某个页面，同 <code>uni.redirectTo</code>。</p> <p><code>program.redirectTo(url: string): Promise&lt;Page&gt;</code></p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">url</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">需要跳转的应用内非 tabBar 的页面的路径</td></tr></tbody></table> <h5 id="program-navigateback"><a href="#program-navigateback" class="header-anchor">#</a> program.navigateBack</h5> <p>关闭当前页面，返回上一页面或多级页面，同 <code>uni.navigateBack</code>。</p> <p><code>program.navigateBack(): Promise&lt;Page&gt;</code></p> <h5 id="program-relaunch"><a href="#program-relaunch" class="header-anchor">#</a> program.reLaunch</h5> <p>关闭所有页面，打开到应用内的某个页面，同 <code>uni.reLaunch</code>。</p> <p><code>program.reLaunch(url: string): Promise&lt;Page&gt;</code></p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">url</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">需要跳转的应用内页面路径</td></tr></tbody></table> <h5 id="program-switchtab"><a href="#program-switchtab" class="header-anchor">#</a> program.switchTab</h5> <p>跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面，同 <code>uni.switchTab</code>。</p> <p><code>program.switchTab(url: string): Promise&lt;Page&gt;</code></p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">url</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">需要跳转的 tabBar 页面的路径</td></tr></tbody></table> <h5 id="program-currentpage"><a href="#program-currentpage" class="header-anchor">#</a> program.currentPage</h5> <p>获取当前页面。</p> <p><code>program.currentPage(): Promise&lt;Page&gt;</code></p> <h5 id="program-systeminfo"><a href="#program-systeminfo" class="header-anchor">#</a> program.systemInfo</h5> <p>获取系统信息，同 <code>uni.getSystemInfo</code>。</p> <p><code>program.systemInfo(): Promise&lt;Object&gt;</code></p> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">const</span> systemInfo <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">systemInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>systemInfo<span class="token punctuation">.</span>uniPlatform <span class="token operator">===</span> <span class="token string">'devtools'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// Do something</span>
	<span class="token punctuation">}</span>
</code></pre></div><h5 id="program-pagescrollto"><a href="#program-pagescrollto" class="header-anchor">#</a> program.pageScrollTo</h5> <p>将页面滚动到目标位置，同 <code>uni.pageScrollTo</code>。</p> <p><code>program.pageScrollTo(scrollTop: number): Promise&lt;void&gt;</code></p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">scrollTop</td> <td style="text-align:center;">number</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">滚动到页面的目标位置，单位 px</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">pageScrollTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="program-callunimethod"><a href="#program-callunimethod" class="header-anchor">#</a> program.callUniMethod</h5> <p>调用 uni 对象上的指定方法。</p> <p><code>program.callUniMethod(method: string, ...args: any[]): Promise&lt;any&gt;</code></p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">method</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">需要调用的方法名</td></tr> <tr><td style="text-align:center;">...args</td> <td style="text-align:center;"><code>array&lt;any&gt;</code></td> <td style="text-align:center;">否</td> <td style="text-align:center;">-</td> <td style="text-align:center;">方法参数</td></tr></tbody></table> <p>调用异步方法时无需传入 success 及 fail 回调函数。</p> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">callUniMethod</span><span class="token punctuation">(</span><span class="token string">'setStorage'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	  <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
	  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">'123456'</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">callUniMethod</span><span class="token punctuation">(</span><span class="token string">'getStorageSync'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// -&gt; '123456'</span>
</code></pre></div><h5 id="program-screenshot"><a href="#program-screenshot" class="header-anchor">#</a> program.screenshot</h5> <p>对当前页面截图。<br>
微信小程序只有开发者工具模拟器支持，客户端无法使用。</p> <p><code>program.screenshot(options?: Object): Promise&lt;string | void&gt;</code></p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">options</td> <td style="text-align:center;">Object</td> <td style="text-align:center;">否</td> <td style="text-align:center;">-</td> <td style="text-align:center;">截图选项</td></tr></tbody></table> <p>如果不传 options，该方法返回图片数据的 base64 编码。</p> <p>options 字段定义如下：</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">path</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">图片保存路径</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'screenshot'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;static/screenshot.png&quot;</span> <span class="token comment">// 默认项目根目录</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="program-mockunimethod"><a href="#program-mockunimethod" class="header-anchor">#</a> program.mockUniMethod</h5> <p>覆盖 uni 对象上指定方法的调用结果。</p> <p>利用该接口，你可以很方便地直接指定 <code>uni.chooseLocation</code> 等调用系统组件的返回结果。</p> <p><code>program.mockUniMethod(method: string, result: any): Promise&lt;void&gt; </code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">method</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">需要覆盖的方法名</td></tr> <tr><td style="text-align:center;">result</td> <td style="text-align:center;">any</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">指定调用结果</td></tr></tbody></table> <p><code>program.mockUniMethod(method: string, fn: Function | string, ...args: any[]): Promise&lt;void&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">method</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">需要覆盖的方法名</td></tr> <tr><td style="text-align:center;">fn</td> <td style="text-align:center;">Function string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">处理返回函数</td></tr> <tr><td style="text-align:center;">...args</td> <td style="text-align:center;"><code>array&lt;any&gt;</code></td> <td style="text-align:center;">否</td> <td style="text-align:center;">-</td> <td style="text-align:center;">传入参数</td></tr></tbody></table> <blockquote><p>fn 同 program.evaluate 的 appFunction 参数一样，无法使用闭包来引用外部变量。此外，你还可以在方法内使用 this.origin 来调用原始方法。</p></blockquote> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">mockUniMethod</span><span class="token punctuation">(</span><span class="token string">'showModal'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">confirm</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token literal-property property">cancel</span><span class="token operator">:</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>

	<span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">mockUniMethod</span><span class="token punctuation">(</span>
		<span class="token string">'getStorageSync'</span><span class="token punctuation">,</span>
		<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> defVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">'name'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'redhoodsu'</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">'sex'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'male'</span>
			<span class="token keyword">return</span> defVal
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token string">'unknown'</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
  <span class="token comment">// 调用 uni.getStorageSync('name') 返回 'redhoodsu'</span>

  <span class="token comment">// 更改 getSystemInfo 中的 platform 字段</span>
	<span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">mockUniMethod</span><span class="token punctuation">(</span>
		<span class="token string">'getSystemInfo'</span><span class="token punctuation">,</span>
		<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> platform</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				<span class="token comment">// origin 指向原始方法</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">origin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
					<span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
						res<span class="token punctuation">.</span>platform <span class="token operator">=</span> platform
						<span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token string">'test'</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
</code></pre></div><h5 id="program-restoreunimethod"><a href="#program-restoreunimethod" class="header-anchor">#</a> program.restoreUniMethod</h5> <p>重置 uni 指定方法，消除 mockUniMethod 调用的影响。</p> <p><code>program.restoreUniMethod(method: string): Promise&lt;void&gt;</code></p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">method</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">需要覆盖的方法名</td></tr></tbody></table> <p>示例代码:</p> <div class="language-js extra-class"><pre class="language-js"><code>	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">callUniMethod</span><span class="token punctuation">(</span><span class="token string">'getStorageSync'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; ''</span>
	<span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">mockUniMethod</span><span class="token punctuation">(</span><span class="token string">'getStorageSync'</span><span class="token punctuation">,</span> <span class="token string">'mockValue'</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">callUniMethod</span><span class="token punctuation">(</span><span class="token string">'getStorageSync'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; 'mockValue'</span>
	<span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">restoreUniMethod</span><span class="token punctuation">(</span><span class="token string">'getStorageSync'</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">callUniMethod</span><span class="token punctuation">(</span><span class="token string">'getStorageSync'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; ''</span>
</code></pre></div><h5 id="program-evaluate"><a href="#program-evaluate" class="header-anchor">#</a> program.evaluate</h5> <p>注入代码片段并返回执行结果。（仅微信小程序支持）</p> <p><code>program.evaluate(appFunction: Function | string, ...args: any[]): Promise&lt;any&gt;</code></p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">appFunction</td> <td style="text-align:center;">Function string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">代码片段</td></tr> <tr><td style="text-align:center;">...args</td> <td style="text-align:center;"><code>array&lt;any&gt;</code></td> <td style="text-align:center;">否</td> <td style="text-align:center;">-</td> <td style="text-align:center;">执行时传入参数</td></tr></tbody></table> <blockquote><p>appFunction 最终会被序列化传递到开发者工具，因此你无法在函数中利用闭包来引用外部变量。也就是说，传递 function () {} 函数事实上等同于传递其字符串。</p></blockquote> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">let</span> systemInfo <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			uni<span class="token punctuation">.</span><span class="token function">getSystemInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				<span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token function">resolve</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	systemInfo <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> uni<span class="token punctuation">.</span><span class="token function">getSystemInfoSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>systemInfo<span class="token punctuation">)</span>
	<span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">)</span>
	<span class="token keyword">const</span> hasLogin <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>hasLogin<span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hasLogin<span class="token punctuation">)</span>
</code></pre></div><h5 id="program-testaccounts"><a href="#program-testaccounts" class="header-anchor">#</a> program.testAccounts</h5> <p>获取多账号调试中已添加的用户列表。（仅微信小程序支持）</p> <p><code>program.testAccounts(): Promise&lt;Account[]&gt;</code></p> <p>Account 字段定义如下：</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">nickName</td> <td style="text-align:center;">string</td> <td style="text-align:center;">用户昵称</td></tr> <tr><td style="text-align:center;">openid</td> <td style="text-align:center;">string</td> <td style="text-align:center;">账号 openid</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">const</span> testAccounts <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">testAccounts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> testAccounts<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> miniProgram <span class="token operator">=</span> <span class="token keyword">await</span> automator<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">projectPath</span><span class="token operator">:</span> <span class="token string">'path/to/project'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">account</span><span class="token operator">:</span> testAccounts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>openid
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token comment">// 控制多个用户登录的不同小程序</span>
	<span class="token punctuation">}</span>
</code></pre></div><h5 id="program-exposefunction"><a href="#program-exposefunction" class="header-anchor">#</a> program.exposeFunction</h5> <p>在全局暴露方法，供小程序侧调用测试脚本中的方法（仅微信小程序支持）</p> <p><code>program.exposeFunction(name: string, bindingFunction: Function): Promise&lt;void&gt;</code></p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">name</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">全局方法名</td></tr> <tr><td style="text-align:center;">bindingFunction</td> <td style="text-align:center;">Function</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">脚本方法</td></tr></tbody></table> <blockquote><p>你可以利用该方法来监听事件，不支持在小程序侧获取调用结果。</p></blockquote> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">exposeFunction</span><span class="token punctuation">(</span><span class="token string">'onAppShow'</span><span class="token punctuation">,</span> <span class="token parameter">options</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// Do something... </span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		uni<span class="token punctuation">.</span><span class="token function">onAppShow</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">onAppShow</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="page"><a href="#page" class="header-anchor">#</a> Page</h3> <p>Page 模块提供了控制页面的方法。</p> <h4 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h4> <h5 id="page-path"><a href="#page-path" class="header-anchor">#</a> page.path</h5> <p>页面路径。</p> <p><code>page.path: string</code></p> <h5 id="page-query"><a href="#page-query" class="header-anchor">#</a> page.query</h5> <p>页面参数。
<code>page.query: Object</code></p> <h4 id="方法-2"><a href="#方法-2" class="header-anchor">#</a> 方法</h4> <h5 id="page-2"><a href="#page-2" class="header-anchor">#</a> page.$</h5> <p>获取页面元素。</p> <p><code>page.$(selector: string): Promise&lt;Element&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">selector</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">选择器(id、class、元素选择器)</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.index-desc'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>tagName<span class="token punctuation">)</span> <span class="token comment">// 'view'</span>
</code></pre></div><h5 id="page-3"><a href="#page-3" class="header-anchor">#</a> page.$$</h5> <p>获取页面元素数组。</p> <p><code>page.$$(selector: string): Promise&lt;Element[]&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">selector</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">选择器(id、class、元素选择器)</td></tr></tbody></table> <p>该方法跟 $ 一样均无法选择自定义组件内的元素，请使用 element.$。</p> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> elements <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$$</span><span class="token punctuation">(</span><span class="token string">'.list-text'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>elements<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
</code></pre></div><h5 id="page-waitfor"><a href="#page-waitfor" class="header-anchor">#</a> page.waitFor</h5> <p>等待直到指定条件成立。</p> <p><code>page.waitFor(condition: string | number | Function): Promise&lt;void&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">condition</td> <td style="text-align:center;">string number Function</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">等待条件</td></tr></tbody></table> <p>如果条件是 <code>string</code> 类型，那么该参数会被当成选择器，当该选择器选中元素个数不为零时，结束等待。</p> <p>如果条件是 <code>number</code> 类型，那么该参数会被当成超时时长，当经过指定时间后，结束等待。</p> <p>如果条件是 <code>Function</code> 类型，那么该参数会被当成断言函数，当该函数返回真值时，结束等待。</p> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span> <span class="token comment">// 等待 5 秒</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token string">'picker'</span><span class="token punctuation">)</span> <span class="token comment">// 等待页面中出现 picker 元素</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$$</span><span class="token punctuation">(</span><span class="token string">'picker'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">5</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 等待页面中 picker 元素数量大于 5</span>
</code></pre></div><h5 id="page-data"><a href="#page-data" class="header-anchor">#</a> page.data</h5> <p>获取页面渲染数据, 即<code>选项式 API data</code> 中返回的数据和<code>组合式 API defineExpose</code> 暴露的数据。<br> <strong>注意：</strong> <code>uni-app x</code> Android 端暂不支持获取 <code>defineExpose</code> 暴露的 <code>ref</code> 数据。</p> <p><code>page.data(path?: string): Promise&lt;Object&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">path</td> <td style="text-align:center;">string</td> <td style="text-align:center;">否</td> <td style="text-align:center;">-</td> <td style="text-align:center;">数据路径</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'list'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="page-setdata"><a href="#page-setdata" class="header-anchor">#</a> page.setData</h5> <p>设置页面渲染数据。</p> <p><code>page.setData(data: Object): Promise&lt;void&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">data</td> <td style="text-align:center;">Object</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">要改变的数据</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'changed data'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="page-size"><a href="#page-size" class="header-anchor">#</a> page.size</h5> <p>获取页面大小。</p> <p><code>page.size(): Promise&lt;Object&gt;</code></p> <p>返回值说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">width</td> <td style="text-align:center;">number</td> <td style="text-align:center;">页面可滚动宽度</td></tr> <tr><td style="text-align:center;">height</td> <td style="text-align:center;">number</td> <td style="text-align:center;">页面可滚动高度</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> width<span class="token punctuation">,</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
</code></pre></div><h4 id="page-scrolltop"><a href="#page-scrolltop" class="header-anchor">#</a> page.scrollTop</h4> <p>获取页面滚动位置。</p> <p><code>page.scrollTop(): Promise&lt;number&gt;</code></p> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">pageScrollTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="page-callmethod"><a href="#page-callmethod" class="header-anchor">#</a> page.callMethod</h5> <p>调用页面指定方法。</p> <p><code>page.callMethod(method: string, ...args: any[]): Promise&lt;any&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">method</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">需要调用的方法名</td></tr> <tr><td style="text-align:center;">...args</td> <td style="text-align:center;">array</td> <td style="text-align:center;">否</td> <td style="text-align:center;">-</td> <td style="text-align:center;">方法参数</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">callMethod</span><span class="token punctuation">(</span><span class="token string">'onShareAppMessage'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="element"><a href="#element" class="header-anchor">#</a> Element</h3> <p>Element 模块提供了控制页面元素的方法。</p> <h4 id="属性-2"><a href="#属性-2" class="header-anchor">#</a> 属性</h4> <h5 id="element-tagname"><a href="#element-tagname" class="header-anchor">#</a> element.tagName</h5> <p>标签名，小写。</p> <p><code>element.tagName: string</code></p> <h4 id="方法-3"><a href="#方法-3" class="header-anchor">#</a> 方法</h4> <h5 id="element-2"><a href="#element-2" class="header-anchor">#</a> element.$</h5> <p>在元素范围内获取元素。</p> <p><code>element.$(selector: string): Promise&lt;Element&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">selector</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">选择器(id、class、元素选择器)</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.index-hd'</span><span class="token punctuation">)</span>
  element <span class="token operator">=</span> <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.index-desc'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-3"><a href="#element-3" class="header-anchor">#</a> element.$$</h5> <p>在元素范围内获取元素数组。</p> <p><code>element.$$(selector: string): Promise&lt;Element[]&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">selector</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">选择器(id、class、元素选择器)</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.index-bd'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> elements <span class="token operator">=</span> <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">$$</span><span class="token punctuation">(</span><span class="token string">'.list-text'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> elements<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-size"><a href="#element-size" class="header-anchor">#</a> element.size</h5> <p>获取元素大小。</p> <p><code>element.size(): Promise&lt;Object&gt;</code></p> <p>返回值说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">width</td> <td style="text-align:center;">number</td> <td style="text-align:center;">元素宽度</td></tr> <tr><td style="text-align:center;">height</td> <td style="text-align:center;">number</td> <td style="text-align:center;">元素高度</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.index-bd'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> width<span class="token punctuation">,</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
</code></pre></div><h5 id="element-offset"><a href="#element-offset" class="header-anchor">#</a> element.offset</h5> <p>获取元素绝对位置。</p> <p><code>element.offset(): Promise&lt;Object&gt;</code></p> <p>返回值说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">left</td> <td style="text-align:center;">number</td> <td style="text-align:center;">左上角x坐标，单位：px</td></tr> <tr><td style="text-align:center;">top</td> <td style="text-align:center;">number</td> <td style="text-align:center;">左上角y坐标，单位：px</td></tr></tbody></table> <p>坐标信息以页面左上角为原点。</p> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.index-bd'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> left<span class="token punctuation">,</span> top <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> top<span class="token punctuation">)</span>
</code></pre></div><h5 id="element-text"><a href="#element-text" class="header-anchor">#</a> element.text</h5> <p>获取元素文本。</p> <p><code>element.text(): Promise&lt;string&gt;</code></p> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.index-desc'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-attribute"><a href="#element-attribute" class="header-anchor">#</a> element.attribute</h5> <p>获取元素特性。</p> <p><code>element.attribute(name: string): Promise&lt;string&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">name</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">特性名</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.logo'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">attribute</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; 'static/logo.png'</span>
</code></pre></div><h5 id="element-property"><a href="#element-property" class="header-anchor">#</a> element.property</h5> <p>获取元素属性。</p> <p><code>element.property(name: string): Promise&lt;any&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">name</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">属性名</td></tr></tbody></table> <p><code>element.property</code> 与 <code>element.attribute</code> 主要区别如下：</p> <p><code>element.attribute</code> 获取的是标签上的值，因此它的返回类型一定是字符串，element.property 则不一定。</p> <p><code>element.attribute</code> 可以获取到 class 和 id 之类的值，element.property 不行。</p> <p><code>element.property</code> 可以获取到文档里对应组件列举的大部分属性值，比如表单 input 等组件的 value 值。</p> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-html"><a href="#element-html" class="header-anchor">#</a> element.html</h5> <p>获取元素 HTML。</p> <p><code>element.html(): Promise&lt;string&gt;</code></p> <h5 id="element-outerhtml"><a href="#element-outerhtml" class="header-anchor">#</a> element.outerHtml</h5> <p>同 html，只是会获取到元素本身。</p> <p><code>element.outerHtml(): Promise&lt;string&gt;</code></p> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.index-desc'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">outerHtml</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-value"><a href="#element-value" class="header-anchor">#</a> element.value</h5> <p>获取元素值。</p> <p><code>element.value(): Promise&lt;string&gt;</code></p> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.input'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-style"><a href="#element-style" class="header-anchor">#</a> element.style</h5> <p>获取元素样式值。</p> <p><code>element.style(name: string): Promise&lt;string&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">name</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">样式名</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.index-desc'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; 'rgb(128, 128, 128)'</span>
</code></pre></div><h5 id="element-tap"><a href="#element-tap" class="header-anchor">#</a> element.tap</h5> <p>点击元素。</p> <p><code>element.tap(): Promise&lt;void&gt;</code></p> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.list-item-hd'</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-longpress"><a href="#element-longpress" class="header-anchor">#</a> element.longpress</h5> <p>长按元素。</p> <p><code>element.longpress(): Promise&lt;void&gt;</code></p> <h5 id="element-touchstart"><a href="#element-touchstart" class="header-anchor">#</a> element.touchstart</h5> <p>手指开始触摸元素。</p> <p><code>element.touchstart(options: Object): Promise&lt;void&gt;</code></p> <p>options 字段定义如下：</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">touches</td> <td style="text-align:center;">array</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">触摸事件，当前停留在屏幕中的触摸点信息的数组</td></tr> <tr><td style="text-align:center;">changedTouches</td> <td style="text-align:center;">array</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">触摸事件，当前变化的触摸点信息的数组</td></tr></tbody></table> <h5 id="element-touchmove"><a href="#element-touchmove" class="header-anchor">#</a> element.touchmove</h5> <p>手指触摸元素后移动。</p> <p><code>element.touchmove(options: Object): Promise&lt;void&gt;</code></p> <p>options 字段同 touchstart。</p> <h5 id="element-touchend"><a href="#element-touchend" class="header-anchor">#</a> element.touchend</h5> <p>手指结束触摸元素。</p> <p><code>element.touchend(options: Object): Promise&lt;void&gt;</code></p> <p>options 字段同 touchstart。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.touch'</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">touchstart</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">touches</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">identifier</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pageX</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pageY</span><span class="token operator">:</span> <span class="token number">500</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">changedTouches</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">identifier</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pageX</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pageY</span><span class="token operator">:</span> <span class="token number">500</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">touchend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">touches</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">changedTouches</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">identifier</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pageX</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pageY</span><span class="token operator">:</span> <span class="token number">500</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-trigger"><a href="#element-trigger" class="header-anchor">#</a> element.trigger</h5> <p>触发元素事件。</p> <p><code>element.trigger(type: string, detail?: Object): Promise&lt;void&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">type</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">触发事件类型</td></tr> <tr><td style="text-align:center;">detail</td> <td style="text-align:center;">Object</td> <td style="text-align:center;">否</td> <td style="text-align:center;">-</td> <td style="text-align:center;">触发事件时传递的 detail 值</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'picker'</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>该方法无法改变组件状态，仅触发响应方法，也无法触发用户操作事件，即 <code>tap</code>，<code>longpress</code> 等事件，请使用对应的其它方法调用。</p> <h5 id="element-input"><a href="#element-input" class="header-anchor">#</a> element.input</h5> <p>输入文本，仅 input、textarea 组件可以使用。</p> <p><code>element.input(value: string): Promise&lt;void&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">value</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">需要输入的文本</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">input</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-callmethod"><a href="#element-callmethod" class="header-anchor">#</a> element.callMethod</h5> <p>调用组件实例指定方法，仅自定义组件可以使用。</p> <p><code>element.callMethod(method: string, ...args: any[]): Promise&lt;any&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">method</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">需要调用的方法名</td></tr> <tr><td style="text-align:center;">...args</td> <td style="text-align:center;">array</td> <td style="text-align:center;">否</td> <td style="text-align:center;">-</td> <td style="text-align:center;">方法参数</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'set-tab-bar'</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">callMethod</span><span class="token punctuation">(</span><span class="token string">'navigateBack'</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-data"><a href="#element-data" class="header-anchor">#</a> element.data</h5> <p>获取组件实例渲染数据，即<code>选项式 API data</code> 中返回的数据和<code>组合式 API defineExpose</code> 暴露的数据，仅自定义组件可以使用。<br> <strong>注意：</strong> <code>uni-app x</code> Android 端暂不支持获取 <code>defineExpose</code> 暴露的 <code>ref</code> 数据。</p> <p><code>element.data(path?: string): Promise&lt;Object&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">path</td> <td style="text-align:center;">string</td> <td style="text-align:center;">否</td> <td style="text-align:center;">-</td> <td style="text-align:center;">数据路径</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'set-tab-bar'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'hasSetTabBarBadge'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-setdata"><a href="#element-setdata" class="header-anchor">#</a> element.setData</h5> <p>设置组件实例渲染数据，仅自定义组件可以使用。</p> <p><code>element.setData(data: Object): Promise&lt;void&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">data</td> <td style="text-align:center;">Object</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">要改变的数据</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'set-tab-bar'</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">hasSetTabBarBadge</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-callcontextmethod"><a href="#element-callcontextmethod" class="header-anchor">#</a> element.callContextMethod</h5> <p>调用上下文 Context 对象方法，仅 video 组件可以使用。</p> <p><code>element.callContextMethod(method: string, ...args: any[]): Promise&lt;any&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">method</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">需要调用的方法名</td></tr> <tr><td style="text-align:center;">...args</td> <td style="text-align:center;">array</td> <td style="text-align:center;">否</td> <td style="text-align:center;">-</td> <td style="text-align:center;">方法参数</td></tr></tbody></table> <p>video 组件必须设置了 id 才能使用。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'video'</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">callContextMethod</span><span class="token punctuation">(</span><span class="token string">'play'</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-scrollwidth"><a href="#element-scrollwidth" class="header-anchor">#</a> element.scrollWidth</h5> <p>获取滚动宽度，仅 scroll-view 组件可以使用。</p> <p><code>element.scrollWidth(): Promise&lt;number&gt;</code></p> <h5 id="element-scrollheight"><a href="#element-scrollheight" class="header-anchor">#</a> element.scrollHeight</h5> <p>获取滚动高度，仅 scroll-view 组件可以使用。</p> <p><code>element.scrollHeight(): Promise&lt;number&gt;</code></p> <h5 id="element-scrollto"><a href="#element-scrollto" class="header-anchor">#</a> element.scrollTo</h5> <p>滚动到指定位置，仅 scroll-view 组件可以使用。</p> <p><code>element.scrollTo(x: number, y: number): Promise&lt;void&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">x</td> <td style="text-align:center;">number</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">横向滚动位置</td></tr> <tr><td style="text-align:center;">y</td> <td style="text-align:center;">number</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">纵向滚动位置</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'scroll-view'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">scrollHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">50</span>
  <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span>
</code></pre></div><h5 id="element-swipeto"><a href="#element-swipeto" class="header-anchor">#</a> element.swipeTo</h5> <p>滑动到指定滑块，仅 swiper 组件可以使用。</p> <p><code>element.swipeTo(index: number): Promise&lt;void&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">index</td> <td style="text-align:center;">number</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">目标滑块的 index</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'swiper'</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">swipeTo</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-moveto"><a href="#element-moveto" class="header-anchor">#</a> element.moveTo</h5> <p>移动视图容器，仅 movable-view 组件可以使用。</p> <p><code>element.moveTo(x: number, y: number): Promise&lt;void&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">x</td> <td style="text-align:center;">number</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">x 轴方向的偏移</td></tr> <tr><td style="text-align:center;">y</td> <td style="text-align:center;">number</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">y 轴方向的偏移</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'movable-view'</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="element-slideto"><a href="#element-slideto" class="header-anchor">#</a> element.slideTo</h5> <p>滑动到指定数值，仅 slider 组件可以使用。</p> <p><code>element.slideTo(value: number): Promise&lt;void&gt;</code></p> <p>参数说明</p> <table><thead><tr><th style="text-align:center;">字段</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">value</td> <td style="text-align:center;">number</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">要设置的值</td></tr></tbody></table> <p>示例代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> program<span class="token punctuation">.</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'slider'</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">slideTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="平台差异"><a href="#平台差异" class="header-anchor">#</a> 平台差异</h3> <h4 id="program-全局对象"><a href="#program-全局对象" class="header-anchor">#</a> program(全局对象)</h4> <table><thead><tr><th>方法</th> <th>APP-NVUE</th> <th>APP-VUE</th> <th>H5</th> <th>微信小程序</th> <th>百度小程序</th> <th>uni-app x</th> <th>说明</th></tr></thead> <tbody><tr><td>pageStack</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取小程序页面堆栈</td></tr> <tr><td>navigateTo</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>保留当前页面，跳转到应用内的某个页面，同<code>uni.navigateTo</code></td></tr> <tr><td>redirectTo</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>关闭当前页面，跳转到应用内的某个页面，同<code>uni.redirectTo</code></td></tr> <tr><td>navigateBack</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>关闭当前页面，返回上一页面，同<code>uni.navigateBack</code></td></tr> <tr><td>reLaunch</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>关闭所有页面，打开到应用内的某个页面，同<code>uni.reLaunch</code></td></tr> <tr><td>switchTab</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面，同<code>uni.switchTab</code></td></tr> <tr><td>currentPage</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取当前页面</td></tr> <tr><td>systemInfo</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取系统信息，同<code>uni.getSystemInfo</code></td></tr> <tr><td>pageScrollTo</td> <td>x</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>将页面滚动到目标位置，同<code>uni.pageScrollTo</code></td></tr> <tr><td>callUniMethod</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>调用 uni 对象上的指定方法</td></tr> <tr><td>screenshot</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>√</td> <td>对当前页面截图，目前只有开发者工具模拟器支持，客户端无法使用</td></tr> <tr><td>mockUniMethod</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>覆盖 uni 对象上指定方法的调用结果</td></tr> <tr><td>restoreUniMethod</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>重置 uni 指定方法，消除 mockUniMethod 调用的影响</td></tr> <tr><td>testAccounts</td> <td>x</td> <td>x</td> <td>x</td> <td>√</td> <td>x</td> <td>x</td> <td>获取多账号调试中已添加的用户列表</td></tr> <tr><td>evaluate</td> <td>x</td> <td>x</td> <td>x</td> <td>√</td> <td>x</td> <td>x</td> <td>注入代码片段并返回执行结果</td></tr> <tr><td>exposeFunction</td> <td>x</td> <td>x</td> <td>x</td> <td>√</td> <td>x</td> <td>x</td> <td>在全局暴露方法，供小程序侧调用测试脚本中的方法</td></tr></tbody></table> <h4 id="page-4"><a href="#page-4" class="header-anchor">#</a> Page</h4> <table><thead><tr><th>属性</th> <th>APP-NVUE</th> <th>APP-VUE</th> <th>H5</th> <th>微信小程序</th> <th>百度小程序</th> <th>uni-app x</th> <th>说明</th></tr></thead> <tbody><tr><td>path</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>页面路径</td></tr> <tr><td>query</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>页面参数</td></tr></tbody></table> <table><thead><tr><th>方法</th> <th>APP-NVUE</th> <th>APP-VUE</th> <th>H5</th> <th>微信小程序</th> <th>百度小程序</th> <th>uni-app x</th> <th>说明</th></tr></thead> <tbody><tr><td>$</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取页面元素</td></tr> <tr><td>$$</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取页面元素数组</td></tr> <tr><td>waitFor</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>等待直到指定条件成立</td></tr> <tr><td>data</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取页面渲染数据</td></tr> <tr><td>setData</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>设置页面渲染数据</td></tr> <tr><td>size</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取页面大小(width,height)</td></tr> <tr><td>scrollTop</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取页面滚动位置</td></tr> <tr><td>callMethod</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>调用页面指定方法，uni-app x args 仅支持一个参数</td></tr></tbody></table> <h4 id="element-4"><a href="#element-4" class="header-anchor">#</a> Element</h4> <table><thead><tr><th>属性</th> <th>APP-NVUE</th> <th>APP-VUE</th> <th>H5</th> <th>微信小程序</th> <th>百度小程序</th> <th>uni-app x</th> <th>说明</th></tr></thead> <tbody><tr><td>tagName</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>标签名，小写</td></tr></tbody></table> <table><thead><tr><th>方法</th> <th>APP-NVUE</th> <th>APP-VUE</th> <th>H5</th> <th>微信小程序</th> <th>百度小程序</th> <th>uni-app x</th> <th>说明</th></tr></thead> <tbody><tr><td>$</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>在元素范围内获取元素</td></tr> <tr><td>$$</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>在元素范围内获取元素数组</td></tr> <tr><td>size</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取元素大小(width,height)</td></tr> <tr><td>offset</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取元素绝对位置(left,top)</td></tr> <tr><td>text</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取元素文本</td></tr> <tr><td>attribute</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取元素特性</td></tr> <tr><td>style</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取元素样式值</td></tr> <tr><td>tap</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>点击元素</td></tr> <tr><td>value</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取元素值</td></tr> <tr><td>callMethod</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>调用组件实例指定方法，仅自定义组件可以使用，uni-app x args 仅支持一个参数</td></tr> <tr><td>html</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>获取元素 HTML</td></tr> <tr><td>outerHtml</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>同 html，只是会获取到元素本身</td></tr> <tr><td>data</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>获取组件实例渲染数据，仅自定义组件可以使用</td></tr> <tr><td>setData</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>设置组件实例渲染数据，仅自定义组件可以使用</td></tr> <tr><td>property</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>√</td> <td>获取元素属性</td></tr> <tr><td>touchstart</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>√</td> <td>手指开始触摸元素</td></tr> <tr><td>touchmove</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>√</td> <td>手指触摸元素后移动</td></tr> <tr><td>touchend</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>√</td> <td>手指结束触摸元素</td></tr> <tr><td>longpress</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>√</td> <td>长按</td></tr> <tr><td>trigger</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>x</td> <td>触发元素事件</td></tr> <tr><td>input</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>√</td> <td>输入文本，仅 input、textarea 组件可以使用</td></tr> <tr><td>callContextMethod</td> <td>x</td> <td>x</td> <td>x</td> <td>√</td> <td>x</td> <td>x</td> <td>调用上下文 Context 对象方法，仅 video 组件可以使用</td></tr> <tr><td>scrollWidth</td> <td>x</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>√</td> <td>获取滚动宽度，仅 scroll-view 组件可以使用</td></tr> <tr><td>scrollHeight</td> <td>x</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>√</td> <td>获取滚动高度，仅 scroll-view 组件可以使用</td></tr> <tr><td>scrollTo</td> <td>x</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>√</td> <td>滚动到指定位置，仅 scroll-view 组件可以使用</td></tr> <tr><td>swipeTo</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>x</td> <td>滑动到指定滑块，仅 swiper 组件可以使用</td></tr> <tr><td>moveTo</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>x</td> <td>移动视图容器，仅 movable-view 组件可以使用</td></tr> <tr><td>slideTo</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>x</td> <td>x</td> <td>滑动到指定数值，仅 slider 组件可以使用</td></tr></tbody></table> <h4 id="测试平台判断"><a href="#测试平台判断" class="header-anchor">#</a> 测试平台判断</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">UNI_PLATFORM</span> <span class="token operator">===</span> <span class="token string">&quot;h5&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">UNI_PLATFORM</span> <span class="token operator">===</span> <span class="token string">&quot;app-plus&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">UNI_PLATFORM</span> <span class="token operator">===</span> <span class="token string">&quot;mp-weixin&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">UNI_PLATFORM</span> <span class="token operator">===</span> <span class="token string">&quot;mp-baidu&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="jest-api"><a href="#jest-api" class="header-anchor">#</a> Jest API</h2> <h3 id="常用的匹配器"><a href="#常用的匹配器" class="header-anchor">#</a> 常用的匹配器</h3> <p>最简单测试一个值的方法是使用精确匹配的方法。</p> <div class="language- extra-class"><pre class="language-text"><code>test('two plus two is four', () =&gt; {
  expect(2 + 2).toBe(4);
});
</code></pre></div><p>在上面的代码中，<code>expect (2 + 2)</code> 返回了一个&quot;预期&quot;的对象。 你通常不会对这些期望对象调用过多的匹配器。 在此代码中，<code>.toBe(4)</code> 是匹配器。 当 Jest 运行时，它会跟踪所有失败的匹配器，以便它可以为你打印出很好的错误消息。</p> <p><code>toBe</code> 使用 <code>Object.is</code> 来进行精准匹配的测试。 如果要检查对象的值，请使用 <code>toEqual</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>test('对象赋值', () =&gt; {
  const data = {one: 1};
  data['two'] = 2;
  expect(data).toEqual({one: 1, two: 2});
});
</code></pre></div><p><code>toEqual</code> 递归检查对象或数组的每个字段。</p> <p><strong>Notice:</strong><br> <code>toEqual</code> 会忽略具有未定义属性、未定义数组项、数组稀疏或对象类型不匹配的对象键。 要考虑这些，请改用 <code>toStrictEqual</code>。</p> <p>您还可以使用与匹配相反的 <code>not</code> 来进行测试：</p> <div class="language- extra-class"><pre class="language-text"><code>test('adding positive numbers is not zero', () =&gt; {
  for (let a = 1; a &lt; 10; a++) {
    for (let b = 1; b &lt; 10; b++) {
      expect(a + b).not.toBe(0);
    }
  }
});
</code></pre></div><h3 id="真值"><a href="#真值" class="header-anchor">#</a> 真值</h3> <p>代码中的 <code>undefined</code>, <code>null</code> 和 <code>false</code> 有不同含义，若你在测试时不想区分他们，可以用真值判断。 Jest 提供 <code>helpers</code> 供你使用。</p> <ul><li><code>toBeNull</code> 只匹配 <code>null</code></li> <li><code>toBeUndefined</code> 只匹配 <code>undefined</code></li> <li><code>toBeDefined</code> 与 <code>toBeUndefined</code> 相反</li> <li><code>toBeTruthy</code> 匹配任何 <code>if</code> 语句为真</li> <li><code>toBeFalsy</code> 匹配任何 <code>if</code> 语句为假</li></ul> <p>例如：</p> <div class="language- extra-class"><pre class="language-text"><code>test('null', () =&gt; {
  const n = null;
  expect(n).toBeNull();
  expect(n).toBeDefined();
  expect(n).not.toBeUndefined();
  expect(n).not.toBeTruthy();
  expect(n).toBeFalsy();
});

test('zero', () =&gt; {
  const z = 0;
  expect(z).not.toBeNull();
  expect(z).toBeDefined();
  expect(z).not.toBeUndefined();
  expect(z).not.toBeTruthy();
  expect(z).toBeFalsy();
});
</code></pre></div><h3 id="数字"><a href="#数字" class="header-anchor">#</a> 数字</h3> <p>大多数的比较数字有等价的匹配器。</p> <div class="language- extra-class"><pre class="language-text"><code>test('two plus two', () =&gt; {
  const value = 2 + 2;
  expect(value).toBeGreaterThan(3);
  expect(value).toBeGreaterThanOrEqual(3.5);
  expect(value).toBeLessThan(5);
  expect(value).toBeLessThanOrEqual(4.5);

  // toBe and toEqual are equivalent for numbers
  expect(value).toBe(4);
  expect(value).toEqual(4);
});
</code></pre></div><p>更多 Jest API 参考<a href="https://jestjs.io" target="_blank" rel="noopener noreferrer">文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://gitcode.net/dcloud/unidocs-zh/edit/master/docs/worktile/auto/api.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/4/11 19:55:51</span></div></footer> <!---->  <div id="footNavBox" data-v-f6aded24><div class="footNav" data-v-f6aded24><div id="footNavClassify" data-v-f6aded24><div class="footNavItem" data-v-f6aded24 data-v-f6aded24><div class="navItemTitle" data-v-f6aded24 data-v-f6aded24>开发产品</div><div class="navLine" data-v-f6aded24 data-v-f6aded24></div><div class="navItemDetailBox" data-v-f6aded24 data-v-f6aded24><a target="_blank" href="https://www.dcloud.io/hbuilderx.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>HBuilderX</a><a target="_blank" href="https://uniapp.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-app</a><a target="_blank" href="https://doc.dcloud.net.cn/uni-app-x/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-app x</a><a target="_blank" href="https://doc.dcloud.net.cn/uniCloud/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uniCloud</a><a target="_blank" href="https://nativesupport.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uniMPsdk</a><a target="_blank" href="https://www.dcloud.io/runtime.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>5+Runtime</a><a target="_blank" href="https://www.dcloud.io/wap2app.html?platform=wap2app" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>wap2app</a><a target="_blank" href="https://www.dcloud.io/mui.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>MUI</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/uni-id" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-id</a><a target="_blank" href="https://doc.dcloud.net.cn/uniCloud/uni-cdn/intro.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-cdn</a><a target="_blank" href="https://doc.dcloud.net.cn/uniCloud/uni-pay/uni-app.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-pay</a><a target="_blank" href="https://uniapp.dcloud.net.cn/unipush" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-push</a><a target="_blank" href="https://uniapp.dcloud.io/univerify" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni一键登陆</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/frv/intro.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni实人认证</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/send-sms" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>sms</a><a target="_blank" href="https://ext.dcloud.net.cn/plugin?id=5057" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-starter</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/admin" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-admin</a><a target="_blank" href="https://uniapp.dcloud.io/uniCloud/upgrade-center" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-upgrade-center</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/uni-im" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-im</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/uni-ai" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-ai</a><a target="_blank" href="https://uniapp.dcloud.net.cn/uniCloud/uni-cms" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-cms</a><a target="_blank" href="https://doc.dcloud.net.cn/uniCloud/unicloud-map.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uniCloud-map</a><a target="_blank" href="https://ext.dcloud.net.cn/plugin?id=3851" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-search</a></div></div></div> <div id="aboutusBox" data-v-f6aded24><div class="footNavItem" data-v-f6aded24 data-v-f6aded24><div class="navItemTitle" data-v-f6aded24 data-v-f6aded24>运营产品</div><div class="navLine" data-v-f6aded24 data-v-f6aded24></div><div class="navItemDetailBox" data-v-f6aded24 data-v-f6aded24><a target="_blank" href="https://uniad.dcloud.net.cn/login" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-ad</a><a target="_blank" href="https://tongji.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni统计</a><a target="_blank" href="https://www.dcloud.io/dportal.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni发行</a><a target="_blank" href="https://uniapp.dcloud.net.cn/tutorial/safe.html" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni安全专题</a></div></div><div class="footNavItem" data-v-f6aded24 data-v-f6aded24><div class="navItemTitle" data-v-f6aded24 data-v-f6aded24>开发者服务</div><div class="navLine" data-v-f6aded24 data-v-f6aded24></div><div class="navItemDetailBox" data-v-f6aded24 data-v-f6aded24><a target="_blank" href="https://ask.dcloud.net.cn/explore/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>问答社区</a><a target="_blank" href="https://dev.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>开发者后台</a></div></div><div class="footNavItem" data-v-f6aded24 data-v-f6aded24><div class="navItemTitle" data-v-f6aded24 data-v-f6aded24>技术文档</div><div class="navLine" data-v-f6aded24 data-v-f6aded24></div><div class="navItemDetailBox" data-v-f6aded24 data-v-f6aded24><a target="_blank" href="https://uniapp.dcloud.io/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uni-app文档</a><a target="_blank" href="https://uniapp.dcloud.io/uniCloud/README" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>uniCloud文档</a><a target="_blank" href="https://nativesupport.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>原生开发者支持文档</a><a target="_blank" href="https://hx.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>HBuilder文档</a></div></div><div class="footNavItem" data-v-f6aded24 data-v-f6aded24><div class="navItemTitle" data-v-f6aded24 data-v-f6aded24>生态服务</div><div class="navLine" data-v-f6aded24 data-v-f6aded24></div><div class="navItemDetailBox" data-v-f6aded24 data-v-f6aded24><a target="_blank" href="https://ext.dcloud.net.cn/" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>插件市场</a><a target="_blank" href="https://open.dcloud.net.cn/pages/login/login" class="navItemDetail" data-v-f6aded24 data-v-f6aded24>OAuth用户开放平台</a></div></div></div></div> <div class="hbLogo" data-v-f6aded24></div> <div class="introduce" data-v-f6aded24><div class="introduce-item" data-v-f6aded24><span class="introduce-title" data-v-f6aded24>关于我们：</span> <a href="https://dcloud.io/" target="_blank" class="navItemDetail" data-v-f6aded24>
						DCloud官网
					</a><a href="https://uniapp.dcloud.io/case" target="_blank" class="navItemDetail" data-v-f6aded24>
						案例
					</a><a href="https://dev.dcloud.net.cn/wish/?channel=uniapp" target="_blank" class="navItemDetail" data-v-f6aded24>
						需求墙
					</a><a href="https://dcloud.io/license/DCloud.html" target="_blank" class="navItemDetail" data-v-f6aded24>
						许可协议
					</a><a href="https://www.dcloud.io/hr/" target="_blank" class="navItemDetail" data-v-f6aded24>
						加入我们
					</a><a href="https://dev.dcloud.net.cn/sponsor/" target="_blank" class="navItemDetail" data-v-f6aded24>
						赞助我们
					</a></div><div class="introduce-item" data-v-f6aded24><span class="introduce-title" data-v-f6aded24>联系我们：</span> <a href="mailto:bd@dcloud.io" target="_blank" class="navItemDetail" data-v-f6aded24>
						商务合作：bd@dcloud.io
					</a><a href="mailto:uniad@dcloud.io" target="_blank" class="navItemDetail" data-v-f6aded24>
						广告合作：uniad@dcloud.io
					</a></div></div> <div data-v-f6aded24><div class="companyBox" data-v-f6aded24><span class="companyInfo" data-v-f6aded24><span class="companyInfo-dcloud" data-v-f6aded24>DCloud.io</span> 数字天堂（北京）网络技术有限公司是</span> <div class="companyInfo" style="display: inline; margin-left: 5px" data-v-f6aded24><a href="//www.html5plus.org/" target="_blank" class="html5" data-v-f6aded24>HTML5中国产业联盟</a>
				发起单位
			</div></div> <div class="beianBox" data-v-f6aded24><a id="domain" href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank" class="beian" data-v-f6aded24>
				
			</a> <div class="domainImgBox" data-v-f6aded24><img src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/jgwab.png" class="domainImg" data-v-f6aded24> <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010802035340" target="_blank" class="beian" data-v-f6aded24>京公网安备：11010802035340号 </a></div> <span class="anbaoInfo" data-v-f6aded24>  国家信息安全等级保护三级，证书编号：11010813802-20001</span></div></div></div></main> <div class="sticker vuepress-toc"><h5>本页导读</h5> <div class="vuepress-toc-item vuepress-toc-h2 active"><a href="/worktile/auto/api.html#uni-测试框架-api" title="Uni 测试框架 API" style="padding-left:0rem;"><span>Uni 测试框架 API</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/worktile/auto/api.html#program" title="program" style="padding-left:1rem;"><span>program</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/worktile/auto/api.html#方法" title="方法" style="padding-left:2rem;"><span>方法</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/worktile/auto/api.html#page" title="Page" style="padding-left:1rem;"><span>Page</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/worktile/auto/api.html#属性" title="属性" style="padding-left:2rem;"><span>属性</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/worktile/auto/api.html#方法-2" title="方法" style="padding-left:2rem;"><span>方法</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/worktile/auto/api.html#page-scrolltop" title="page.scrollTop" style="padding-left:2rem;"><span>page.scrollTop</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/worktile/auto/api.html#element" title="Element" style="padding-left:1rem;"><span>Element</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/worktile/auto/api.html#属性-2" title="属性" style="padding-left:2rem;"><span>属性</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/worktile/auto/api.html#方法-3" title="方法" style="padding-left:2rem;"><span>方法</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/worktile/auto/api.html#平台差异" title="平台差异" style="padding-left:1rem;"><span>平台差异</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/worktile/auto/api.html#program-全局对象" title="program(全局对象)" style="padding-left:2rem;"><span>program(全局对象)</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/worktile/auto/api.html#page-4" title="Page" style="padding-left:2rem;"><span>Page</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/worktile/auto/api.html#element-4" title="Element" style="padding-left:2rem;"><span>Element</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/worktile/auto/api.html#测试平台判断" title="测试平台判断" style="padding-left:2rem;"><span>测试平台判断</span></a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="/worktile/auto/api.html#jest-api" title="Jest API" style="padding-left:0rem;"><span>Jest API</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/worktile/auto/api.html#常用的匹配器" title="常用的匹配器" style="padding-left:1rem;"><span>常用的匹配器</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/worktile/auto/api.html#真值" title="真值" style="padding-left:1rem;"><span>真值</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/worktile/auto/api.html#数字" title="数字" style="padding-left:1rem;"><span>数字</span></a></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/2025-04-15_19-54-18/assets/js/app.328260a9.js" defer></script><script src="/2025-04-15_19-54-18/assets/js/vendors~layout-Layout.e5b3d2d6.js" defer></script><script src="/2025-04-15_19-54-18/assets/js/530.e186095e.js" defer></script><script src="/2025-04-15_19-54-18/assets/js/docs/worktile/auto/api.d412f9e0.js" defer></script>
  </body>
</html>
