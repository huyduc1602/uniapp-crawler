<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>激励视频广告 | uni-app官网</title>
<meta content="VuePress 1.9.9" name="generator"/>
<link href="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/icon.png?v=1556263038788" rel="shortcut icon" type="image/x-icon"/>
<script src="/js/redirect.js"></script>
<script src="https://hm.baidu.com/hm.js?fe3b7a223fc08c795f0f4b6350703e6f"></script>
<script src="/miku-delivery-1.2.1.js"></script>
<script src="/js/miku.js?1744775732411&amp;v=1744775732411&amp;version=1744775732411"></script>
<meta content="uni-app,uniCloud,serverless,激励视频广告,简介,流程概述,组件语法,简单示例,完整示例,组件API调用示例,获取广告商名称,显示/隐藏,广告拉取成功与失败,拉取失败，重新拉取,监听用户关闭广告,API语法,显示/隐藏,广告拉取成功与失败,拉取失败，重新拉取,监听用户关闭广" name="description"/>
<meta content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" name="viewport"/>
<meta content="serverless,云开发,数字天堂,前端开发,web开发,小程序开发,跨平台,跨平台开发,跨端开发,混合开发,app开发,多端开发,开发工具,HTML5,vue,react,native,rn,flutter,weex,cordova,微信小程序,阿里小程序,支付宝小程序,百度小程序,头条小程序,抖音小程序,QQ小程序,快应用,流应用,云函数" name="keywords"/>
<link as="style" href="/2025-04-16_11-55-32/assets/css/0.styles.ee65e650.css" rel="preload"/><link as="script" href="/2025-04-16_11-55-32/assets/js/app.bcd0c5c9.js" rel="preload"/><link as="script" href="/2025-04-16_11-55-32/assets/js/vendors~layout-Layout.e5b3d2d6.js" rel="preload"/><link as="script" href="/2025-04-16_11-55-32/assets/js/530.e186095e.js" rel="preload"/><link as="script" href="/2025-04-16_11-55-32/assets/js/docs/uni-ad/ad-rewarded-video.df7ccc79.js" rel="preload"/><link href="/2025-04-16_11-55-32/assets/js/docs/api/index.28ecfc84.js" rel="prefetch"/><link href="/2025-04-16_11-55-32/assets/js/docs/component/index.07394733.js" rel="prefetch"/><link href="/2025-04-16_11-55-32/assets/js/docs/index.bdc43525.js" rel="prefetch"/><link href="/2025-04-16_11-55-32/assets/js/docs/plugin/index.e350cb6a.js" rel="prefetch"/><link href="/2025-04-16_11-55-32/assets/js/docs/tutorial/index.569b6724.js" rel="prefetch"/><link href="/2025-04-16_11-55-32/assets/js/docs/uni-ad/index.acd922aa.js" rel="prefetch"/><link href="/2025-04-16_11-55-32/assets/js/docs/uni-app-x/index.2228d6d4.js" rel="prefetch"/><link href="/2025-04-16_11-55-32/assets/js/docs/uniCloud/index.ff840e8c.js" rel="prefetch"/><link href="/2025-04-16_11-55-32/assets/js/docs/worktile/auto/hbuilderx-extension/index.142139b2.js" rel="prefetch"/><link href="/2025-04-16_11-55-32/assets/js/docs/worktile/index.b76d28f3.js" rel="prefetch"/><link href="/2025-04-16_11-55-32/assets/js/layout-Layout.c7c28f93.js" rel="prefetch"/><link href="/2025-04-16_11-55-32/assets/js/layout-NotFound.b6830249.js" rel="prefetch"/><link href="/2025-04-16_11-55-32/assets/js/layout-SimpleLayout.acd4c796.js" rel="prefetch"/>
<link href="/2025-04-16_11-55-32/assets/css/0.styles.ee65e650.css" rel="stylesheet"/>
</head>
<body>
<div data-server-rendered="true" id="app"><div class="theme-container"><header class="navbar"><div class="main-navbar"><a class="home-link" href="https://www.dcloud.io"><img alt="uni-app官网" class="logo" src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/logo.png"/> <img alt="uni-app官网" class="title-logo can-hide" src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni-app.png"/></a> <div class="main-navbar-links can-hide"><div class="main-navbar-item"><a href="javascript:;">uni-app</a></div><div class="main-navbar-item"><div class="main-navbar-link"><a class="nav-link external" href="https://doc.dcloud.net.cn/uni-app-x/" rel="noopener noreferrer" target="_blank">
  uni-app x
  <!-- --></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a class="nav-link external" href="https://doc.dcloud.net.cn/uniCloud/" rel="noopener noreferrer" target="_blank">
  uniCloud
  <!-- --></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a class="nav-link external" href="https://hx.dcloud.net.cn/" rel="noopener noreferrer" target="_blank">
  HBuilder
  <!-- --></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a class="nav-link external" href="https://nativesupport.dcloud.net.cn/" rel="noopener noreferrer" target="_blank">
  uni 小程序 sdk
  <!-- --></a></div></div><div class="main-navbar-item active"><div class="main-navbar-link"><a class="nav-link router-link-active" href="/uni-ad/">
  uni-ad广告
</a></div></div></div> <div class="mobile-main-navbar"><div class="mobile-links_mobile"><a class="mobile-links__btn" href="javascript:;">uni-ad广告</a></div> <div class="mobile-links__panel"><div class="main-navbar-item"><a href="javascript:;">uni-app</a></div><div class="main-navbar-item"><div class="main-navbar-link"><a class="nav-link external" href="https://doc.dcloud.net.cn/uni-app-x/" rel="noopener noreferrer" target="_blank">
  uni-app x
  <!-- --></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a class="nav-link external" href="https://doc.dcloud.net.cn/uniCloud/" rel="noopener noreferrer" target="_blank">
  uniCloud
  <!-- --></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a class="nav-link external" href="https://hx.dcloud.net.cn/" rel="noopener noreferrer" target="_blank">
  HBuilder
  <!-- --></a></div></div><div class="main-navbar-item"><div class="main-navbar-link"><a class="nav-link external" href="https://nativesupport.dcloud.net.cn/" rel="noopener noreferrer" target="_blank">
  uni 小程序 sdk
  <!-- --></a></div></div><div class="main-navbar-item active"><div class="main-navbar-link"><a class="nav-link router-link-active" href="/uni-ad/">
  uni-ad广告
</a></div></div></div></div> <div class="dropdown-language"><div style="display: flex;align-items: center;"><span>简体中文</span> <svg class="icon" height="16" p-id="3713" t="1629441415944" version="1.1" viewbox="0 20 1024 1024" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M508.025406 655.446718c-14.45307 0-28.183486-5.781228-39.023289-15.898376l-231.249118-231.249118c-10.117149-10.117149-10.117149-26.015526 0-36.132675s26.015526-10.117149 36.132675 0l231.249118 231.249118c2.16796 2.16796 4.335921 2.16796 5.781228 0l231.971771-231.971771c10.117149-10.117149 26.015526-10.117149 35.410021 0 10.117149 10.117149 10.117149 26.015526 0 36.132674l-231.971771 231.971772c-9.394495 10.117149-23.124912 15.898377-38.300635 15.898376z" p-id="3714"></path></svg></div> <!-- --></div> <div class="links" style="top:0px;z-index:100;"><!-- --> <div id="docsearch"><button aria-label="搜索文档" class="DocSearch DocSearch-Button" type="button"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" height="20" viewbox="0 0 20 20" width="20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></svg> <span class="DocSearch-Button-Placeholder">搜索文档</span></span> <span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key"><svg class="DocSearch-Control-Key-Icon" height="15" width="15"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" fill="none" stroke="currentColor" stroke-linecap="square" stroke-width="1.2"></path></svg></span> <span class="DocSearch-Button-Key">K</span></span></button></div></div></div> <div class="sub-navbar"><!-- --> <!-- --> <div class="mobile-sub-navbar"><div class="subnavbar__item"><a href="javascript:;">uni-ad广告</a></div></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!-- --> <ul class="sidebar-links"><li><a aria-current="page" class="sidebar-link" href="/uni-ad/">业务介绍</a></li><li><a class="sidebar-link data-no-emphasize" href="/uni-ad/ad-splash.html">开屏广告</a></li><li><a class="sidebar-link data-no-emphasize" href="/uni-ad/ad-component.html">信息流(Banner)广告</a></li><li><a aria-current="page" class="active sidebar-link data-no-emphasize" href="/uni-ad/ad-rewarded-video.html">激励视频广告</a></li><li><a class="sidebar-link data-no-emphasize" href="/uni-ad/unimp.html">uniMP激励视频广告</a></li><li><a class="sidebar-link" href="/uni-ad/ad-fullscreen-video.html">全屏视频广告</a></li><li><a class="sidebar-link" href="/uni-ad/ad-interstitial.html">插屏广告</a></li><li><a class="sidebar-link data-no-emphasize" href="/uni-ad/ad-draw.html">Draw视频信息流广告</a></li><li><a class="sidebar-link data-no-emphasize" href="/uni-ad/ad-content-page.html">短视频内容联盟广告</a></li><li><a class="sidebar-link data-no-emphasize" href="/uni-ad/ad-weixin.html">微信小程序业务介绍</a></li><li><a class="sidebar-link data-no-emphasize" href="/uni-ad/ad-weixin-dcloud.html">微信小程序广告开通指南</a></li><li><a class="sidebar-link data-no-emphasize" href="/uni-ad/ad-video.html">微信小程序视频广告</a></li><li><a class="sidebar-link data-no-emphasize" href="/uni-ad/ad-grid.html">微信小程序格子广告</a></li><li><a class="sidebar-link data-no-emphasize" href="/uni-ad/ad-error-code.html">广告错误码</a></li><li><a class="sidebar-link data-no-emphasize" href="/uni-ad/release.html">uni-ad管理后台更新说明</a></li></ul> <div class="contact-box"><div class="contact-item"><img height="20" src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/chat-icon-r.png" width="20"/> <div class="contact-smg"><div>
					uni-ad的uni-im交流群：
					<a href="https://im.dcloud.net.cn/#/?joinGroup=65d85fc09847e92db03ff81a" target="_blank">点击加入</a>
</div></div></div> <!-- --> <div class="contact-item"><img height="20" src="https://web-assets.dcloud.net.cn/unidoc/zh/weixin@2x.png" width="20"/> <div class="contact-smg"><div>关注微信公众号</div> <img height="90" src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/weixin.jpg" width="90"/></div></div></div></aside> <main class="page"> <div class="table-of-contents" data-v-9fc101e6=""><div class="vuepress-toc-item-top vuepress-toc-h2" data-v-9fc101e6=""><a data-v-9fc101e6="" href="/uni-ad/ad-rewarded-video.html#激励视频广告" style="padding-left:0rem;" title="激励视频广告"><span data-v-9fc101e6="">激励视频广告</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h3" data-v-9fc101e6=""><a data-v-9fc101e6="" href="/uni-ad/ad-rewarded-video.html#简介" style="padding-left:1rem;" title="简介"><span data-v-9fc101e6="">简介</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h3" data-v-9fc101e6=""><a data-v-9fc101e6="" href="/uni-ad/ad-rewarded-video.html#流程概述" style="padding-left:1rem;" title="流程概述"><span data-v-9fc101e6="">流程概述</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h3" data-v-9fc101e6=""><a data-v-9fc101e6="" href="/uni-ad/ad-rewarded-video.html#组件语法" style="padding-left:1rem;" title="组件语法"><span data-v-9fc101e6="">组件语法</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6=""><a data-v-9fc101e6="" href="/uni-ad/ad-rewarded-video.html#简单示例" style="padding-left:2rem;" title="简单示例"><span data-v-9fc101e6="">简单示例</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6=""><a data-v-9fc101e6="" href="/uni-ad/ad-rewarded-video.html#完整示例" style="padding-left:2rem;" title="完整示例"><span data-v-9fc101e6="">完整示例</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6=""><a data-v-9fc101e6="" href="/uni-ad/ad-rewarded-video.html#组件api调用示例" style="padding-left:2rem;" title="组件API调用示例"><span data-v-9fc101e6="">组件API调用示例</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6=""><a data-v-9fc101e6="" href="/uni-ad/ad-rewarded-video.html#获取广告商名称" style="padding-left:2rem;" title="获取广告商名称"><span data-v-9fc101e6="">获取广告商名称</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6=""><a data-v-9fc101e6="" href="/uni-ad/ad-rewarded-video.html#显示-隐藏" style="padding-left:2rem;" title="显示/隐藏"><span data-v-9fc101e6="">显示/隐藏</span></a></div><div class="vuepress-toc-item-top vuepress-toc-h4" data-v-9fc101e6=""><a data-v-9fc101e6="" href="/uni-ad/ad-rewarded-video.html#广告拉取成功与失败" style="padding-left:2rem;" title="广告拉取成功与失败"><span data-v-9fc101e6="">广告拉取成功与失败</span></a></div> <span class="expand-button" data-v-9fc101e6="">
    展示全部
    <span class="uni-icons uniui-bottom" data-v-9fc101e6=""></span></span></div> <div class="theme-default-content content__default"><h2 id="激励视频广告"><a class="header-anchor" href="#激励视频广告">#</a> 激励视频广告</h2> <h3 id="简介"><a class="header-anchor" href="#简介">#</a> 简介</h3> <p>激励视频广告，是cpm收益<strong>最高</strong>的广告形式。</p> <p>手机用户观看几十秒视频广告，在广告播放完毕后可获得应用开发商提供的奖励，而应用开发商则可以从广告平台获取不菲的广告收入。</p> <p><video controls="controls" src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni-ad/ad-rewarded-video.x264.mp4" style="max-width:100%;max-height:50vh;"></video></p> <p>与开屏、信息流等广告变现方式不同，激励视频需设计激励场景，给用户发放激励。</p> <p>常见场景：</p> <ul><li>合成类游戏，看广告获得道具，比如各种养龙、养凤凰、养牛、养蟹......</li> <li>走路赚钱、看短视频赚钱、猜歌赚钱等应用也非常多</li> <li>网赚应用中，做各种任务赚钱，或者想要接赚钱的任务，前提是观看激励视频</li> <li>增值内容消费，比如小说、电影看一半，剩下的需要看广告后才能继续</li> <li>区块链应用融合激励视频，比如看广告提高收益</li> <li>游戏内看广告复活、看广告拿高级道具</li></ul> <p>注意激励不能直接发钱，那会被视为积分墙，而被广告平台禁封。</p> <ul><li>激励视频还经常和邀请裂变结合在一起，应用开发者为用户设计邀请好友的奖励，让用户有动力邀请更多用户使用这个应用，邀请的人越多，获得的奖励越多。</li></ul> <p>激励视频是造富神器。行业经常出现几个人的团队，月收入百万的奇迹。</p> <p><strong>平台差异说明</strong></p> <table><thead><tr><th style="text-align:center;">App</th> <th style="text-align:center;">H5</th> <th style="text-align:center;">微信小程序</th> <th style="text-align:center;">支付宝小程序</th> <th style="text-align:center;">百度小程序</th> <th style="text-align:center;">抖音小程序</th> <th style="text-align:center;">QQ小程序</th> <th style="text-align:center;">快应用</th> <th style="text-align:center;">360小程序</th> <th style="text-align:center;">快手小程序</th> <th style="text-align:center;">京东小程序</th> <th style="text-align:center;">元服务</th></tr></thead> <tbody><tr><td style="text-align:center;">√（3.4.8+）</td> <td style="text-align:center;">x</td> <td style="text-align:center;">√（3.4.8+）</td> <td style="text-align:center;">x</td> <td style="text-align:center;">x</td> <td style="text-align:center;">x</td> <td style="text-align:center;">x</td> <td style="text-align:center;">x</td> <td style="text-align:center;">x</td> <td style="text-align:center;">x</td> <td style="text-align:center;">x</td> <td style="text-align:center;">x</td></tr></tbody></table> <h3 id="流程概述"><a class="header-anchor" href="#流程概述">#</a> 流程概述</h3> <ol><li><strong>开通配置广告</strong>
使用激励视频，需首先申请开通。开通步骤详见 <a href="https://uniapp.dcloud.net.cn/uni-ad.html#start" rel="noopener noreferrer" target="_blank">https://uniapp.dcloud.net.cn/uni-ad.html#start<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li> <li>在页面合适位置引入<code>&lt;ad-rewarded-video&gt;&lt;/ad-rewarded-video&gt;</code>组件</li> <li>点击组件后自动开始播放全屏的激励视频，有倒计时。倒计时结束前关闭视频，则无法获得奖励。</li> <li>在客户端和云端可以监听用户是否观看完毕。注意客户端监听不可信赖，不能根据客户端通知来给用户发激励。需云端监听，也就是开通激励视频服务器回调。</li> <li>服务器通过激励视频回调，拿到用户id、是否播放完毕，然后给用户发放奖励。</li> <li>客户端监听到广告播放完毕后，向服务器请求，服务器告知客户端是否发放了奖励。</li></ol> <p>为提升激励视频cpm收益，开发者需要在<a href="https://uniad.dcloud.net.cn/" rel="noopener noreferrer" target="_blank">uni-ad 后台<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a>同时开通多个广告平台，比如穿山甲、优量汇、快手等。然后 uni-ad 会自动竞价、分层，在不同的广告平台选择出价最高的广告来播放。</p> <p>一个用户每日反复观看激励视频，来领取奖励，会造成广告cpm下降、填充不足等问题。因为广告商不愿意给这个用户再投放广告了。所以一般需要限制用户每日观看激励视频的次数，如15次左右。</p> <h3 id="组件语法"><a class="header-anchor" href="#组件语法">#</a> 组件语法</h3> <p>在页面中合适位置，引入下面的激励视频启动组件。</p> <p>该组件是一个容器组件，可以在里面继续包裹<code>&lt;button&gt;</code>、<code>&lt;image&gt;</code>等组件，但无需为button编写点击事件，点击后会自动启动全屏的激励视频。</p> <p><code>&lt;ad-rewarded-video&gt;&lt;/ad-rewarded-video&gt;</code></p> <p><strong>属性说明</strong></p> <table><thead><tr><th style="text-align:left;">属性名</th> <th style="text-align:left;">类型</th> <th style="text-align:left;">默认值</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">平台差异</th></tr></thead> <tbody><tr><td style="text-align:left;">adpid</td> <td style="text-align:left;">String|Number</td> <td style="text-align:left;"></td> <td style="text-align:left;">广告位id，到<a href="https://uniad.dcloud.net.cn/" rel="noopener noreferrer" target="_blank">uni-ad后台<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a>后台申请。</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">preload</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">true</td> <td style="text-align:left;">页面就绪后加载广告数据</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">loadnext</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">false</td> <td style="text-align:left;">自动加载下一条广告数据</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">disabled</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">false</td> <td style="text-align:left;">禁用默认点击行为</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">url-callback</td> <td style="text-align:left;">Object</td> <td style="text-align:left;"></td> <td style="text-align:left;">服务器回调透传数据</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">v-slot:default="{loading, error}"</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">作用域插槽可以获取组件内部广告加载状态和加载错误信息</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">@load</td> <td style="text-align:left;">EventHandle</td> <td style="text-align:left;">加载事件</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">@close</td> <td style="text-align:left;">EventHandle</td> <td style="text-align:left;">关闭事件</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">@error</td> <td style="text-align:left;">EventHandle</td> <td style="text-align:left;">错误事件</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr></tbody></table> <p><strong>url-callback说明</strong></p> <table><thead><tr><th style="text-align:center;">字段定义</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">字段名称</th> <th style="text-align:center;">备注</th></tr></thead> <tbody><tr><td style="text-align:center;">userId</td> <td style="text-align:center;">String</td> <td style="text-align:center;">用户id</td> <td style="text-align:center;">调用SDK透传，应用对用户的唯一标识</td></tr> <tr><td style="text-align:center;">extra</td> <td style="text-align:center;">String</td> <td style="text-align:center;">自定义数据</td> <td style="text-align:center;">调用SDK传入并透传，如无需要则为空</td></tr></tbody></table> <p><strong>方法说明</strong></p> <table><thead><tr><th style="text-align:left;">方法名</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">load</td> <td style="text-align:left;">加载广告数据</td></tr> <tr><td style="text-align:left;">show</td> <td style="text-align:left;">显示广告</td></tr></tbody></table> <p><strong>注意</strong></p> <ul><li><code>load</code> 和 <code>show</code> 不能同时调用，在 <code>load</code> 过程中调用 <code>show</code> 会被忽略，因为数据还没加载完毕，可以在<code>@load</code>完成事件中调用 <code>show</code></li> <li>支持重复调用 <code>show</code>，调用 <code>show</code> 时会判断是否加载过数据，如果没有会自动加载一次，如果组件正在预载数据，调用 <code>show</code> 也会被忽略</li> <li>推荐直接使用组件的自动加载逻辑，完全不需要手动调用 <code>load</code> 和 <code>show</code></li></ul> <h4 id="简单示例"><a class="header-anchor" href="#简单示例">#</a> 简单示例</h4> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ad-rewarded-video</span> <span class="token attr-name">adpid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1507000689<span class="token punctuation">"</span></span> <span class="token attr-name">:loadnext</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-slot:</span>default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{loading, error}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span> <span class="token attr-name">:loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>显示广告<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{error}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ad-rewarded-video</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="完整示例"><a class="header-anchor" href="#完整示例">#</a> 完整示例</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ad-rewarded-video</span> <span class="token attr-name">adpid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1507000689<span class="token punctuation">"</span></span> <span class="token attr-name">:loadnext</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-slot:</span>default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{loading, error}<span class="token punctuation">"</span></span> <span class="token attr-name">@load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onadload<span class="token punctuation">"</span></span> <span class="token attr-name">@close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onadclose<span class="token punctuation">"</span></span> <span class="token attr-name">@error</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onaderror<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span> <span class="token attr-name">:loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>显示广告<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{error}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ad-rewarded-video</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">onadload</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'广告数据加载成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onadclose</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> detail <span class="token operator">=</span> e<span class="token punctuation">.</span>detail
      <span class="token comment">// 用户点击了【关闭广告】按钮</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>detail <span class="token operator">&amp;&amp;</span> detail<span class="token punctuation">.</span>isEnded<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 正常播放结束</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onadclose "</span> <span class="token operator">+</span> detail<span class="token punctuation">.</span>isEnded<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 播放中途退出</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onadclose "</span> <span class="token operator">+</span> detail<span class="token punctuation">.</span>isEnded<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onaderror</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 广告加载失败</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onaderror: "</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>提示</strong></p> <ul><li>adpid：1507000689 为app平台测试广告位，其他平台暂不支持测试广告位</li></ul> <h4 id="组件api调用示例"><a class="header-anchor" href="#组件api调用示例">#</a> 组件API调用示例</h4> <p>除了使用组件的点击外，也可以使用API来启动激励视频。</p> <p>比如自定义一个点击位置，然后调用<code>&lt;ad-rewarded-video&gt;</code>组件的方法来播放激励视频。如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ad-rewarded-video</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>adRewardedVideo<span class="token punctuation">"</span></span> <span class="token attr-name">adpid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1507000689<span class="token punctuation">"</span></span> <span class="token attr-name">:preload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">:loadnext</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">v-slot:</span>default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{loading, error}<span class="token punctuation">"</span></span> <span class="token attr-name">@load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onadload<span class="token punctuation">"</span></span> <span class="token attr-name">@close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onadclose<span class="token punctuation">"</span></span> <span class="token attr-name">@error</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onaderror<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ad-error<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{error}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ad-rewarded-video</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isLoading<span class="token punctuation">"</span></span> <span class="token attr-name">:loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isLoading<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showAd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>显示广告<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">isLoading</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>adRewardedVideo<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">showAd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isLoading<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>adRewardedVideo<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">onadload</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'广告数据加载成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">onadclose</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> detail <span class="token operator">=</span> e<span class="token punctuation">.</span>detail
        <span class="token comment">// 用户点击了【关闭广告】按钮</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>detail <span class="token operator">&amp;&amp;</span> detail<span class="token punctuation">.</span>isEnded<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 正常播放结束</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onClose "</span> <span class="token operator">+</span> detail<span class="token punctuation">.</span>isEnded<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">// 播放中途退出</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onClose "</span> <span class="token operator">+</span> detail<span class="token punctuation">.</span>isEnded<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//this.isLoading = true;</span>
        <span class="token comment">//this.$refs.adRewardedVideo.load();</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">onaderror</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 广告加载失败</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.ad-error</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> orangered<span class="token punctuation">;</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="获取广告商名称"><a class="header-anchor" href="#获取广告商名称">#</a> 获取广告商名称</h4> <p><strong>语法</strong></p> <p><code>getProvider()</code></p> <p><strong>说明</strong></p> <p>返回值 为 string 类型</p> <table><thead><tr><th style="text-align:center;">值</th> <th style="text-align:center;">描述</th></tr></thead> <tbody><tr><td style="text-align:center;">china</td> <td style="text-align:center;">国内</td></tr> <tr><td style="text-align:center;">global</td> <td style="text-align:center;">国际</td></tr></tbody></table> <p><strong>示例代码</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ad-rewarded-video</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>adRewardedVideo<span class="token punctuation">"</span></span> <span class="token attr-name">adpid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1507000689<span class="token punctuation">"</span></span> <span class="token attr-name">:loadnext</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-slot:</span>default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{loading, error}<span class="token punctuation">"</span></span> <span class="token attr-name">@load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onload<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span> <span class="token attr-name">:loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>显示广告<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{error}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ad-rewarded-video</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">onload</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'广告数据加载成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> providerName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>adRewardedVideo<span class="token punctuation">.</span><span class="token function">getProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'广告商名称::'</span><span class="token punctuation">,</span> providerName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="显示-隐藏"><a class="header-anchor" href="#显示-隐藏">#</a> 显示/隐藏</h4> <p>激励视频广告默认是隐藏的，在用户主动触发广告后进行显示。</p> <p>只有在用户点击激励视频广告组件上的 关闭广告 按钮时，广告才会关闭。开发者不可控制激励视频广告的隐藏。</p> <h4 id="广告拉取成功与失败"><a class="header-anchor" href="#广告拉取成功与失败">#</a> 广告拉取成功与失败</h4> <p><code>loadnext=true</code> 时激励视频广告组件是自动拉取广告并进行更新的。在组件创建后会拉取一次广告，用户点击 关闭广告 后会去拉取下一条广告。</p> <p>如果拉取失败，通过 <code>@error</code> 注册的回调函数会执行，回调函数的参数是一个包含错误信息的对象。</p> <h4 id="拉取失败-重新拉取"><a class="header-anchor" href="#拉取失败-重新拉取">#</a> 拉取失败，重新拉取</h4> <p>如果组件的某次自动拉取失败，此时可以调用 <code>load()</code> 手动重新拉取广告。</p> <h4 id="监听用户关闭广告"><a class="header-anchor" href="#监听用户关闭广告">#</a> 监听用户关闭广告</h4> <p><img alt="" loading="lazy" src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/rewarded-video-close.png"/></p> <p>只有在用户点击激励视频广告组件上的 关闭广告 按钮时，广告才会关闭。这个事件可以通过 <code>@close</code> 监听。</p> <p><code>@close</code> 的回调函数会传入一个参数 e.detail，e.detail.isEnded 描述广告被关闭时的状态。</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">detail: { isEnded }</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">视频是否是在用户完整观看的情况下被关闭的，true 表示用户是在视频播放完以后关闭的视频，false 表示用户在视频播放过程中关闭了视频</td></tr></tbody></table> <p>isEnded 作为一个客户端参数，仅作为参考，需通过服务器回调来判断最终结果。</p> <p>海外广告的 isEnded 参数并不准确，需要通过服务器收到结果来验证。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ad-rewarded-video</span> <span class="token attr-name">adpid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1507000689<span class="token punctuation">"</span></span> <span class="token attr-name">:loadnext</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-slot:</span>default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{loading, error}<span class="token punctuation">"</span></span> <span class="token attr-name">@close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onadclose<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span> <span class="token attr-name">:loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>显示广告<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{error}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ad-rewarded-video</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">onadclose</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> detail <span class="token operator">=</span> e<span class="token punctuation">.</span>detail
      <span class="token comment">// 用户点击了【关闭广告】按钮</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>detail <span class="token operator">&amp;&amp;</span> detail<span class="token punctuation">.</span>isEnded<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 正常播放结束</span>
        <span class="token comment">// 这里应该联网给予用户激励。且这段代码应该做安全保护，详见下文中的“安全注意”</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onadclose "</span> <span class="token operator">+</span> detail<span class="token punctuation">.</span>isEnded<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 播放中途退出</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onadclose "</span> <span class="token operator">+</span> detail<span class="token punctuation">.</span>isEnded<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="api语法"><a class="header-anchor" href="#api语法">#</a> API语法</h3> <p><code>uni.createRewardedVideoAd(options)</code></p> <p><strong>参数说明</strong></p> <p>options 为 object 类型，属性如下：</p> <table><thead><tr><th style="text-align:center;">属性名</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">必填</th> <th style="text-align:center;">描述</th> <th style="text-align:center;">最低支持版本</th></tr></thead> <tbody><tr><td style="text-align:center;">adpid</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">广告位 id</td> <td style="text-align:center;">App 2.5.11+</td></tr> <tr><td style="text-align:center;">adUnitId</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:center;">广告位 id</td> <td style="text-align:center;">微信小程序2.6.0+, QQ0.1.26+， 抖音1.57.0+</td></tr> <tr><td style="text-align:center;">urlCallback</td> <td style="text-align:center;">object</td> <td style="text-align:center;">否</td> <td style="text-align:center;">服务器回调透传参数</td> <td style="text-align:center;">App 2.5.11+</td></tr></tbody></table> <p><strong>urlCallback说明</strong></p> <table><thead><tr><th style="text-align:center;">属性名</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">描述</th></tr></thead> <tbody><tr><td style="text-align:center;">userId</td> <td style="text-align:center;">string</td> <td style="text-align:center;">透传到服务器端</td></tr> <tr><td style="text-align:center;">extra</td> <td style="text-align:center;">string</td> <td style="text-align:center;">透传到服务器端，不推荐设置过于复杂的字符串，例如<code>JSON.stringify({})</code></td></tr></tbody></table> <p><strong>返回值</strong></p> <p>返回值为 RewarededVideoAd 类型，属性如下：</p> <table><thead><tr><th style="text-align:center;">属性名</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">描述</th> <th style="text-align:center;">最低支持版本</th></tr></thead> <tbody><tr><td style="text-align:center;">show</td> <td style="text-align:center;">Function</td> <td style="text-align:center;">广告创建后默认是隐藏的，可以通过该方法显示广告</td> <td style="text-align:center;">App 2.5.11+, 微信小程序2.6.0+, QQ0.1.26+，抖音1.57.0+</td></tr> <tr><td style="text-align:center;">onLoad</td> <td style="text-align:center;">Function</td> <td style="text-align:center;">绑定广告 load 事件的监听器</td> <td style="text-align:center;">App 2.5.11+, 微信小程序2.6.0+, QQ0.1.26+，抖音1.57.0+</td></tr> <tr><td style="text-align:center;">offLoad</td> <td style="text-align:center;">Function</td> <td style="text-align:center;">解除绑定 load 事件的监听器</td> <td style="text-align:center;">QQ0.1.26+，抖音1.57.0+</td></tr> <tr><td style="text-align:center;">load</td> <td style="text-align:center;">Function</td> <td style="text-align:center;">当广告素材加载出现错误时，可以通过 load 方法手动加载</td> <td style="text-align:center;">App 2.5.11+, 微信小程序2.6.0+, QQ0.1.26+，抖音1.57.0+</td></tr> <tr><td style="text-align:center;">onError</td> <td style="text-align:center;">Function</td> <td style="text-align:center;">绑定 error 事件的监听器</td> <td style="text-align:center;">App 2.5.11+, 微信小程序2.6.0+, QQ0.1.26+，抖音1.57.0+</td></tr> <tr><td style="text-align:center;">onAdClicked</td> <td style="text-align:center;">Function</td> <td style="text-align:center;">绑定广告可点击屏幕区域事件的监听器</td> <td style="text-align:center;">App 2.5.11+</td></tr> <tr><td style="text-align:center;">offError</td> <td style="text-align:center;">Function</td> <td style="text-align:center;">解除绑定 error 事件的监听器</td> <td style="text-align:center;">QQ0.1.26+，抖音1.57.0+</td></tr> <tr><td style="text-align:center;">onClose</td> <td style="text-align:center;">Function</td> <td style="text-align:center;">绑定 close 事件的监听器</td> <td style="text-align:center;">App 2.5.11+, 微信小程序2.6.0+, QQ0.1.26+，抖音1.57.0+</td></tr> <tr><td style="text-align:center;">offClose</td> <td style="text-align:center;">Function</td> <td style="text-align:center;">解除绑定 close 事件的监听器</td> <td style="text-align:center;">QQ0.1.26+，抖音1.57.0+</td></tr></tbody></table> <p><strong>广告创建</strong></p> <p>开发者可以调用 <code>uni.createRewardedVideoAd</code> 创建激励视频广告组件。</p> <p>激励视频广告组件默认是隐藏的，因此可以提前创建，以提前初始化组件。开发者可以在页面的 <code>onReady</code> 事件回调中创建广告实例，并在该页面的生命周期内重复调用该广告实例。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'createRewardedVideoAd'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">onReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>_isLoaded <span class="token operator">=</span> <span class="token boolean">false</span>
          rewardedVideoAd <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_rewardedVideoAd <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">createRewardedVideoAd</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">adpid</span><span class="token operator">:</span> <span class="token string">'1507000689'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">urlCallback</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 服务器回调透传参数</span>
              <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token string">'testuser'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">extra</span><span class="token operator">:</span> <span class="token string">'testdata'</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 仅用于HBuilder基座调试 adpid: '1507000689'</span>
          rewardedVideoAd<span class="token punctuation">.</span><span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_isLoaded <span class="token operator">=</span> <span class="token boolean">true</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onLoad event'</span><span class="token punctuation">)</span>
            <span class="token comment">// 当激励视频被关闭时，默认预载下一条数据，加载完成时仍然触发 `onLoad` 事件</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          rewardedVideoAd<span class="token punctuation">.</span><span class="token function">onError</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onError event'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          rewardedVideoAd<span class="token punctuation">.</span><span class="token function">onClose</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onClose event'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_isLoaded<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>_rewardedVideoAd<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="显示-隐藏-2"><a class="header-anchor" href="#显示-隐藏-2">#</a> 显示/隐藏</h4> <p>激励视频广告组件默认是隐藏的，在用户主动触发广告后，开发者需要调用 RewardedVideoAd.show() 进行显示。</p> <div class="language-js extra-class"><pre class="language-js"><code>rewardedVideoAd<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>只有在用户点击激励视频广告组件上的 关闭广告 按钮时，广告才会关闭。开发者不可控制激励视频广告组件的隐藏。</p> <h4 id="广告拉取成功与失败-2"><a class="header-anchor" href="#广告拉取成功与失败-2">#</a> 广告拉取成功与失败</h4> <p>激励视频广告组件是自动拉取广告并进行更新的。在组件创建后会拉取一次广告，用户点击 关闭广告 后会去拉取下一条广告。</p> <p>如果拉取成功，通过 <code>RewardedVideoAd.onLoad()</code> 注册的回调函数会执行，<code>RewardedVideoAd.show()</code> 返回的 Promise 也会是一个 resolved Promise。两者的回调函数中都没有参数传递。</p> <div class="language-js extra-class"><pre class="language-js"><code>rewardedVideoAd<span class="token punctuation">.</span><span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'激励视频 广告加载成功'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

rewardedVideoAd<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'激励视频 广告显示'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>如果拉取失败，通过 <code>RewardedVideoAd.onError()</code> 注册的回调函数会执行，回调函数的参数是一个包含错误信息的对象。常见异常错误参考文档</p> <div class="language-js extra-class"><pre class="language-js"><code>rewardedVideoAd<span class="token punctuation">.</span><span class="token function">onError</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><code>RewardedVideoAd.show()</code> 返回的 Promise 也会是一个 rejected Promise。</p> <div class="language-js extra-class"><pre class="language-js"><code>rewardedVideoAd<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="拉取失败-重新拉取-2"><a class="header-anchor" href="#拉取失败-重新拉取-2">#</a> 拉取失败，重新拉取</h4> <p>如果组件的某次自动拉取失败，那么之后调用的 show() 将会被 reject。此时可以调用 <code>RewardedVideoAd.load()</code> 手动重新拉取广告。</p> <div class="language-js extra-class"><pre class="language-js"><code>rewardedVideoAd<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    rewardedVideoAd<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> rewardedVideoAd<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'激励视频 广告显示失败'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>如果组件的自动拉取是成功的，那么调用 <code>load()</code> 方法会直接返回一个 resolved Promise，而不会去拉取广告。</p> <div class="language-js extra-class"><pre class="language-js"><code>rewardedVideoAd<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> rewardedVideoAd<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="监听用户关闭广告-2"><a class="header-anchor" href="#监听用户关闭广告-2">#</a> 监听用户关闭广告</h4> <p><img alt="" loading="lazy" src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/rewarded-video-close.png"/></p> <p>只有在用户点击激励视频广告组件上的 关闭广告 按钮时，广告才会关闭。这个事件可以通过 <code>RewardedVideoAd.onClose()</code> 监听。</p> <p><code>RewardedVideoAd.onClose()</code> 的回调函数会传入一个参数 res，res.isEnded 描述广告被关闭时的状态。</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">isEnded</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">视频是否是在用户完整观看的情况下被关闭的，true 表示用户是在视频播放完以后关闭的视频，false 表示用户在视频播放过程中关闭了视频</td></tr></tbody></table> <p>开发者需要根据 res.isEnded 判断是否视频是否播放结束，如果成功播放完毕则应该向用户发放奖励。</p> <div class="language-js extra-class"><pre class="language-js"><code>rewardedVideoAd<span class="token punctuation">.</span><span class="token function">onClose</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 用户点击了【关闭广告】按钮</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>isEnded<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 正常播放结束</span>
      <span class="token comment">// 这里应该联网给予用户激励。且这段代码应该做安全保护，详见下文中的“安全注意”</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// 播放中途退出</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="callback"><a class="header-anchor" href="#callback">#</a> 服务器回调</h3> <p>App平台 3.1.15+ 支持服务器回调</p> <p>激励视频广告可以支持广告服务器到业务服务器的回调，用于业务系统判断是否提供奖励给观看广告的用户。配置服务器回调后，当用户成功看完广告时，广告服务器会访问配置的云函数，通知用户完成观看激励视频。</p> <p>服务器回调将更加安全，可以依赖广告平台的反作弊机制来避免用户模拟观看广告完成的事件。</p> <ul><li><p>业务代码在uniCloud，流程图如下：
<img alt="激励视频回调" loading="lazy" src="https://web-ext-storage.dcloud.net.cn/doc/ad/uniCloud-uniAdCallback-20240726.png"/></p></li> <li><p>业务代码在开发者传统服务器，流程图如下：
<img alt="激励视频回调" loading="lazy" src="https://web-ext-storage.dcloud.net.cn/doc/ad/tr-servers-uniAdCallback-20240726.png"/></p></li></ul> <p>如何使用</p> <ol><li>申请激励视频广告位时开启服务器回调</li> <li>创建激励视频广告时传入回调参数</li></ol> <p>urlCallback示例</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ad-rewarded-video</span> <span class="token attr-name">adpid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1507000689<span class="token punctuation">"</span></span> <span class="token attr-name">:url-callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>urlCallback<span class="token punctuation">"</span></span> <span class="token attr-name">:loadnext</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-slot:</span>default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{loading, error}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span> <span class="token attr-name">:loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>显示广告<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{error}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ad-rewarded-video</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">urlCallback</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token string">'testuser'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">extra</span><span class="token operator">:</span> <span class="token string">'testdata'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="服务器回调基于-unicloud"><a class="header-anchor" href="#服务器回调基于-unicloud">#</a> 服务器回调基于 <a href="https://doc.dcloud.net.cn/uniCloud/" rel="noopener noreferrer" target="_blank">uniCloud<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></h4> <ol><li>由于多家广告商的回调和签名验证逻辑不同，开发者需要写很多逻辑，<code>uniCloud</code> 中的云函数 <code>uniAdCallback</code> 已抹平了差异，开发者按照统一的参数处理即可</li> <li>开发者的服务器有可能响应慢或失去响应造成回调数据丢失, 使用 <code>uniCloud</code> 可以帮助开发者保存一份来自广告商服务器的回调数据到开发者的云数据中，以便开发者主动查询</li> <li><code>uniCloud</code> 可以承载大并发、防DDoS攻击，无需运营人员维护</li></ol> <h4 id="详细流程如下"><a class="header-anchor" href="#详细流程如下">#</a> 详细流程如下:</h4> <ol><li>登陆 uni-ad <a href="https://uniad.dcloud.net.cn/" rel="noopener noreferrer" target="_blank">Web控制台<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li> <li>在应用的广告位项上配置激励视频回调，可选择云函数或传统服务器</li> <li>开通后将在选择的服务空间下自动部署一个加密云函数 <code>uniAdCallback</code></li> <li><code>uniAdCallback</code> 接收广告商服务器回调验证签名并抹平穿山甲/优量汇/快手参数差异，然后以以下方式回调</li></ol> <ul><li>业务在uniCloud：通过<a href="https://doc.dcloud.net.cn/uniCloud/cf-functions?id=callbyfunction" rel="noopener noreferrer" target="_blank">callFunction<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a> 方式调用用户云函数</li> <li>业务在传统服务器：以HTTP(GET)方式请求开发者配置的回调URL</li></ul> <p><strong>提示</strong>：2023/01/29 起，uni-ad Web控制台支持配置传统服务器地址，简化开通流程</p> <p>注意：</p> <ol><li>新建的云函数名称不能使用 <code>uniAdCallback</code></li> <li>服务器通信和前端事件是并行的，前端需要轮询向服务器请求并验证结果</li> <li>不支持在web控制台修改回调的服务空间名称，如果更新需要重新创建广告位</li> <li>看一次广告收到2次回调结果，且 <code>trans_id</code> 相同，产生2次的可能原因有</li></ol> <ul><li>没有正确响应JSON格式数据 <code>{"isValid": true}</code></li> <li>服务器响应过慢，广告商服务器重试</li></ul> <p>提示：</p> <ul><li>多个uni-app项目支持关联一个服务空间，都会调用同一个云函数uniAdCallbck，通过接收回调参数中的属性广告位adpid区分</li></ul> <h4 id="uniadcallbackparameters"><a class="header-anchor" href="#uniadcallbackparameters">#</a> 服务器回调参数</h4> <table><thead><tr><th style="text-align:center;">字段定义</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">字段名称</th> <th style="text-align:center;">备注</th></tr></thead> <tbody><tr><td style="text-align:center;">adpid</td> <td style="text-align:center;">String</td> <td style="text-align:center;">DCloud广告位id</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">provider</td> <td style="text-align:center;">String</td> <td style="text-align:center;">广告服务商</td> <td style="text-align:center;">china、global</td></tr> <tr><td style="text-align:center;">platform</td> <td style="text-align:center;">String</td> <td style="text-align:center;">平台</td> <td style="text-align:center;">iOS、Android、weixin-mp</td></tr> <tr><td style="text-align:center;">sign</td> <td style="text-align:center;">String</td> <td style="text-align:center;">签名</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">trans_id</td> <td style="text-align:center;">String</td> <td style="text-align:center;">交易id</td> <td style="text-align:center;">完成观看的唯一交易ID</td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">String</td> <td style="text-align:center;">用户id</td> <td style="text-align:center;">调用SDK透传，应用对用户的唯一标识</td></tr> <tr><td style="text-align:center;">extra</td> <td style="text-align:center;">String</td> <td style="text-align:center;">自定义数据</td> <td style="text-align:center;">调用SDK传入并透传，如无需要则为空</td></tr></tbody></table> <h4 id="sign"><a class="header-anchor" href="#sign">#</a> 签名生成方式</h4> <div class="language- extra-class"><pre class="language-text"><code>sign = sha256(secret:transid)
</code></pre></div><p>提示：<code>secret</code> 在 <a href="https://uniad.dcloud.net.cn" rel="noopener noreferrer" target="_blank">uni-ad 广告联盟<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a> 对应的广告位，配置激励视频服务器回调后，点击广告位左侧下拉后可以看到</p> <h4 id="签名验证方式"><a class="header-anchor" href="#签名验证方式">#</a> 签名验证方式</h4> <p>通过以下2种方式验证外部服务器与uniCloud安全通讯</p> <ol><li><a href="https://doc.dcloud.net.cn/uniCloud/uni-cloud-s2s.html" rel="noopener noreferrer" target="_blank">uni-cloud-s2s<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a>模块</li> <li>手动获取HTTP(GET)请求参数中的 <code>sign</code> 验证</li></ol> <h4 id="开发者返回数据约定"><a class="header-anchor" href="#开发者返回数据约定">#</a> 开发者返回数据约定</h4> <p>返回JSON格式数据，字段如下：</p> <table><thead><tr><th style="text-align:left;">字段名称</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">字段类型</th> <th style="text-align:left;">备注</th></tr></thead> <tbody><tr><td style="text-align:left;">isValid</td> <td style="text-align:left;">校验结果</td> <td style="text-align:left;">Blean</td> <td style="text-align:left;">判定结果，是否发放奖励，具体发放奖励由用户自己的业务系统决定</td></tr></tbody></table> <h4 id="upgrade"><a class="header-anchor" href="#upgrade">#</a> 老用户升级</h4> <ol><li>在传统服务器增加<a href="/uni-ad/ad-rewarded-video.html#sign">签名校验</a></li> <li>登陆 uni-ad <a href="https://uniad.dcloud.net.cn/" rel="noopener noreferrer" target="_blank">Web控制台<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a>，找到广告位对应的配置激励视频，选择 "业务在传统服务器" 并配置服务器HTTP地址</li></ol> <h4 id="callbackweixin"><a class="header-anchor" href="#callbackweixin">#</a> 微信小程序说明</h4> <p>3.6.8+ 支持微信小程序服务器回调</p> <p>依赖微信提供的安全网络，安全网络依赖微信提供的 <code>access_token</code> <code>session_key</code> <code>encrypt_key</code></p> <p>由于上面三个值之间存在时效和依赖关系，比较复杂，所以需要使用 <a href="https://doc.dcloud.net.cn/uniCloud/uni-open-bridge.html" rel="noopener noreferrer" target="_blank">uni-open-bridge<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a> 来接管</p> <p>注意：</p> <ol><li>需要发行模式</li> <li>需要配置 request 域名白名单，<a href="https://doc.dcloud.net.cn/uniCloud/publish.html" rel="noopener noreferrer" target="_blank">详情<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ol> <h4 id="接入流程-uni-id用户体系"><a class="header-anchor" href="#接入流程-uni-id用户体系">#</a> 接入流程(uni-id用户体系)</h4> <ol><li>项目使用了 <a href="https://doc.dcloud.net.cn/uniCloud/uni-id/summary.html#save-user-token" rel="noopener noreferrer" target="_blank">uni-id-co<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a> 并更新到 1.0.8+</li> <li>使用 <a href="https://doc.dcloud.net.cn/uniCloud/uni-open-bridge.html" rel="noopener noreferrer" target="_blank">uni-open-bridge<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a> 托管三方开放平台数据</li> <li>配置 <a href="https://doc.dcloud.net.cn/uniCloud/secure-network.html" rel="noopener noreferrer" target="_blank">安全网络<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ol> <h4 id="接入流程-传统用户系统"><a class="header-anchor" href="#接入流程-传统用户系统">#</a> 接入流程(传统用户系统)</h4> <ol><li>配置 <a href="https://doc.dcloud.net.cn/uniCloud/uni-open-bridge.html" rel="noopener noreferrer" target="_blank">uni-open-bridge<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a> 托管三方开放平台数据，详情如下:</li></ol> <ul><li>1.1 参考文档<a href="https://doc.dcloud.net.cn/uniCloud/uni-open-bridge.html#uni-open-bridge%E7%9A%84%E4%BD%BF%E7%94%A8%E6%B5%81%E7%A8%8B" rel="noopener noreferrer" target="_blank">uni-open-bridge的使用流程<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a> ，下载插件uni-open-bridge，完成配置并上传服务空间。</li> <li>1.2 云函数URL化配置：在<a href="https://unicloud.dcloud.net.cn" rel="noopener noreferrer" target="_blank">uniCloud 的 web控制台<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a> 服务空间--》云函数/云对象--》uni-open-bridge--》详情--》云函数URL化--》编辑配置<code>/uni-open-bridge</code>保存。</li> <li>1.3 由 传统服务器从微信获取到相关凭据通过 http 的方式主动将微信小程序的 <code>access_token</code> <code>session_key</code> 通过<a href="https://doc.dcloud.net.cn/uniCloud/uni-open-bridge.html#setaccesstoken" rel="noopener noreferrer" target="_blank">setAccessToken<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a>，<a href="https://doc.dcloud.net.cn/uniCloud/uni-open-bridge.html#setsessionkey" rel="noopener noreferrer" target="_blank">setSessionKey<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a> ，同步到 uni-open-bridge，<code>encrypt_key</code> 由 uni-open-bridge 自动向微信服务器获取。</li></ul> <ol start="2"><li>配置 <a href="https://doc.dcloud.net.cn/uniCloud/secure-network.html" rel="noopener noreferrer" target="_blank">安全网络<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li> <li>在微信小程序客户端初始化安全网络并传递 openid，通过 uni.checkSession() 检查登录是否过期，过期后需要重新登录并由开发者服务器将 <code>session_key</code> 同步到 uni-open-bridge</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">onLaunch</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// #ifdef MP-WEIXIN</span>
      <span class="token comment">// 调用自有服务、云函数进行微信登录或以其他方式获取 openid</span>
      <span class="token comment">// 通过调用 uni.login(), 获取 code，然后在服务器上请求微信服务器换取 openid, 获取的 code 只能使用一次</span>
      <span class="token keyword">const</span> openid <span class="token operator">=</span> <span class="token string">''</span>
      <span class="token keyword">await</span> uniCloud<span class="token punctuation">.</span><span class="token function">initSecureNetworkByWeixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">openid</span><span class="token operator">:</span> openid
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// #endif</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="安全注意"><a class="header-anchor" href="#安全注意">#</a> 安全注意</h3> <p>由于激励视频对应着用户奖励，可能会遇到恶意刷激励奖励但实际上并不看广告的情况。此时广告平台不给结算，但开发者却可能把激励送出去。</p> <p>为了提升安全性，建议所有使用激励视频的开发者都要做如下工作来加强保护：</p> <ol><li>前端代码加密。涉及激励相关的，在manifest中配置好要加密的代码文件，打包后会自动加密相应文件。<a href="https://ask.dcloud.net.cn/article/36437" rel="noopener noreferrer" target="_blank">详见<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li> <li>apk加固。即便前端代码加密，原生层引擎的java代码仍然可能被反编译，需要对apk加固。市面上很多加固服务，比如360加固、爱加密加固均可以自行选择。</li> <li>使用uni云端一体安全网络，防止伪造客户端攻击。<a href="https://doc.dcloud.net.cn/uniCloud/secure-network.html" rel="noopener noreferrer" target="_blank">详见<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li> <li>使用如下安全类API，防止客户端被篡改</li></ol> <ul><li>plus.navigator.getSignature 获取应用签名标识。结合在服务器端存放证书信息，可比对判断App的证书是否被重签 <a href="https://www.html5plus.org/doc/zh_cn/navigator.html#plus.navigator.getSignature" rel="noopener noreferrer" target="_blank">规范<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li> <li>plus.navigator.isSimulator 判断App是否运行在模拟器环境 <a href="https://www.html5plus.org/doc/zh_cn/navigator.html#plus.navigator.isSimulator" rel="noopener noreferrer" target="_blank">规范<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li> <li>plus.navigator.isRoot 判断设备是否被root或越狱 <a href="https://www.html5plus.org/doc/zh_cn/navigator.html#plus.navigator.isRoot" rel="noopener noreferrer" target="_blank">规范<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li> <li>plus.networkinfo.isSetProxy 判断设备的网络是否设置了代理 <a href="https://www.html5plus.org/doc/zh_cn/device.html#plus.networkinfo.isSetProxy" rel="noopener noreferrer" target="_blank">规范<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ul> <ol start="4"><li>避免使用短信验证码来识别身份，推荐使用可信度更高的 <a href="/univerify">手机号一键登录</a> 或 <a href="/api/plugins/login#login">微信登录</a></li> <li>必要时使用<a href="https://doc.dcloud.net.cn/uniCloud/frv/dev.html" rel="noopener noreferrer" target="_blank">uni实人认证（活体检测）<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ol> <p>详细的安全方案，请仔细阅读<a href="/tutorial/safe.html">uni安全专题</a></p> <h3 id="aliyun-cf-fee"><a class="header-anchor" href="#aliyun-cf-fee">#</a> 阿里云云函数费用说明</h3> <p>激励视频服务器回调业务涉及费用的部分主要是云函数的使用量、调用次数、出网流量(可选)。 接下来，我们对不同资源，分别进行费用评估。</p> <h4 id="云函数介绍"><a class="header-anchor" href="#云函数介绍">#</a> 云函数介绍</h4> <ol><li>uniAdCallback：uni-ad自动部署，用于接收广告商服务器的 HTTP 请求并抹平参数差异，然后调用开发者云函数或发送HTTP到开发者配置的服务器。</li> <li>userAdCallback: 开发者创建的云函数，用于接收 uniAdCallback，适用于业务系统在uniCloud。</li></ol> <h4 id="流量费"><a class="header-anchor" href="#流量费">#</a> 流量费</h4> <p>我们按照uniCloud官网列出的<a href="https://doc.dcloud.net.cn/uniCloud/price.html#aliyun-postpay" rel="noopener noreferrer" target="_blank">按量计费<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a>规则，可以简单得出如下公式：</p> <ul><li>云函数费用(业务系统在uniCloud)   = 资源使用量 * 0.000110592 + 调用次数 * 0.0133 / 10000</li> <li>云函数费用(业务系统不在uniCloud) = 资源使用量 * 0.000110592 + 调用次数 * 0.0133 / 10000 + 出网流量 * 0.8</li></ul> <p>其中：</p> <ul><li>资源使用量 = 云函数内存（单位为G） * 云函数平均单次执行时长（单位为秒） * 调用次数</li></ul> <p>我们假设如下数据模型：</p> <ul><li>云函数内存：128M，即0.125G （用户可以自定义设置，最低可设置为128M）</li> <li>云函数平均单次执行时长：200毫秒，即0.2秒</li> <li>出网流量：单次请求 1KB</li></ul> <p>云函数费用分2种情况</p> <ol><li>业务系统在uniCloud</li></ol> <p><code>1</code>次激励视频回调费用为：</p> <div class="language- extra-class"><pre class="language-text"><code>云函数费用 = 资源使用量 * 0.000110592  + 调用次数 * 0.0133 / 10000
          = 云函数内存（单位为G） * 云函数平均单次执行时长（单位为秒） * 调用次数 + 调用次数 * 0.0133 / 10000
          = 0.125G * 0.2S * 2 * 0.000110592 + 2 * 0.0133/10000
          = 0.0000055296 + 0.00000266
          = 0.0000081896（元）
</code></pre></div><ol start="2"><li>业务系统不在uniCloud</li></ol> <p>业务不在 uniCloud 时通过 HTTP 方式将回调数据发送到传统服务器，将产生出网流量费用</p> <p><code>1</code>次激励视频回调费用为：</p> <div class="language- extra-class"><pre class="language-text"><code>云函数费用 = 资源使用量 * 0.000110592  + 调用次数 * 0.0133 / 10000 + 出网流量 * 0.8
          = 云函数内存（单位为G） * 云函数平均单次执行时长（单位为秒） * 调用次数 + 调用次数 * 0.0133 / 10000 + 出网流量 * 0.8
          = 0.125G * 0.2S * 0.000110592 + 0.0133/10000 + 1KB * 0.8 / (1024 * 1024)
          = 0.0000027648 + 0.00000133 + 7.62939453125e-7
          = 0.000004857739453125（元）
</code></pre></div><p>注意</p> <ol><li>在实际业务中云函数费用可能会出现稍微偏高，如：开发者的服务器响应过慢时，广告商的服务器会重试，导致调用次数增加</li> <li>业务系统不在uniCloud的费用采用服务器配置升级后的计算方式，<a href="https://doc.dcloud.net.cn/uniCloud/uni-login/price.html" rel="noopener noreferrer" target="_blank">升级参考<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ol> <h4 id="总结"><a class="header-anchor" href="#总结">#</a> 总结</h4> <ol><li>业务系统在<a href="https://doc.dcloud.net.cn/uniCloud/" rel="noopener noreferrer" target="_blank">uniCloud<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ol> <table><thead><tr><th style="text-align:center;">广告回调次数</th> <th style="text-align:center;">云函数费用(元)</th></tr></thead> <tbody><tr><td style="text-align:center;">1</td> <td style="text-align:center;">0.0000081896</td></tr> <tr><td style="text-align:center;">10</td> <td style="text-align:center;">0.000081896</td></tr> <tr><td style="text-align:center;">100</td> <td style="text-align:center;">0.00081896</td></tr> <tr><td style="text-align:center;">1000</td> <td style="text-align:center;">0.0081896</td></tr> <tr><td style="text-align:center;">10000</td> <td style="text-align:center;">0.081896</td></tr></tbody></table> <ol start="2"><li>业务系统不在<a href="https://doc.dcloud.net.cn/uniCloud/" rel="noopener noreferrer" target="_blank">uniCloud<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a>，包含出网流量费用</li></ol> <table><thead><tr><th style="text-align:center;">广告回调次数</th> <th style="text-align:center;">云函数费用+出网流量费用(元)</th></tr></thead> <tbody><tr><td style="text-align:center;">1</td> <td style="text-align:center;">0.000004857739453125</td></tr> <tr><td style="text-align:center;">10</td> <td style="text-align:center;">0.00004857739453125</td></tr> <tr><td style="text-align:center;">100</td> <td style="text-align:center;">0.0004857739453125</td></tr> <tr><td style="text-align:center;">1000</td> <td style="text-align:center;">0.004857739453125</td></tr> <tr><td style="text-align:center;">10000</td> <td style="text-align:center;">0.04857739453125</td></tr></tbody></table> <p>这个费用非常非常低，相比于广告收益，可以忽略。请开发者放心使用。</p> <p>如果免费额度不能满足业务需求，建议用户开启按量付费套餐，因为只用到了云函数或出网流量或数据库</p> <h3 id="注意事项"><a class="header-anchor" href="#注意事项">#</a> 注意事项</h3> <ul><li>iOS平台配置应用使用广告标识（IDFA）详见：<a href="https://ask.dcloud.net.cn/article/36107" rel="noopener noreferrer" target="_blank">https://ask.dcloud.net.cn/article/36107<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li> <li>测试期间请使用测试 <code>adpid</code>，参考测试代码，如果无法显示换个时间再试</li> <li>多次调用 <code>RewardedVideoAd.onLoad()</code>、<code>RewardedVideoAd.onError()</code>、<code>RewardedVideoAd.onClose()</code> 等方法监听广告事件会产生多次事件回调，建议在创建广告后监听一次即可。</li> <li>为避免滥用广告资源，目前每个用户每天可观看激励式视频广告的次数有限，建议展示广告按钮前先判断广告是否拉取成功。</li> <li>App平台，建议每个广告商每个设备每天调用次数不超过<code>15</code>，中间要有间隔时间，否则可能触发系统的反作弊策略导致流量收益下降。</li> <li>快手反作弊23年开始做了调整，原来被风控命中的用户直接不返回广告；现在风控分两种，一种是设备风控，一种是单次广告风控，如果是单次广告风控，单次拉取不给服务器回调，下次拉取广告是还能拉取到的，如测试时遇到快手广告无服务器会回调，请更换设备、网络重新进行测试。</li></ul> <h3 id="案例参考"><a class="header-anchor" href="#案例参考">#</a> 案例参考</h3> <ul><li>项目源码《养猫合成游戏》，拿走就能用，<a href="https://ext.dcloud.net.cn/plugin?id=4095" rel="noopener noreferrer" target="_blank">https://ext.dcloud.net.cn/plugin?id=4095<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li> <li>项目源码《有奖猜歌》，拿走就能用，<a href="https://ext.dcloud.net.cn/plugin?id=4826" rel="noopener noreferrer" target="_blank">https://ext.dcloud.net.cn/plugin?id=4826<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li> <li>项目源码《猜字谜》，拿走就能用，<a href="https://ext.dcloud.net.cn/plugin?id=7996" rel="noopener noreferrer" target="_blank">https://ext.dcloud.net.cn/plugin?id=7996<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></li></ul> <p><strong>错误码</strong></p> <p><a href="https://uniapp.dcloud.net.cn/uni-ad/ad-error-code.html" rel="noopener noreferrer" target="_blank">错误码相关问题排查<span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://gitcode.net/dcloud/unidocs-zh/edit/master/docs/uni-ad/ad-rewarded-video.md" rel="noopener noreferrer" target="_blank">帮助我们改善此页面！</a> <span><svg aria-hidden="true" class="icon outbound" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/4/11 19:55:51</span></div></footer> <!-- --> <div data-v-f6aded24="" id="footNavBox"><div class="footNav" data-v-f6aded24=""><div data-v-f6aded24="" id="footNavClassify"><div class="footNavItem" data-v-f6aded24=""><div class="navItemTitle" data-v-f6aded24="">开发产品</div><div class="navLine" data-v-f6aded24=""></div><div class="navItemDetailBox" data-v-f6aded24=""><a class="navItemDetail" data-v-f6aded24="" href="https://www.dcloud.io/hbuilderx.html" target="_blank">HBuilderX</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.net.cn/" target="_blank">uni-app</a><a class="navItemDetail" data-v-f6aded24="" href="https://doc.dcloud.net.cn/uni-app-x/" target="_blank">uni-app x</a><a class="navItemDetail" data-v-f6aded24="" href="https://doc.dcloud.net.cn/uniCloud/" target="_blank">uniCloud</a><a class="navItemDetail" data-v-f6aded24="" href="https://nativesupport.dcloud.net.cn/" target="_blank">uniMPsdk</a><a class="navItemDetail" data-v-f6aded24="" href="https://www.dcloud.io/runtime.html" target="_blank">5+Runtime</a><a class="navItemDetail" data-v-f6aded24="" href="https://www.dcloud.io/wap2app.html?platform=wap2app" target="_blank">wap2app</a><a class="navItemDetail" data-v-f6aded24="" href="https://www.dcloud.io/mui.html" target="_blank">MUI</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.net.cn/uniCloud/uni-id" target="_blank">uni-id</a><a class="navItemDetail" data-v-f6aded24="" href="https://doc.dcloud.net.cn/uniCloud/uni-cdn/intro.html" target="_blank">uni-cdn</a><a class="navItemDetail" data-v-f6aded24="" href="https://doc.dcloud.net.cn/uniCloud/uni-pay/uni-app.html" target="_blank">uni-pay</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.net.cn/unipush" target="_blank">uni-push</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.io/univerify" target="_blank">uni一键登陆</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.net.cn/uniCloud/frv/intro.html" target="_blank">uni实人认证</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.net.cn/uniCloud/send-sms" target="_blank">sms</a><a class="navItemDetail" data-v-f6aded24="" href="https://ext.dcloud.net.cn/plugin?id=5057" target="_blank">uni-starter</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.net.cn/uniCloud/admin" target="_blank">uni-admin</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.io/uniCloud/upgrade-center" target="_blank">uni-upgrade-center</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.net.cn/uniCloud/uni-im" target="_blank">uni-im</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.net.cn/uniCloud/uni-ai" target="_blank">uni-ai</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.net.cn/uniCloud/uni-cms" target="_blank">uni-cms</a><a class="navItemDetail" data-v-f6aded24="" href="https://doc.dcloud.net.cn/uniCloud/unicloud-map.html" target="_blank">uniCloud-map</a><a class="navItemDetail" data-v-f6aded24="" href="https://ext.dcloud.net.cn/plugin?id=3851" target="_blank">uni-search</a></div></div></div> <div data-v-f6aded24="" id="aboutusBox"><div class="footNavItem" data-v-f6aded24=""><div class="navItemTitle" data-v-f6aded24="">运营产品</div><div class="navLine" data-v-f6aded24=""></div><div class="navItemDetailBox" data-v-f6aded24=""><a class="navItemDetail" data-v-f6aded24="" href="https://uniad.dcloud.net.cn/login" target="_blank">uni-ad</a><a class="navItemDetail" data-v-f6aded24="" href="https://tongji.dcloud.net.cn/" target="_blank">uni统计</a><a class="navItemDetail" data-v-f6aded24="" href="https://www.dcloud.io/dportal.html" target="_blank">uni发行</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.net.cn/tutorial/safe.html" target="_blank">uni安全专题</a></div></div><div class="footNavItem" data-v-f6aded24=""><div class="navItemTitle" data-v-f6aded24="">开发者服务</div><div class="navLine" data-v-f6aded24=""></div><div class="navItemDetailBox" data-v-f6aded24=""><a class="navItemDetail" data-v-f6aded24="" href="https://ask.dcloud.net.cn/explore/" target="_blank">问答社区</a><a class="navItemDetail" data-v-f6aded24="" href="https://dev.dcloud.net.cn/" target="_blank">开发者后台</a></div></div><div class="footNavItem" data-v-f6aded24=""><div class="navItemTitle" data-v-f6aded24="">技术文档</div><div class="navLine" data-v-f6aded24=""></div><div class="navItemDetailBox" data-v-f6aded24=""><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.io/" target="_blank">uni-app文档</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.io/uniCloud/README" target="_blank">uniCloud文档</a><a class="navItemDetail" data-v-f6aded24="" href="https://nativesupport.dcloud.net.cn/" target="_blank">原生开发者支持文档</a><a class="navItemDetail" data-v-f6aded24="" href="https://hx.dcloud.net.cn/" target="_blank">HBuilder文档</a></div></div><div class="footNavItem" data-v-f6aded24=""><div class="navItemTitle" data-v-f6aded24="">生态服务</div><div class="navLine" data-v-f6aded24=""></div><div class="navItemDetailBox" data-v-f6aded24=""><a class="navItemDetail" data-v-f6aded24="" href="https://ext.dcloud.net.cn/" target="_blank">插件市场</a><a class="navItemDetail" data-v-f6aded24="" href="https://open.dcloud.net.cn/pages/login/login" target="_blank">OAuth用户开放平台</a></div></div></div></div> <div class="hbLogo" data-v-f6aded24=""></div> <div class="introduce" data-v-f6aded24=""><div class="introduce-item" data-v-f6aded24=""><span class="introduce-title" data-v-f6aded24="">关于我们：</span> <a class="navItemDetail" data-v-f6aded24="" href="https://dcloud.io/" target="_blank">
						DCloud官网
					</a><a class="navItemDetail" data-v-f6aded24="" href="https://uniapp.dcloud.io/case" target="_blank">
						案例
					</a><a class="navItemDetail" data-v-f6aded24="" href="https://dev.dcloud.net.cn/wish/?channel=uniapp" target="_blank">
						需求墙
					</a><a class="navItemDetail" data-v-f6aded24="" href="https://dcloud.io/license/DCloud.html" target="_blank">
						许可协议
					</a><a class="navItemDetail" data-v-f6aded24="" href="https://www.dcloud.io/hr/" target="_blank">
						加入我们
					</a><a class="navItemDetail" data-v-f6aded24="" href="https://dev.dcloud.net.cn/sponsor/" target="_blank">
						赞助我们
					</a></div><div class="introduce-item" data-v-f6aded24=""><span class="introduce-title" data-v-f6aded24="">联系我们：</span> <a class="navItemDetail" data-v-f6aded24="" href="mailto:bd@dcloud.io" target="_blank">
						商务合作：bd@dcloud.io
					</a><a class="navItemDetail" data-v-f6aded24="" href="mailto:uniad@dcloud.io" target="_blank">
						广告合作：uniad@dcloud.io
					</a></div></div> <div data-v-f6aded24=""><div class="companyBox" data-v-f6aded24=""><span class="companyInfo" data-v-f6aded24=""><span class="companyInfo-dcloud" data-v-f6aded24="">DCloud.io</span> 数字天堂（北京）网络技术有限公司是</span> <div class="companyInfo" data-v-f6aded24="" style="display: inline; margin-left: 5px"><a class="html5" data-v-f6aded24="" href="//www.html5plus.org/" target="_blank">HTML5中国产业联盟</a>
				发起单位
			</div></div> <div class="beianBox" data-v-f6aded24=""><a class="beian" data-v-f6aded24="" href="https://beian.miit.gov.cn/#/Integrated/index" id="domain" target="_blank">
</a> <div class="domainImgBox" data-v-f6aded24=""><img class="domainImg" data-v-f6aded24="" src="https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/jgwab.png"/> <a class="beian" data-v-f6aded24="" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010802035340" target="_blank">京公网安备：11010802035340号 </a></div> <span class="anbaoInfo" data-v-f6aded24="">  国家信息安全等级保护三级，证书编号：11010813802-20001</span></div></div></div></main> <div class="sticker vuepress-toc"><h5>本页导读</h5> <div class="vuepress-toc-item vuepress-toc-h2 active"><a href="/uni-ad/ad-rewarded-video.html#激励视频广告" style="padding-left:0rem;" title="激励视频广告"><span>激励视频广告</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/uni-ad/ad-rewarded-video.html#简介" style="padding-left:1rem;" title="简介"><span>简介</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/uni-ad/ad-rewarded-video.html#流程概述" style="padding-left:1rem;" title="流程概述"><span>流程概述</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/uni-ad/ad-rewarded-video.html#组件语法" style="padding-left:1rem;" title="组件语法"><span>组件语法</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#简单示例" style="padding-left:2rem;" title="简单示例"><span>简单示例</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#完整示例" style="padding-left:2rem;" title="完整示例"><span>完整示例</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#组件api调用示例" style="padding-left:2rem;" title="组件API调用示例"><span>组件API调用示例</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#获取广告商名称" style="padding-left:2rem;" title="获取广告商名称"><span>获取广告商名称</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#显示-隐藏" style="padding-left:2rem;" title="显示/隐藏"><span>显示/隐藏</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#广告拉取成功与失败" style="padding-left:2rem;" title="广告拉取成功与失败"><span>广告拉取成功与失败</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#拉取失败-重新拉取" style="padding-left:2rem;" title="拉取失败，重新拉取"><span>拉取失败，重新拉取</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#监听用户关闭广告" style="padding-left:2rem;" title="监听用户关闭广告"><span>监听用户关闭广告</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/uni-ad/ad-rewarded-video.html#api语法" style="padding-left:1rem;" title="API语法"><span>API语法</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#显示-隐藏-2" style="padding-left:2rem;" title="显示/隐藏"><span>显示/隐藏</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#广告拉取成功与失败-2" style="padding-left:2rem;" title="广告拉取成功与失败"><span>广告拉取成功与失败</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#拉取失败-重新拉取-2" style="padding-left:2rem;" title="拉取失败，重新拉取"><span>拉取失败，重新拉取</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#监听用户关闭广告-2" style="padding-left:2rem;" title="监听用户关闭广告"><span>监听用户关闭广告</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/uni-ad/ad-rewarded-video.html#callback" style="padding-left:1rem;" title="服务器回调"><span>服务器回调</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#服务器回调基于-unicloud" style="padding-left:2rem;" title="服务器回调基于 uniCloud"><span>服务器回调基于 uniCloud</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#详细流程如下" style="padding-left:2rem;" title="详细流程如下:"><span>详细流程如下:</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#uniadcallbackparameters" style="padding-left:2rem;" title="服务器回调参数"><span>服务器回调参数</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#sign" style="padding-left:2rem;" title="签名生成方式"><span>签名生成方式</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#签名验证方式" style="padding-left:2rem;" title="签名验证方式"><span>签名验证方式</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#开发者返回数据约定" style="padding-left:2rem;" title="开发者返回数据约定"><span>开发者返回数据约定</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#upgrade" style="padding-left:2rem;" title="老用户升级"><span>老用户升级</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#callbackweixin" style="padding-left:2rem;" title="微信小程序说明"><span>微信小程序说明</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#接入流程-uni-id用户体系" style="padding-left:2rem;" title="接入流程(uni-id用户体系)"><span>接入流程(uni-id用户体系)</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#接入流程-传统用户系统" style="padding-left:2rem;" title="接入流程(传统用户系统)"><span>接入流程(传统用户系统)</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/uni-ad/ad-rewarded-video.html#安全注意" style="padding-left:1rem;" title="安全注意"><span>安全注意</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/uni-ad/ad-rewarded-video.html#aliyun-cf-fee" style="padding-left:1rem;" title="阿里云云函数费用说明"><span>阿里云云函数费用说明</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#云函数介绍" style="padding-left:2rem;" title="云函数介绍"><span>云函数介绍</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#流量费" style="padding-left:2rem;" title="流量费"><span>流量费</span></a></div><div class="vuepress-toc-item vuepress-toc-h4"><a href="/uni-ad/ad-rewarded-video.html#总结" style="padding-left:2rem;" title="总结"><span>总结</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/uni-ad/ad-rewarded-video.html#注意事项" style="padding-left:1rem;" title="注意事项"><span>注意事项</span></a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="/uni-ad/ad-rewarded-video.html#案例参考" style="padding-left:1rem;" title="案例参考"><span>案例参考</span></a></div></div></div><div class="global-ui"><!-- --></div></div>
<script defer="" src="/2025-04-16_11-55-32/assets/js/app.bcd0c5c9.js"></script><script defer="" src="/2025-04-16_11-55-32/assets/js/vendors~layout-Layout.e5b3d2d6.js"></script><script defer="" src="/2025-04-16_11-55-32/assets/js/530.e186095e.js"></script><script defer="" src="/2025-04-16_11-55-32/assets/js/docs/uni-ad/ad-rewarded-video.df7ccc79.js"></script>
</body>
</html>
